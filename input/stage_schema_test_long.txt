

CREATE TABLE `client_AffiliateInvoiceReactive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `InvoiceNum` varchar(50) DEFAULT NULL COMMENT 'The number of invoice',
  `InvoiceDate` datetime DEFAULT NULL COMMENT 'The date of invoice',
  `InvoiceText` varchar(4096) DEFAULT NULL COMMENT 'The comment of reactive work order',
  `SubInvoiceNum` varchar(50) DEFAULT NULL COMMENT 'The number of sub invoice',
  `SubInvoiceDate` datetime DEFAULT NULL COMMENT 'The date of sub invoice',
  `LastApproveUserId` int unsigned DEFAULT NULL COMMENT 'Inactive',
  `LastApproveTime` datetime DEFAULT NULL COMMENT 'Inactive',
  `LastApproveNote` varchar(1024) DEFAULT NULL COMMENT 'Approve comment',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `StatusId` smallint DEFAULT NULL COMMENT 'Invoice status id',
  `SubmitUserId` int unsigned DEFAULT NULL COMMENT 'Invoice submit user id',
  `SubmitDate` datetime DEFAULT NULL COMMENT 'Invoice submit date',
  `ReviewUserId` int unsigned DEFAULT NULL COMMENT 'Inactive',
  `ReviewDate` datetime DEFAULT NULL COMMENT 'Inactive',
  `PurposeId` smallint DEFAULT NULL COMMENT 'The purpose of reactive work order, data_Purpose.Id',
  `GLCodeId` int unsigned DEFAULT NULL COMMENT 'Inactive',
  `IsPermitRequired` tinyint(1) DEFAULT NULL COMMENT 'Whether the permit is required',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_AffiliateInvoiceReactive_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_AffiliateInvoiceReactive_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_AffiliateInvoiceReactive_PurposeId` (`PurposeId`),
  KEY `FK_client_AffiliateInvoiceReactive_GLCodeId` (`GLCodeId`),
  CONSTRAINT `FK_client_AffiliateInvoiceReactive_GLCodeId` FOREIGN KEY (`GLCodeId`) REFERENCES `client_GLCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AffiliateInvoiceReactive_PurposeId` FOREIGN KEY (`PurposeId`) REFERENCES `data_Purpose` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AffiliateInvoiceReactive_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Billing;The invoice information of reactive work order from affiliate';

CREATE TABLE `client_AffiliateInvoiceReactiveAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceId` int unsigned NOT NULL,
  `Name` varchar(100) DEFAULT NULL,
  `Url` varchar(300) DEFAULT NULL,
  `ContentType` varchar(100) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `Notes` varchar(1000) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_AffiliateInvoiceReactiveAttachment_InvoiceId` (`InvoiceId`),
  CONSTRAINT `FK_client_AffiliateInvoiceReactiveAttachment_InvoiceId` FOREIGN KEY (`InvoiceId`) REFERENCES `client_AffiliateInvoiceReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_AffiliateInvoiceReactiveAttribute` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AffiliateInvoiceReactiveId` int unsigned NOT NULL COMMENT 'client_AffiliateInvoiceReactive.Id',
  `ResolutionCodeId` smallint DEFAULT NULL COMMENT 'Resolution type code id, data_ResolutionCode.Id',
  `AffiliateInvoiceTemplateId` int unsigned DEFAULT NULL COMMENT 'The invoice template of affiliate, affiliate_InvoiceTemplate.Id',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_AffiliateInvoiceReactiveAttribute` (`AffiliateInvoiceReactiveId`),
  CONSTRAINT `FK_client_AffiliateInvoiceReactiveAttribute1` FOREIGN KEY (`AffiliateInvoiceReactiveId`) REFERENCES `client_AffiliateInvoiceReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Billing;The invoice attribute of reactive work order from affiliate';

CREATE TABLE `client_AffiliateInvoiceReactiveItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceId` int unsigned NOT NULL COMMENT 'client_AffiliateInvoiceReactive.Id',
  `ChargeCategoryId` smallint NOT NULL COMMENT 'data_ChargeCategory.Id',
  `Qty` decimal(18,2) DEFAULT NULL COMMENT 'The quantity of invoice',
  `Description` varchar(1000) DEFAULT NULL COMMENT 'The comment of reactive work order item',
  `UnitPrice` decimal(18,2) DEFAULT NULL COMMENT 'The unit price of invoice',
  `TaxRate` decimal(18,5) DEFAULT NULL COMMENT 'The tax rate of invoice',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `OtherName` varchar(100) DEFAULT NULL COMMENT 'Other name of description',
  `ServiceCodeResolutionMapId` int unsigned DEFAULT NULL COMMENT 'client_ServiceCodeResolutionMap.Id',
  `SourceSysEnumId` smallint NOT NULL DEFAULT '10000' COMMENT 'data_SysEnum.Id',
  `PriceModifierTypeId` smallint DEFAULT NULL COMMENT 'invoice price modifier type ID 1.overtime 2.holiday',
  `HolidayDescription` varchar(200) DEFAULT NULL COMMENT 'Holiday Description and Holiday',
  `HistoryTradeRate` decimal(18,2) DEFAULT NULL COMMENT 'History tradeRate',
  PRIMARY KEY (`Id`),
  KEY `FK_client_AffiliateInvoiceReactiveItem_InvoiceId` (`InvoiceId`),
  KEY `FK_client_AffiliateInvoiceReactiveItem_ChargeCategoryId` (`ChargeCategoryId`),
  KEY `FK_client_AffiliateInvoiceReactiveItem_ResolutionMapId_idx` (`ServiceCodeResolutionMapId`),
  CONSTRAINT `FK_client_AffiliateInvoiceReactiveItem_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AffiliateInvoiceReactiveItem_InvoiceId` FOREIGN KEY (`InvoiceId`) REFERENCES `client_AffiliateInvoiceReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AffiliateInvoiceReactiveItem_ResolutionMapId` FOREIGN KEY (`ServiceCodeResolutionMapId`) REFERENCES `client_ServiceCodeResolutionMap` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Billing;The invoice item of reactive work order from affiliate';

CREATE TABLE `client_AffiliateInvoiceReactiveLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceId` int unsigned NOT NULL,
  `Log` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_AffiliateInvoiceReactiveLog_InvoiceId` (`InvoiceId`),
  CONSTRAINT `PK_client_AffiliateInvoiceReactiveLog_InvoiceId` FOREIGN KEY (`InvoiceId`) REFERENCES `client_AffiliateInvoiceReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;


CREATE TABLE `client_AffiliateProposalReactive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ProposalNum` varchar(50) DEFAULT NULL COMMENT 'the NO. of proposal',
  `ProposalDate` datetime DEFAULT NULL COMMENT 'Date of creating proposal',
  `ProposalText` varchar(4096) DEFAULT NULL COMMENT 'Description of  proposal',
  `Status` int DEFAULT NULL COMMENT 'Status of proposal. 0:Draft, 1:Approved, 2:Declined; 3:Submitted, 4:Pre-Approved',
  `LastApproveUserId` int unsigned DEFAULT NULL COMMENT 'The userid of the person who approved the proposal last time',
  `LastApproveTime` datetime DEFAULT NULL COMMENT 'The last time the proposal was approved',
  `LastApproveNote` varchar(1024) DEFAULT NULL COMMENT 'The note of the proposal when it was approved last time',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `SubmitUserId` int unsigned DEFAULT NULL COMMENT 'The user id of the person who submit the proposal',
  `SubmitDate` datetime DEFAULT NULL COMMENT 'The date of submitting proposal',
  `ReviewUserId` int unsigned DEFAULT NULL COMMENT 'The userid of the person who review the proposal',
  `ReviewDate` datetime DEFAULT NULL COMMENT 'The date of reviewing proposal',
  `PurposeId` smallint DEFAULT NULL COMMENT 'The id of the purpose of proposal. 1:Replace,2:Repair',
  `DeclineUserId` int unsigned DEFAULT NULL COMMENT 'The userid of the person who decline the proposal',
  `DeclineDate` datetime DEFAULT NULL COMMENT 'The date of declining the proposal',
  `DeclineNotes` varchar(1024) DEFAULT NULL COMMENT 'The note of declinng the proposal',
  `IsLaborMaterialPricing` tinyint(1) DEFAULT NULL COMMENT 'Wether the proposal is labor material pricing',
  `IsPermitRequired` tinyint(1) DEFAULT NULL COMMENT 'Wether the proposal is permit required',
  `IsOnSiteProposal` tinyint(1) DEFAULT NULL COMMENT 'Wether the proposal is on site proposal',
  `IsReSubmit` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the proposal was resubmitted',
  `DeclineReasonId` smallint DEFAULT NULL COMMENT 'The id of the reason of declining the proposal',
  `IsBlindQuote` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether quote is submitted without check-in. 1:yes,0:no',
  `SourceTypeId` smallint NOT NULL DEFAULT '0' COMMENT 'from proposal creation source. 0 :moon create, 1: DE Proposal',
  PRIMARY KEY (`Id`),
  KEY `FK_client_AffiliateProposalReactive_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_AffiliateProposalReactive_PurposeId` (`PurposeId`),
  KEY `ID_client_AffiliateProposalReactive_ProposalNum` (`ProposalNum`),
  CONSTRAINT `client_AffiliateProposalReactive_ibfk_1` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AffiliateProposalReactive_PurposeId` FOREIGN KEY (`PurposeId`) REFERENCES `data_Purpose` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Proposal;Store affiliate proposal information';

CREATE TABLE `client_AffiliateProposalReactiveAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ProposalId` int unsigned NOT NULL,
  `Name` varchar(100) DEFAULT NULL,
  `Url` varchar(300) DEFAULT NULL,
  `ContentType` varchar(100) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `Notes` varchar(1000) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_AffiliateProposalReacitveAttachment_ProposalId` (`ProposalId`),
  CONSTRAINT `FK_client_AffiliateProposalReacitveAttachment_ProposalId` FOREIGN KEY (`ProposalId`) REFERENCES `client_AffiliateProposalReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_AffiliateProposalReactiveAttribute` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AffiliateProposalReactiveId` int unsigned NOT NULL COMMENT 'client_aAffilieteProposalReacitive.Id',
  `ResolutionCodeId` smallint DEFAULT NULL COMMENT 'In in the table data_ResolutionCode',
  `AffiliateInvoiceTemplateId` int unsigned DEFAULT NULL COMMENT 'Id in the table client_affiliateInvoiceTemplate',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `RTNDays` smallint unsigned DEFAULT NULL COMMENT 'Once your proposal is accproved,how many days do you think it will be before making the return trip needed?',
  `RTNReason` varchar(400) DEFAULT NULL COMMENT 'The primary reason for the estimated duration(RTNDays)',
  `RTNVisits` smallint unsigned DEFAULT NULL COMMENT 'Total number of additional visits after the return trip needed (Estimated)',
  `AdditionalWork` tinyint(1) DEFAULT NULL COMMENT 'Is any additional work needed by other vendors before or after your work is completed?',
  `UtilitiesImpacted` varchar(10) DEFAULT NULL COMMENT 'Will any utilities be impacted?',
  `CustomerPrepare` varchar(4096) DEFAULT NULL COMMENT 'What can the customer do to prepare',
  `AdditionalWorkDesc` varchar(400) DEFAULT NULL COMMENT 'What additional work is needed?',
  `IsProcessedAdditionalQuestion` tinyint(1) DEFAULT NULL COMMENT 'Need an identifier to record if additional issues have been processed',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_AffiliateProposalReactiveAttribute` (`AffiliateProposalReactiveId`),
  CONSTRAINT `FK_client_AffiliateProposalReactiveAttribute1` FOREIGN KEY (`AffiliateProposalReactiveId`) REFERENCES `client_AffiliateProposalReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Proposal;Additional informations on the affiliate proposals of reactive work orders';

CREATE TABLE `client_AffiliateProposalReactiveDeclineInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ProposalId` int unsigned NOT NULL COMMENT 'The id of proposal',
  `DeclineReasonId` smallint NOT NULL COMMENT 'The reason why the proposal was declined. data_AffiliateProposalReactiveRejection.Id',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_AffiliateProposalReactiveDeclineInfo` (`WOReactiveId`),
  KEY `ID_client_AffiliateProposalReactiveDeclineInfo1` (`ProposalId`),
  KEY `ID_client_AffiliateProposalReactiveDeclineInfo2` (`DeclineReasonId`),
  KEY `ID_client_AffiliateProposalReactiveDeclineInfo3` (`CreateDate`)
)  COMMENT='Proposal;Decline reason of proposal';

CREATE TABLE `client_AffiliateProposalReactiveDraft` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL COMMENT 'Reactive wo id',
  `ProposalId` int unsigned NOT NULL COMMENT 'Reactive wo Proposal id',
  `DraftContent` text,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_AffiliateProposalReactiveDraft_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_AffiliateProposalReactiveDraft_ProposalId` (`ProposalId`),
  CONSTRAINT `FK_client_AffiliateProposalReactiveDraft_ProposalId` FOREIGN KEY (`ProposalId`) REFERENCES `client_AffiliateProposalReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AffiliateProposalReactiveDraft_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Save Proposal Draft to realize real-time saving of Proposal data';

CREATE TABLE `client_AffiliateProposalReactiveItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ProposalId` int unsigned NOT NULL COMMENT 'The id of proposal',
  `ChargeCategoryId` smallint NOT NULL COMMENT 'The charged category in the proposal. data_chargecategory.Id',
  `Qty` decimal(18,2) DEFAULT NULL COMMENT 'The quantity of the item',
  `Description` varchar(1000) DEFAULT NULL COMMENT 'The description of the proposal item',
  `UnitPrice` decimal(18,2) DEFAULT NULL COMMENT 'The unit price of the proposal item',
  `TaxRate` decimal(18,5) DEFAULT NULL COMMENT 'The tax rate of the proposal item',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsIncurred` tinyint(1) NOT NULL COMMENT 'Wether the proposal item cost is incurred',
  `OtherName` varchar(100) DEFAULT NULL COMMENT 'Other name of the proposal item',
  `ServiceCodeResolutionMapId` int unsigned DEFAULT NULL COMMENT 'inactive',
  `SourceSysEnumId` smallint NOT NULL DEFAULT '10000' COMMENT '10000:UserAdd,10001:CustomerTemplate,10002:ContractTemplate',
  `PriceModifierTypeId` smallint DEFAULT NULL COMMENT 'proposal price modifier type ID 1.overtime 2.holiday',
  `HolidayDescription` varchar(200) DEFAULT NULL COMMENT 'Holiday Description and Holiday',
  `HistoryTradeRate` decimal(18,2) DEFAULT NULL COMMENT 'History tradeRate',
  PRIMARY KEY (`Id`),
  KEY `FK_client_AffiliateProposalReactiveItem_ProposalId` (`ProposalId`),
  KEY `FK_client_AffiliateProposalReactiveItem_ChargeCategoryId` (`ChargeCategoryId`),
  KEY `FK_client_AffiliateProposalReactiveItem_ResolutionMapId_idx` (`ServiceCodeResolutionMapId`),
  CONSTRAINT `FK_client_AffiliateProposalReactiveItem_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AffiliateProposalReactiveItem_ProposalId` FOREIGN KEY (`ProposalId`) REFERENCES `client_AffiliateProposalReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AffiliateProposalReactiveItem_ResolutionMapId` FOREIGN KEY (`ServiceCodeResolutionMapId`) REFERENCES `client_ServiceCodeResolutionMap` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Proposal;The information of affiliate proposal item';

CREATE TABLE `client_AffiliateProposalReactiveLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ProposalId` int unsigned NOT NULL,
  `Log` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_AffiliateProposalReactiveLog_ProposalId` (`ProposalId`),
  CONSTRAINT `PK_client_AffiliateProposalReactiveLog_ProposalId` FOREIGN KEY (`ProposalId`) REFERENCES `client_AffiliateProposalReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_AffiliateSchedule` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOId` int unsigned NOT NULL COMMENT 'Id in the table client_WOReactive',
  `AffiliateId` int unsigned NOT NULL COMMENT 'Id in the table affiliate_Profile',
  `TechnitionId` int unsigned NOT NULL COMMENT 'id in the table sms_UserProfile',
  `StartTime` datetime DEFAULT NULL COMMENT 'The start time of the technician schedule time',
  `EndTime` datetime DEFAULT NULL COMMENT 'The end time of the technician schedule time',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `IsByAutoSchedule` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'If the value=1 means this work order is scheduled by S&O system',
  `OnSiteTime` int DEFAULT NULL COMMENT 'The estimated on site time',
  PRIMARY KEY (`Id`),
  KEY `FK_client_AffiliateSchedule_AffiliateId` (`AffiliateId`),
  KEY `FK_client_AffiliateSchedule_TechnitionId` (`TechnitionId`),
  KEY `ID_client_AffiliateSchedule_WOId` (`WOId`),
  CONSTRAINT `FK_client_AffiliateSchedule_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AffiliateSchedule_TechnitionId` FOREIGN KEY (`TechnitionId`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store the scheduled time period that a technician will on site to the location of a work order';

CREATE TABLE `client_AssetConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned DEFAULT NULL COMMENT 'When the field value is null, the default configuration is used',
  `ServiceCategoryId` smallint DEFAULT NULL,
  `EquipmentTypeId` smallint DEFAULT NULL COMMENT 'id from data_AssetEquipmentType;',
  `Rank` smallint unsigned NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_AssetConfig` (`ClientId`,`ServiceCategoryId`,`EquipmentTypeId`),
  CONSTRAINT `FK_client_AssetConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='AssetConfig; Mapping for client ->category->equipment';

CREATE TABLE `client_AssetConfigModule` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetConfigId` int unsigned NOT NULL,
  `ModuleId` int unsigned NOT NULL,
  `Rank` smallint unsigned NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_AssetConfigModule` (`AssetConfigId`,`ModuleId`),
  KEY `FK_client_AssetConfigModule_ModuleId` (`ModuleId`),
  CONSTRAINT `FK_client_AssetConfigModule_AssetConfigId` FOREIGN KEY (`AssetConfigId`) REFERENCES `client_AssetConfig` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AssetConfigModule_ModuleId` FOREIGN KEY (`ModuleId`) REFERENCES `data_AssetConfigModule` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='The module for equipment mapping';

CREATE TABLE `client_AssetConfigModuleField` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ModuleId` int unsigned NOT NULL COMMENT 'This field is deprecated',
  `FieldId` int unsigned NOT NULL,
  `IsMandatory` tinyint unsigned NOT NULL COMMENT '0:flase,1:true',
  `IsVisible` tinyint unsigned NOT NULL COMMENT '0:flase,1:true',
  `DependenceFieldId` int unsigned DEFAULT NULL COMMENT 'Only the dependence field is visible, this field can show in module',
  `Rank` smallint unsigned NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `AssetConfigModuleId` int unsigned DEFAULT NULL COMMENT 'mapping to client_AssetConfigModule',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_AssetConfigModuleField` (`ModuleId`,`FieldId`),
  KEY `FK_client_AssetConfigModuleField_FieldId` (`FieldId`),
  CONSTRAINT `FK_client_AssetConfigModuleField_FieldId` FOREIGN KEY (`FieldId`) REFERENCES `data_AssetConfigField` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_AssetConfigModuleField_ModuleId` FOREIGN KEY (`ModuleId`) REFERENCES `data_AssetConfigModule` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='AssetConfig; The field for module';




CREATE TABLE `client_BatchInvoice` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `BusinessUnitId` smallint DEFAULT NULL COMMENT 'data_BusinessUnit.Id',
  `BatchInvoiceNum` varchar(100) NOT NULL COMMENT 'The batch invoice number',
  `SearchStartDate` date DEFAULT NULL COMMENT 'Search for the start time range of included work orders',
  `SearchEndDate` date DEFAULT NULL COMMENT 'Search for the end time range of included work orders',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `TypeId` smallint DEFAULT NULL COMMENT 'Batch invoice type',
  `DepartmentId` smallint DEFAULT NULL COMMENT 'data_Department.Id',
  `GPARStatus` tinyint(1) DEFAULT NULL COMMENT 'Inactive',
  `GPAPStatus` tinyint(1) DEFAULT NULL COMMENT 'Inactive',
  `AvalaraBatchId` int unsigned DEFAULT NULL,
  `AvalaraBatchStatusId` smallint DEFAULT NULL COMMENT 'Batch status id, data_AvalaraBatchStatus.Id',
  `IsNeedSaveToAvalara` tinyint(1) DEFAULT '0',
  `FundingGroupNumber` int unsigned DEFAULT NULL COMMENT 'Funding group number',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_BatchInvoice_BatchInvoiceNum` (`BatchInvoiceNum`),
  KEY `FK_client_BatchInvoice_ClientId` (`ClientId`),
  KEY `FK_client_BatchInvoice_BusinessUnitId` (`BusinessUnitId`),
  KEY `FK_client_BatchInvoice_DepartmentId` (`DepartmentId`),
  KEY `FK_client_BatchInvoice_AvalaraBatchStatusId` (`AvalaraBatchStatusId`),
  KEY `IDX_client_BatchInvoice_AvalaraBatchId` (`AvalaraBatchId`),
  KEY `ID_client_BatchInvoice_CreateDate` (`CreateDate`),
  CONSTRAINT `FK_client_BatchInvoice_AvalaraBatchStatusId` FOREIGN KEY (`AvalaraBatchStatusId`) REFERENCES `data_AvalaraBatchStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_BatchInvoice_BusinessUnitId` FOREIGN KEY (`BusinessUnitId`) REFERENCES `data_BusinessUnit` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_BatchInvoice_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_BatchInvoice_DepartmentId` FOREIGN KEY (`DepartmentId`) REFERENCES `data_Department` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Billing;The batch invoice of work order to client';

CREATE TABLE `client_Bid` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Name` varchar(128) DEFAULT NULL,
  `Status` smallint NOT NULL DEFAULT '1',
  `Description` varchar(100) DEFAULT NULL,
  `Instruction` varchar(500) DEFAULT NULL,
  `EndDate` datetime DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_Bid_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_Bid_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;


CREATE TABLE `client_BillAddressInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `AddressLine1` varchar(200) DEFAULT NULL,
  `AddressLine2` varchar(200) DEFAULT NULL,
  `Title` varchar(200) DEFAULT NULL,
  `City` varchar(200) DEFAULT NULL,
  `State` varchar(2) DEFAULT NULL,
  `Zip` varchar(15) DEFAULT NULL,
  `Country` varchar(3) DEFAULT NULL,
  `EIN` varchar(40) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_BillAddressInfo_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_BilledAddressInfo_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_BillingMonth` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `DepartmentId` smallint DEFAULT NULL,
  `BeginMonth` int NOT NULL,
  `EndMonth` int NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_BillingMonth_client_LocationDepartmentPriority_DepartmentId` (`DepartmentId`),
  KEY `FK_BillingMonth_client_FiscalMonth_ClientId` (`ClientId`),
  CONSTRAINT `FK_BillingMonth_client_FiscalMonth_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_BillingMonth_client_LocationDepartmentPriority_DepartmentId` FOREIGN KEY (`DepartmentId`) REFERENCES `data_Department` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_BillingRequirement` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BusinessType` smallint NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `IsPhotosRequired` tinyint(1) NOT NULL DEFAULT '0',
  `IsAssetRequired` tinyint(1) NOT NULL DEFAULT '0',
  `IsLumpSumCheckRequired` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `FK_client_BillingRequirement_ServiceCodeId_idx` (`ServiceCodeId`),
  CONSTRAINT `FK_client_BillingRequirement_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;


CREATE TABLE `client_Contacts` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'The identifier of the client',
  `FirstName` varchar(50) DEFAULT NULL COMMENT 'The first name of the contact',
  `LastName` varchar(50) DEFAULT NULL COMMENT 'The last name of the contact',
  `Email` varchar(100) DEFAULT NULL COMMENT 'The email address of the contact',
  `Phone` varchar(25) DEFAULT NULL COMMENT 'The phone number of the contact',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_Contacts_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_Contacts_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`)
)  COMMENT='D2C;Stores the contact information of the homeowner or a landlord ';

CREATE TABLE `client_ContractSigningInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `FranchiseManagerId` int unsigned NOT NULL,
  `SignedNationalContract` tinyint(1) DEFAULT '0',
  `EnvelopId` varchar(100) DEFAULT NULL,
  `IsPilotingOnly` tinyint(1) DEFAULT '0',
  `ShowNationalContract` tinyint(1) DEFAULT '1',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `client_ContractSigningInfo_FranchiseManagerId_idx` (`FranchiseManagerId`),
  KEY `client_ContractSigningInfo_ClientId_idx` (`ClientId`),
  CONSTRAINT `client_ContractSigningInfo_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `client_ContractSigningInfo_FranchiseManagerId` FOREIGN KEY (`FranchiseManagerId`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_Corporate` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Name` varchar(100) NOT NULL,
  `Email` varchar(100) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_Corporate_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_Corporate_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_CriticalEvent` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `CriticalEventReasonEnumId` smallint NOT NULL,
  `CriticalEventTypeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_CriticalEvent_CriticalEventTypeId` (`CriticalEventTypeId`),
  KEY `FK_client_CriticalEvent_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_CriticalEvent_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_CriticalEvent_CriticalEventTypeId` FOREIGN KEY (`CriticalEventTypeId`) REFERENCES `data_CriticalEventType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;


CREATE TABLE `client_FavoriteLocation` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_FavoriteLocation_LocationId` (`LocationId`),
  KEY `FK_client_FavoriteLocation_UserId` (`UserId`),
  CONSTRAINT `FK_client_FavoriteLocation_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_FavoriteLocation_UserId` FOREIGN KEY (`UserId`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Portfolio Managers should be able to filter by favorite location';

CREATE TABLE `client_FeeLimit` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceFeeMaxAmount` decimal(18,2) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_FeeLimit_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_FeeLimit_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_FeeRate` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceFeeRate` decimal(18,2) DEFAULT '0.00',
  `PlatformFeeRate` decimal(18,2) DEFAULT '0.00',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `LaborMargin` decimal(18,4) DEFAULT '0.0000',
  `MaterialsMargin` decimal(18,4) DEFAULT '0.0000',
  `TravelChargeMargin` decimal(18,4) DEFAULT '0.0000',
  `FreightMargin` decimal(18,4) DEFAULT '0.0000',
  `OtherMargin` decimal(18,4) DEFAULT '0.0000',
  `MarginModelType` smallint NOT NULL DEFAULT '1' COMMENT 'Margin = 1,  Fee = 2',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceCategory` (`ClientId`),
  CONSTRAINT `FK_client_FeeRate_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_FiscalMonth` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `FiscalMonth` date NOT NULL,
  `EndDate` date NOT NULL,
  `StartDate` date NOT NULL,
  `FiscalYear` int NOT NULL DEFAULT '0',
  `FiscalPeriod` smallint NOT NULL DEFAULT '0',
  `FiscalPeriodName` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_FiscalMonth_ClientIdMonth` (`ClientId`,`FiscalMonth`),
  CONSTRAINT `FK_client_FiscalMonth_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_FiscalYear` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Year` int NOT NULL,
  `EndMonth` date NOT NULL,
  `StartMonth` date NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_FiscalYear_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_FiscalYear_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_FixedSeasonal` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `FixedSeasonPrice` decimal(18,2) DEFAULT NULL,
  `ServiceCategoryId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_FixedSeasonal_ClientId` (`ClientId`),
  KEY `FK_client_FixedSeasonal_ServiceCategoryId` (`ServiceCategoryId`),
  CONSTRAINT `FK_client_FixedSeasonal_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_FixedSeasonal_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_FloorPlan` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `CommunityId` int unsigned NOT NULL,
  `Name` varchar(300) NOT NULL,
  `Description` varchar(500) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_FloorPlan_CommunityId` (`CommunityId`),
  CONSTRAINT `FK_client_FloorPlan_CommunityId` FOREIGN KEY (`CommunityId`) REFERENCES `client_Community` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='MFR;location floor plan';

CREATE TABLE `client_FloorPlanAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `FloorPlanId` int unsigned NOT NULL,
  `FileName` varchar(200) NOT NULL,
  `FilePath` varchar(300) NOT NULL,
  `ContentType` varchar(50) NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_FloorPlanAttachment_FloorPlanId` (`FloorPlanId`),
  CONSTRAINT `FK_client_FloorPlanAttachment_FloorPlanId` FOREIGN KEY (`FloorPlanId`) REFERENCES `client_FloorPlan` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='MFR;Floor plan attachments';

CREATE TABLE `client_FundingGroup` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `FundingGroupNumber` int DEFAULT NULL,
  `ReviewSubmitDate` datetime DEFAULT NULL,
  `SubmitDate` datetime DEFAULT NULL,
  `Type` smallint unsigned DEFAULT NULL COMMENT 'Regular= 1,Procurement=2',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `client_FundingGroup_UN` (`ClientId`,`FundingGroupNumber`,`Type`),
  KEY `FK_client_ProfileFundingGroup` (`ClientId`),
  CONSTRAINT `FK_client_ProfileFundingGroup` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_GLCode` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Code` varchar(50) NOT NULL,
  `Description` varchar(100) DEFAULT NULL,
  `IsHidden` tinyint(1) NOT NULL DEFAULT '0',
  `CapitalType` smallint DEFAULT NULL COMMENT '1: expense 2: capital 3: InitailCapEx 4: ExpenseLine',
  `ClientId` int unsigned NOT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `ServcieCategoryId` smallint DEFAULT NULL,
  `WBSNumber` varchar(50) DEFAULT NULL,
  `WBSDescription` varchar(200) DEFAULT NULL,
  `Parts` varchar(50) DEFAULT NULL,
  `Labor` varchar(50) DEFAULT NULL,
  `Freight` varchar(50) DEFAULT NULL,
  `Equipment` varchar(50) DEFAULT NULL,
  `ManagementFee` varchar(50) DEFAULT NULL,
  `Country` varchar(3) DEFAULT NULL,
  `IsActive` tinyint(1) DEFAULT NULL,
  `SecondaryCode` varchar(50) DEFAULT NULL COMMENT 'Client 1208:  SAP GL Code',
  `SecondaryCodeDescription` varchar(100) DEFAULT NULL,
  `Group` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_GLCode_ClientId` (`ClientId`),
  KEY `FK_client_GLCode_Code` (`Code`,`CapitalType`),
  KEY `FK_client_GLCode_ServiceTypeId_idx` (`ServiceTypeId`),
  KEY `FK_client_GLCode_ServiceCodeId_idx` (`ServiceCodeId`),
  KEY `FK_client_GLCode_ServcieCategoryId_idx` (`ServcieCategoryId`),
  CONSTRAINT `FK_client_GLCode_ServcieCategoryId` FOREIGN KEY (`ServcieCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_GLCode_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_GLCode_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_GLCodeForRecurrent` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Code` varchar(50) NOT NULL,
  `Description` varchar(100) DEFAULT NULL,
  `CapitalType` smallint DEFAULT '1' COMMENT '1: expense 2: capital 3: InitailCapEx 4: ExpenseLine',
  `ClientId` int unsigned NOT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `ServcieCategoryId` smallint DEFAULT NULL,
  `Country` varchar(3) DEFAULT 'USA',
  `Group` varchar(30) DEFAULT NULL,
  `SecondaryCode` varchar(50) DEFAULT NULL,
  `SecondaryCodeDescription` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_GLCodeForRecurrent_ClientId` (`ClientId`),
  KEY `FK_client_GLCodeForRecurrent_Code` (`Code`,`CapitalType`),
  KEY `FK_client_GLCodeForRecurrent_ServiceTypeId_idx` (`ServiceTypeId`),
  KEY `FK_client_GLCodeForRecurrent_ServiceCodeId_idx` (`ServiceCodeId`),
  KEY `FK_client_GLCodeForRecurrent_ServcieCategoryId_idx` (`ServcieCategoryId`)
) ;

CREATE TABLE `client_HelpLink` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Name` varchar(50) NOT NULL,
  `URL` varchar(300) DEFAULT NULL,
  `Type` smallint NOT NULL DEFAULT '1',
  `ServiceCategoryId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_HelpLink_ClientId` (`ClientId`),
  KEY `FK_client_HelpLink_ServiceCategoryId` (`ServiceCategoryId`),
  CONSTRAINT `FK_client_HelpLink_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_HelpLink_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InsightCenter` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ReportName` varchar(100) NOT NULL,
  `ReportURL` varchar(500) NOT NULL,
  `PermissionGroupIds` varchar(100) NOT NULL COMMENT 'id from client_PermissionGroup',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `IsActiveAED` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether or not to publish to the Asset Enterprise Dashboard page; 0:non-publication,1:publish',
  PRIMARY KEY (`Id`),
  KEY `FK_client_InsightCenter_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_InsightCenter_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Insight Center configuration table';

CREATE TABLE `client_InspectionProposal` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InspectionProposalNum` varchar(50) NOT NULL,
  `LocationId` int unsigned NOT NULL,
  `Title` varchar(50) DEFAULT NULL,
  `Reason` varchar(100) DEFAULT NULL,
  `Description` varchar(200) DEFAULT NULL,
  `Qty` decimal(18,2) DEFAULT NULL,
  `UOM` varchar(50) DEFAULT NULL,
  `UnitPrice` decimal(18,2) DEFAULT NULL,
  `TotalPrice` decimal(18,2) DEFAULT NULL,
  `ProjectTaskId` int unsigned DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_InspectionProposal` (`InspectionProposalNum`),
  KEY `FK_client_InspectionProposal_LocationId` (`LocationId`),
  KEY `FK_client_InspectionProposal_ProjectTaskId` (`ProjectTaskId`),
  CONSTRAINT `FK_client_InspectionProposal_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InspectionProposal_ProjectTaskId` FOREIGN KEY (`ProjectTaskId`) REFERENCES `client_FacilityProjectTask` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceBudgetReport` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `CountMonth` date NOT NULL,
  `BusinessUnitId` smallint NOT NULL,
  `InvoiceCount` int DEFAULT NULL,
  `SubCostCount` decimal(18,2) DEFAULT NULL,
  `PriceCount` decimal(18,2) DEFAULT NULL,
  `TaxCount` decimal(18,2) DEFAULT NULL,
  `IsNeedUpdate` tinyint(1) NOT NULL DEFAULT '0',
  `LastUpdateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceBudgetReport_ClientId` (`ClientId`),
  KEY `FK_client_InvoiceBudgetReport_BusinessUnitId` (`BusinessUnitId`),
  CONSTRAINT `FK_client_InvoiceBudgetReport_BusinessUnitId` FOREIGN KEY (`BusinessUnitId`) REFERENCES `data_BusinessUnit` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceBudgetReport_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceEvent` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BatchInvoiceId` int unsigned DEFAULT NULL,
  `WOEventId` int unsigned NOT NULL,
  `InvoiceNum` varchar(50) DEFAULT NULL,
  `InvoiceText` varchar(200) DEFAULT NULL,
  `DueDate` date DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ApproveUserId` int unsigned DEFAULT NULL,
  `ApproveTime` datetime DEFAULT NULL,
  `ApproveNotes` varchar(200) DEFAULT NULL,
  `CheckNum` varchar(50) DEFAULT NULL,
  `IssueDate` date DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_InvoiceEvent_WOEventId` (`WOEventId`),
  KEY `FK_client_InvoiceEvent_BatchInvoiceId` (`BatchInvoiceId`),
  CONSTRAINT `FK_client_InvoiceEvent_BatchInvoiceId` FOREIGN KEY (`BatchInvoiceId`) REFERENCES `client_BatchInvoice` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceEvent_WOEventId` FOREIGN KEY (`WOEventId`) REFERENCES `client_WOEvent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceEventAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceEventId` int unsigned NOT NULL,
  `Name` varchar(100) DEFAULT NULL,
  `ContentType` varchar(100) NOT NULL,
  `URL` varchar(300) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceEventAttachment_InvoiceEventId` (`InvoiceEventId`),
  CONSTRAINT `FK_client_InvoiceEventAttachment_InvoiceEventId` FOREIGN KEY (`InvoiceEventId`) REFERENCES `client_InvoiceEvent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceEventItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceEventId` int unsigned NOT NULL,
  `ChargeCategoryId` smallint NOT NULL,
  `Notes` varchar(200) DEFAULT NULL,
  `IsCapex` tinyint(1) NOT NULL,
  `Qty` decimal(18,2) DEFAULT NULL,
  `UnitPrice` decimal(18,2) DEFAULT NULL,
  `UnitCost` decimal(18,2) DEFAULT NULL,
  `TaxRate` decimal(18,5) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceEventItem_InvoiceEventId` (`InvoiceEventId`),
  KEY `FK_client_InvoiceEventItem_ChargeCategoryId` (`ChargeCategoryId`),
  CONSTRAINT `FK_client_InvoiceEventItem_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceEventItem_InvoiceEventId` FOREIGN KEY (`InvoiceEventId`) REFERENCES `client_InvoiceEvent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceEventLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceEventId` int unsigned NOT NULL,
  `Log` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceEventLog_InvoiceEventId` (`InvoiceEventId`),
  CONSTRAINT `FK_client_InvoiceEventLog_InvoiceEventId` FOREIGN KEY (`InvoiceEventId`) REFERENCES `client_InvoiceEvent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceReactive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BatchInvoiceId` int unsigned DEFAULT NULL COMMENT 'client_BatchInvoice.Id',
  `WOReactiveId` int unsigned NOT NULL,
  `InvoiceNum` varchar(50) DEFAULT NULL COMMENT 'The number of invoice',
  `InvoiceText` varchar(4096) DEFAULT NULL COMMENT 'The comment of reactive work order',
  `DueDate` date DEFAULT NULL COMMENT 'The due date of invoice',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ApproveUserId` int unsigned DEFAULT NULL COMMENT 'Approve user id',
  `ApproveTime` datetime DEFAULT NULL COMMENT 'Approve time',
  `ApproveNotes` varchar(1024) DEFAULT NULL COMMENT 'Approve comment',
  `SubAffiliateCost` decimal(18,2) NOT NULL DEFAULT '0.00' COMMENT 'How much money was paid to affiliate',
  `SubInvoiceNum` varchar(50) DEFAULT NULL COMMENT 'Sub invoice number',
  `SubInvoiceDate` datetime DEFAULT NULL COMMENT 'Sub invoice date',
  `CheckNum` varchar(50) DEFAULT NULL COMMENT 'Check number',
  `IssueDate` date DEFAULT NULL COMMENT 'Issue date',
  `StatusId` smallint DEFAULT NULL COMMENT 'Status',
  `SubmitUserId` int unsigned DEFAULT NULL COMMENT 'Invoice submit user id',
  `SubmitDate` datetime DEFAULT NULL COMMENT 'Invoice submit date',
  `ReviewUserId` int unsigned DEFAULT NULL COMMENT 'Invoice review user id',
  `ReviewDate` datetime DEFAULT NULL COMMENT 'Invoice review date',
  `PurposeId` smallint DEFAULT NULL COMMENT 'data_Purpose.Id',
  `IsNoServiceFee` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether no service fee',
  `ServiceFeeRate` decimal(18,2) DEFAULT NULL COMMENT 'Service fee rate',
  `PlatformFeeRate` decimal(18,2) DEFAULT NULL COMMENT 'Platform fee rate',
  `IsCanBatch` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether can batch',
  `ClientApproveUserId` int unsigned DEFAULT NULL COMMENT 'Invoice approver user id',
  `ClientApproveTime` datetime DEFAULT NULL COMMENT 'Invoice approve time',
  `ClientApproveNotes` varchar(1024) DEFAULT NULL COMMENT 'Invoice approve comments',
  `IsFixedServiceFee` tinyint(1) DEFAULT '0' COMMENT 'Whether fixed service fee',
  `IsFixedPlatformFee` tinyint(1) DEFAULT '0' COMMENT 'Whether fixed platform fee',
  `GLCodeId` int unsigned DEFAULT NULL COMMENT 'client_GLCode.Id',
  `IsCheckReleaseAuthorization` tinyint(1) DEFAULT NULL COMMENT 'Whether release authorization after check',
  `CheckReleaseAuthorizationReasonEnumIds` varchar(50) DEFAULT NULL COMMENT 'After check do not release authorization reason id, data_SysEnum.Id',
  `CheckReleaseAuthorizationDate` datetime DEFAULT NULL COMMENT 'Release authorization date',
  `TaxReturn` decimal(18,2) DEFAULT NULL COMMENT 'Return tax',
  `IsGLCodeConfiged` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether GL code configed',
  `IsPermitRequired` tinyint(1) DEFAULT NULL,
  `IsTaxRateUpdate` tinyint(1) DEFAULT NULL COMMENT 'Whether update the tax rate',
  `TaxRateUpdateTime` datetime DEFAULT NULL COMMENT 'Tax rate update time',
  `IsExceedCustomerNTE` tinyint(1) DEFAULT NULL COMMENT 'Whether exceed customer NTE',
  `CXML` varchar(50) DEFAULT NULL,
  `FundingGroupNumber` int unsigned DEFAULT NULL COMMENT 'client_FundingGroup.Id',
  `FundingStatus` smallint unsigned DEFAULT NULL COMMENT 'Funding status',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_InvoiceReactive_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_InvoiceReactive_BatchInvoiceId` (`BatchInvoiceId`),
  KEY `FK_client_InvoiceReactive_PurposeId` (`PurposeId`),
  KEY `FK_client_InvoiceReactive_GLCodeId` (`GLCodeId`),
  KEY `ID_client_InvoiceReactive_CheckNum` (`CheckNum`(10)),
  KEY `ID_client_InvoiceReactive_InvoiceNum` (`InvoiceNum`(10)),
  KEY `ID_client_InvoiceReactive_ApproveTime` (`ApproveTime`),
  KEY `ID_client_InvoiceReactive_ModifyDate` (`ModifyDate`),
  CONSTRAINT `FK_client_InvoiceReactive_BatchInvoiceId` FOREIGN KEY (`BatchInvoiceId`) REFERENCES `client_BatchInvoice` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactive_GLCodeId` FOREIGN KEY (`GLCodeId`) REFERENCES `client_GLCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactive_PurposeId` FOREIGN KEY (`PurposeId`) REFERENCES `data_Purpose` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactive_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Billing;The invoice information of reactive work order to client';

CREATE TABLE `client_InvoiceReactiveArchive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BatchInvoiceId` int unsigned DEFAULT NULL,
  `WOReactiveId` int unsigned NOT NULL,
  `InvoiceNum` varchar(50) DEFAULT NULL,
  `InvoiceText` varchar(2048) DEFAULT NULL,
  `DueDate` date DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ApproveUserId` int unsigned DEFAULT NULL,
  `ApproveTime` datetime DEFAULT NULL,
  `ApproveNotes` varchar(1024) DEFAULT NULL,
  `SubAffiliateCost` decimal(18,2) DEFAULT NULL,
  `SubInvoiceNum` varchar(50) DEFAULT NULL,
  `SubInvoiceDate` datetime DEFAULT NULL,
  `CheckNum` varchar(50) DEFAULT NULL,
  `IssueDate` date DEFAULT NULL,
  `StatusId` smallint DEFAULT NULL,
  `SubmitUserId` int unsigned DEFAULT NULL,
  `SubmitDate` datetime DEFAULT NULL,
  `ReviewUserId` int unsigned DEFAULT NULL,
  `ReviewDate` datetime DEFAULT NULL,
  `PurposeId` smallint DEFAULT NULL,
  `IsNoServiceFee` tinyint(1) NOT NULL DEFAULT '0',
  `ServiceFeeRate` decimal(18,2) DEFAULT NULL,
  `PlatformFeeRate` decimal(18,2) DEFAULT NULL,
  `IsCanBatch` tinyint(1) NOT NULL DEFAULT '0',
  `ClientApproveUserId` int unsigned DEFAULT NULL,
  `ClientApproveTime` datetime DEFAULT NULL,
  `ClientApproveNotes` varchar(1024) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_InvoiceReactiveArchive_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_InvoiceReactiveArchive_BatchInvoiceId` (`BatchInvoiceId`),
  KEY `FK_client_InvoiceReactiveArchive_PurposeId` (`PurposeId`),
  CONSTRAINT `FK_client_InvoiceReactiveArchive_BatchInvoiceId` FOREIGN KEY (`BatchInvoiceId`) REFERENCES `client_BatchInvoice` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactiveArchive_PurposeId` FOREIGN KEY (`PurposeId`) REFERENCES `data_Purpose` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactiveArchive_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactiveArchive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceReactiveAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceReactiveId` int unsigned NOT NULL,
  `Name` varchar(100) DEFAULT NULL,
  `ContentType` varchar(100) NOT NULL,
  `URL` varchar(300) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  `Notes` varchar(1000) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceReactiveAttachment_InvoiceReactiveId` (`InvoiceReactiveId`),
  CONSTRAINT `FK_client_InvoiceReactiveAttachment_InvoiceReactiveId` FOREIGN KEY (`InvoiceReactiveId`) REFERENCES `client_InvoiceReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceReactiveBaseLineItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ServiceCategoryId` smallint NOT NULL,
  `Group` varchar(50) DEFAULT NULL,
  `Qty` decimal(18,2) DEFAULT NULL,
  `ChargeCategoryId` smallint NOT NULL,
  `UnitPrice` decimal(18,2) DEFAULT NULL,
  `ClientId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceReactiveBaseLineItem_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_client_InvoiceReactiveBaseLineItem_ChargeCategoryId` (`ChargeCategoryId`),
  KEY `FK_client_InvoiceReactiveBaseLineItem_ClientId` (`ClientId`),
  KEY `ID_client_InvoiceReactiveBaseLineItem_Group` (`Group`),
  CONSTRAINT `FK_client_InvoiceReactiveBaseLineItem_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactiveBaseLineItem_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactiveBaseLineItem_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceReactiveItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceReactiveId` int unsigned NOT NULL,
  `ChargeCategoryId` smallint NOT NULL,
  `Notes` varchar(1000) DEFAULT NULL,
  `IsCapex` tinyint(1) NOT NULL,
  `Qty` decimal(18,2) NOT NULL DEFAULT '0.00',
  `UnitPrice` decimal(18,2) NOT NULL DEFAULT '0.00',
  `UnitCost` decimal(18,2) DEFAULT NULL,
  `TaxRate` decimal(18,5) NOT NULL DEFAULT '0.00000',
  `OtherName` varchar(100) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ServiceCodeResolutionMapId` int unsigned DEFAULT NULL,
  `SpecialRule` smallint DEFAULT NULL,
  `ItemTagId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceReactiveItem_InvoiceReactiveId` (`InvoiceReactiveId`),
  KEY `FK_client_InvoiceReactiveItem_ChargeCategoryId` (`ChargeCategoryId`),
  KEY `FK_client_InvoiceReactiveItem_ResolutionId_idx` (`ServiceCodeResolutionMapId`),
  KEY `FK_client_InvoiceReactiveItem_ResolutionMapId_idx` (`ServiceCodeResolutionMapId`),
  KEY `ID_client_InvoiceReactiveItem_CreateDate` (`CreateDate`),
  KEY `ID_client_InvoiceReactiveItem_ModifyDate` (`ModifyDate`),
  CONSTRAINT `FK_client_InvoiceReactiveItem_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactiveItem_InvoiceReactiveId` FOREIGN KEY (`InvoiceReactiveId`) REFERENCES `client_InvoiceReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactiveItem_ResolutionMapId` FOREIGN KEY (`ServiceCodeResolutionMapId`) REFERENCES `client_ServiceCodeResolutionMap` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceReactiveItemArchive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceReactiveId` int unsigned NOT NULL,
  `ChargeCategoryId` smallint NOT NULL,
  `Notes` varchar(1000) DEFAULT NULL,
  `IsCapex` tinyint(1) NOT NULL,
  `Qty` decimal(18,2) DEFAULT NULL,
  `UnitPrice` decimal(18,2) DEFAULT NULL,
  `UnitCost` decimal(18,2) DEFAULT NULL,
  `TaxRate` decimal(18,5) DEFAULT NULL,
  `OtherName` varchar(100) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceReactiveItemArchive_InvoiceReactiveId` (`InvoiceReactiveId`),
  KEY `FK_client_InvoiceReactiveItemArchive_ChargeCategoryId` (`ChargeCategoryId`),
  CONSTRAINT `FK_client_InvoiceReactiveItemArchive_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceReactiveItemArchive_InvoiceReactiveId` FOREIGN KEY (`InvoiceReactiveId`) REFERENCES `client_InvoiceReactiveArchive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceReactiveLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceReactiveId` int unsigned NOT NULL,
  `Log` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceReactiveLog_InvoiceReactiveId` (`InvoiceReactiveId`),
  CONSTRAINT `FK_client_InvoiceReactiveLog_InvoiceReactiveId` FOREIGN KEY (`InvoiceReactiveId`) REFERENCES `client_InvoiceReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceReactiveRate` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `City` varchar(50) DEFAULT NULL,
  `State` varchar(10) NOT NULL,
  `TradeId` smallint DEFAULT NULL,
  `StandardHourlyRate` decimal(18,2) DEFAULT NULL,
  `OTHourlyRate` decimal(18,2) DEFAULT NULL,
  `HolidayHourlyRate` decimal(18,2) DEFAULT NULL,
  `TripCharge` decimal(18,2) DEFAULT NULL,
  `OTTripCharge` decimal(18,2) DEFAULT NULL,
  `HelperTech` decimal(18,2) DEFAULT NULL,
  `Others` decimal(18,2) DEFAULT NULL,
  `ServiceCategoryId` smallint DEFAULT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `client_InvoiceReactiveRate_ClientId_idx` (`ClientId`),
  KEY `client_InvoiceReactiveRate_TradeId_idx` (`TradeId`),
  KEY `client_InvoiceReactiveRate_ServiceCategoryId_idx` (`ServiceCategoryId`),
  CONSTRAINT `client_InvoiceReactiveRate_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `client_InvoiceReactiveRate_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `client_InvoiceReactiveRate_TradeId` FOREIGN KEY (`TradeId`) REFERENCES `data_Trade` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceReactiveRateZip` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ZipCode` varchar(7) DEFAULT NULL,
  `TradeId` smallint DEFAULT NULL,
  `StandardHourlyRate` decimal(18,2) DEFAULT NULL,
  `OTHourlyRate` decimal(18,2) DEFAULT NULL,
  `HolidayHourlyRate` decimal(18,2) DEFAULT NULL,
  `TripCharge` decimal(18,2) DEFAULT NULL,
  `OTTripCharge` decimal(18,2) DEFAULT NULL,
  `HelperTech` decimal(18,2) DEFAULT NULL,
  `Others` decimal(18,2) DEFAULT NULL,
  `ServiceCategoryId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `client_InvoiceReactiveRateZip_ClientId_idx` (`ClientId`),
  KEY `client_InvoiceReactiveRateZip_TradeId_idx` (`TradeId`),
  KEY `client_InvoiceReactiveRateZip_ServiceCategoryId_idx` (`ServiceCategoryId`),
  CONSTRAINT `client_InvoiceReactiveRateZip_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `client_InvoiceReactiveRateZip_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `client_InvoiceReactiveRateZip_TradeId` FOREIGN KEY (`TradeId`) REFERENCES `data_Trade` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceRecurrent` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BatchInvoiceId` int unsigned DEFAULT NULL COMMENT 'client_BatchInvoice.Id',
  `WORecurrentId` int unsigned NOT NULL,
  `InvoiceNum` varchar(50) DEFAULT NULL COMMENT 'The number of invoice',
  `InvoiceText` varchar(200) DEFAULT NULL COMMENT 'The comment of reactive work order',
  `DueDate` date DEFAULT NULL COMMENT 'The due date of invoice',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ApproveUserId` int unsigned DEFAULT NULL COMMENT 'Approve user id',
  `ApproveTime` datetime DEFAULT NULL COMMENT 'Approve time',
  `ApproveNotes` varchar(200) DEFAULT NULL COMMENT 'Approve comment',
  `CheckNum` varchar(50) DEFAULT NULL COMMENT 'Check number',
  `IssueDate` date DEFAULT NULL COMMENT 'Issue date',
  `GLCodeId` int unsigned DEFAULT NULL COMMENT 'client_GLCode.Id',
  `IsCheckReleaseAuthorization` tinyint(1) DEFAULT NULL COMMENT 'Whether release authorization after check',
  `CheckReleaseAuthorizationReasonEnumIds` varchar(50) DEFAULT NULL COMMENT 'After check do not release authorization reason id, data_SysEnum.Id',
  `CheckReleaseAuthorizationDate` datetime DEFAULT NULL COMMENT 'Release authorization date',
  `IsTaxRateUpdate` tinyint(1) DEFAULT NULL COMMENT 'Whether update the tax rate',
  `TaxRateUpdateTime` datetime DEFAULT NULL COMMENT 'Tax rate update time',
  `CXML` varchar(50) DEFAULT NULL,
  `FundingGroupNumber` int unsigned DEFAULT NULL COMMENT 'Funding group number, client_FundingGroup.Id',
  `FundingStatus` smallint unsigned DEFAULT NULL COMMENT 'Funding status',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_InvoiceRecurrent_WORecurrentId` (`WORecurrentId`),
  KEY `FK_client_InvoiceRecurrent_BatchInvoiceId` (`BatchInvoiceId`),
  KEY `FK_client_InvoiceRecurrent_GLCodeId_idx` (`GLCodeId`),
  KEY `ID_client_InvoiceRecurrent_CheckNum` (`CheckNum`(10)),
  KEY `ID_client_InvoiceRecurrent_InvoiceNum` (`InvoiceNum`(10)),
  KEY `ID_client_InvoiceRecurrent_ModifyDate` (`ModifyDate`),
  CONSTRAINT `FK_client_InvoiceRecurrent_BatchInvoiceId` FOREIGN KEY (`BatchInvoiceId`) REFERENCES `client_BatchInvoice` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceRecurrent_GLCodeId` FOREIGN KEY (`GLCodeId`) REFERENCES `client_GLCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceRecurrent_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Billing;The invoice information of recurrent work order to client';

CREATE TABLE `client_InvoiceRecurrentAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceRecurrentId` int unsigned NOT NULL,
  `Name` varchar(100) DEFAULT NULL,
  `ContentType` varchar(100) NOT NULL,
  `URL` varchar(300) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceRecurrentAttachment_InvoiceRecurrentId` (`InvoiceRecurrentId`),
  CONSTRAINT `FK_client_InvoiceRecurrentAttachment_InvoiceRecurrentId` FOREIGN KEY (`InvoiceRecurrentId`) REFERENCES `client_InvoiceRecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceRecurrentItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceRecurrentId` int unsigned NOT NULL,
  `ChargeCategoryId` smallint NOT NULL,
  `Notes` varchar(200) DEFAULT NULL,
  `IsCapex` tinyint(1) NOT NULL,
  `Qty` decimal(18,2) DEFAULT NULL,
  `UnitPrice` decimal(18,2) DEFAULT NULL,
  `UnitCost` decimal(18,2) DEFAULT NULL,
  `TaxRate` decimal(18,5) NOT NULL DEFAULT '0.00000',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `FK_client_InvoiceRecurrentItem_WORecurrent` (`InvoiceRecurrentId`,`ChargeCategoryId`),
  KEY `FK_client_InvoiceRecurrentItem_InvoiceRecurrentId` (`InvoiceRecurrentId`),
  KEY `FK_client_InvoiceRecurrentItem_ChargeCategoryId` (`ChargeCategoryId`),
  KEY `ID_client_InvoiceRecurrentItem_CreateDate` (`CreateDate`),
  KEY `ID_client_InvoiceRecurrentItem_ModifyDate` (`ModifyDate`),
  CONSTRAINT `FK_client_InvoiceRecurrentItem_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_InvoiceRecurrentItem_InvoiceRecurrentId` FOREIGN KEY (`InvoiceRecurrentId`) REFERENCES `client_InvoiceRecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceRecurrentLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceRecurrentId` int unsigned NOT NULL,
  `Log` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_InvoiceRecurrentLog_InvoiceRecurrentId` (`InvoiceRecurrentId`),
  CONSTRAINT `FK_client_InvoiceRecurrentLog_InvoiceRecurrentId` FOREIGN KEY (`InvoiceRecurrentId`) REFERENCES `client_InvoiceRecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_InvoiceTaxAmend` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `InvoiceItemId` int unsigned NOT NULL,
  `WoTypeId` smallint NOT NULL COMMENT 'Recurrent = 1,  Reactive = 2,',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `client_InvoiceTaxAmend_wo` (`InvoiceItemId`,`WoTypeId`)
) ;

CREATE TABLE `client_IssuesReason` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `IssuesReasonName` varchar(100) NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_IssuesReason` (`ClientId`,`IssuesReasonName`)
) ;

CREATE TABLE `client_Label` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `LabelId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL DEFAULT '1',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_Label` (`ClientId`,`LabelId`),
  KEY `FK_client_Label_LabelId` (`LabelId`),
  KEY `FK_client_Label_StatusId` (`StatusId`),
  CONSTRAINT `FK_client_Label_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_Label_LabelId` FOREIGN KEY (`LabelId`) REFERENCES `sms_Label` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_Label_StatusId` FOREIGN KEY (`StatusId`) REFERENCES `data_ClientLabelStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LabelPermission` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientLabelId` int unsigned NOT NULL,
  `RoleId` int unsigned NOT NULL,
  `LabelPermissionId` smallint NOT NULL COMMENT '1:None,2:ReadOnly,3:Edit',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LabelPermission_ClientLabelId` (`ClientLabelId`),
  KEY `FK_client_LabelPermission_RoleId` (`RoleId`),
  CONSTRAINT `FK_client_LabelPermission_ClientLabelId` FOREIGN KEY (`ClientLabelId`) REFERENCES `client_Label` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LabelPermission_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `sms_Role` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LaunchedMarket` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ZipCode` varchar(7) DEFAULT NULL,
  `EffectiveDate` datetime NOT NULL,
  `IsPilotingMarket` tinyint(1) DEFAULT '0',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `client_LaunchedMarket_ClientId_idx` (`ClientId`),
  CONSTRAINT `client_LaunchedMarket_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocalOfficeContact` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Region` varchar(50) NOT NULL,
  `Phone` varchar(50) DEFAULT NULL,
  `Email` varchar(100) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocalOfficeContact_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_LocalOfficeContact_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_Location` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `LocationNumber` varchar(50) NOT NULL COMMENT 'The NO. of location',
  `SMSNumber` varchar(50) NOT NULL COMMENT 'The NO. of location given by SMS',
  `LocationName` varchar(255) DEFAULT NULL COMMENT 'The name of the location',
  `Is24HR` tinyint(1) DEFAULT NULL COMMENT 'Wether the location is open 24HR. 1:yes, 0:no',
  `LocationTypeId` int unsigned DEFAULT NULL COMMENT 'The id of the type of location. client_locationtype.Id',
  `OpenDate` date DEFAULT NULL COMMENT 'Open date of the location',
  `Status` smallint DEFAULT NULL COMMENT 'Status of the location. 1:active,0:inactive',
  `Lat` decimal(18,7) DEFAULT NULL COMMENT 'The latitude of the location',
  `Lng` decimal(18,7) DEFAULT NULL COMMENT 'The longitude of the location',
  `District` varchar(50) DEFAULT NULL COMMENT 'The district where the client is located',
  `Region` varchar(50) DEFAULT NULL COMMENT 'The region where the client is located',
  `Group` varchar(50) DEFAULT NULL COMMENT 'The group which the location belongs to',
  `AddressLine1` varchar(200) DEFAULT NULL COMMENT 'The first address of the location',
  `AddressLine2` varchar(200) DEFAULT NULL COMMENT 'The second address of the location',
  `City` varchar(50) DEFAULT NULL COMMENT 'The city where the client is located',
  `State` varchar(10) DEFAULT NULL COMMENT 'The state where the client is located',
  `ZipCode` varchar(15) DEFAULT NULL COMMENT 'The zipcode where the client is located',
  `Country` varchar(3) NOT NULL DEFAULT 'USA' COMMENT 'The country where the client is located',
  `Phone` varchar(25) DEFAULT NULL COMMENT 'The phone of the location',
  `Fax` varchar(25) DEFAULT NULL COMMENT 'The fax of the location',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `LocationPriorityId` smallint DEFAULT NULL COMMENT 'The priority of location. 0: TBD, 1:low, 2:medium, 3: high',
  `RelocationDate` datetime DEFAULT NULL COMMENT 'incative',
  `Division` varchar(20) DEFAULT NULL COMMENT 'The division of the location',
  `AssetManagementExecutive` varchar(50) DEFAULT NULL COMMENT 'Asset Management Executive',
  `LegacyLocationNumber` varchar(50) DEFAULT NULL COMMENT 'Legacy Location Number',
  `IsAutoRFI` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether auto add flag request info',
  `ClassificationId` int unsigned DEFAULT NULL COMMENT 'Classification of the client location. client_classification.Id',
  `CloseDate` date DEFAULT NULL COMMENT 'Close date of the location',
  `LocationSubTypeId` int unsigned DEFAULT NULL COMMENT 'The id of the subtype of location. client_locationsubtype.Id',
  `LocationServiceProvider` varchar(50) DEFAULT NULL COMMENT 'The corporation which provide service for thr location',
  `PropertyTypeId` smallint DEFAULT NULL COMMENT '1:SFR , 2:MFR, 3:Retail, 4:Restaurant, 5:etc',
  `FloorPlan` varchar(50) DEFAULT NULL COMMENT 'Examples: 2bed/2bth; 2bed/1bath',
  `IsCommonArea` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'is comment area',
  `CommunityId` int unsigned DEFAULT NULL COMMENT 'Denormalize community id for query',
  `BuildingId` int unsigned DEFAULT NULL,
  `FloorPlanId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_Location` (`SMSNumber`),
  KEY `FK_client_Location_ClientId` (`ClientId`),
  KEY `FK_client_Location_LocationTypeId` (`LocationTypeId`),
  KEY `ID_client_Location_AddressLine1` (`AddressLine1`(50)),
  KEY `ID_client_Location_AddressLine2` (`AddressLine2`(50)),
  KEY `ID_client_Location_ZipCode` (`ZipCode`),
  KEY `ID_client_Location_District` (`District`),
  KEY `ID_client_Location_LocationName` (`LocationName`(20)),
  KEY `ID_client_Location_Region` (`Region`(20)),
  KEY `ID_client_Location_ModifyDate` (`ModifyDate`),
  KEY `ID_client_Location_City` (`City`(20)),
  KEY `ID_client_Location_State` (`State`(5)),
  KEY `ID_client_Location_LegacyLocationNumber` (`LegacyLocationNumber`(15)),
  KEY `IDX_client_Location_ClassificationId` (`ClassificationId`),
  KEY `FK_client_Location_LocationSubTypeId_idx` (`LocationSubTypeId`),
  CONSTRAINT `FK_client_Location_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_Location_LocationSubTypeId` FOREIGN KEY (`LocationSubTypeId`) REFERENCES `client_LocationSubType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_Location_LocationTypeId` FOREIGN KEY (`LocationTypeId`) REFERENCES `client_LocationType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;Store client location information';

CREATE TABLE `client_LocationAsset` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL COMMENT 'LocationId, client_Location.Id',
  `ServiceCategoryId` smallint NOT NULL COMMENT 'ServiceCategoryId',
  `EquipmentType` varchar(200) DEFAULT NULL COMMENT 'Device model',
  `Manufacturer` varchar(200) DEFAULT NULL COMMENT 'manufacturer',
  `ManufacturerProviderNum` varchar(200) DEFAULT NULL COMMENT 'Manufacturing supplier number',
  `ModelNum` varchar(200) DEFAULT NULL COMMENT 'Model',
  `SerialNum` varchar(200) DEFAULT NULL COMMENT 'Serial number',
  `InstallationDate` date DEFAULT NULL COMMENT 'Installation date',
  `WarrantyCoverage` varchar(10) DEFAULT NULL COMMENT 'Warranty years',
  `WarrantyEffectiveDate` date DEFAULT NULL COMMENT 'Warranty effective date',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Is it active',
  `UnitNum` varchar(50) DEFAULT NULL COMMENT 'Unit Num',
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ImagePath` varchar(300) DEFAULT NULL COMMENT 'Image Path',
  `IsRetiredOrReplaced` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Is Retired Or Replaced',
  `AssetRetiredId` int unsigned DEFAULT NULL COMMENT 'Create a new asset,record the replaced asset id',
  `Description` varchar(256) DEFAULT NULL COMMENT 'Description',
  `ManufacturedYear` smallint DEFAULT NULL COMMENT 'Year of manufacture',
  `ClientReferNum` varchar(100) DEFAULT NULL COMMENT 'Inbound creation of work order asset tags',
  `HealthLevel` varchar(50) DEFAULT NULL COMMENT 'Health Level',
  `SplitNum` varchar(50) DEFAULT NULL COMMENT 'Split Num',
  `IsCurbAdapter` tinyint(1) DEFAULT NULL COMMENT 'Curb Adapter',
  `IsHailGuards` tinyint(1) DEFAULT NULL COMMENT 'Hail Guards',
  `Filters` int DEFAULT NULL COMMENT 'Number of Filters',
  `FilterSize1` varchar(50) DEFAULT NULL COMMENT 'Filter Size',
  `Belts` int DEFAULT NULL COMMENT 'Number of asset belts',
  `BeltSizeA` varchar(50) DEFAULT NULL COMMENT 'Asset Belt Size',
  `Voltage` decimal(16,5) DEFAULT NULL COMMENT 'Asset Voltage',
  `Amperage` int DEFAULT NULL COMMENT 'Asset Amperage',
  `Unitage` int DEFAULT NULL COMMENT 'UNIT AGE',
  `Tonnage` decimal(16,5) DEFAULT NULL COMMENT 'Asset Tonnage',
  `HeatType` varchar(50) DEFAULT NULL COMMENT 'Asset Heat Type',
  `RefrigerantType` varchar(50) DEFAULT NULL COMMENT 'Refrigerant Type',
  `RawDataAssetId` int DEFAULT NULL COMMENT 'Service asset Id, client_LocationAssetRawData.Id',
  `IsSetUnmatched` tinyint(1) DEFAULT '0' COMMENT 'This asset has been flagged',
  `Height` varchar(50) DEFAULT NULL COMMENT 'Asset Height',
  `Width` varchar(50) DEFAULT NULL COMMENT 'Asset Width',
  `Length` varchar(50) DEFAULT NULL COMMENT 'Asset Length',
  `HeatingCapacity` decimal(16,5) DEFAULT NULL COMMENT 'Asset Heating Capacity',
  `DamperType` int unsigned DEFAULT NULL COMMENT 'Asset Damper Type."Manual"=1,"Economizer"=2,"Damper type not required"=3, "Not installed"=4',
  `ClientAreaServed` int unsigned DEFAULT NULL COMMENT 'inactive',
  `IsSMSVerified` tinyint DEFAULT '0',
  `LocationAreaSysEnumId` smallint DEFAULT NULL COMMENT 'Asset Location Area, data_SysEnum.Id',
  `ReferenceTemperature` varchar(500) DEFAULT NULL COMMENT 'Reference temperature',
  `SupplyTempReading` varchar(500) DEFAULT NULL COMMENT 'Power supply temperature reading',
  `ReturnTempReading` varchar(500) DEFAULT NULL COMMENT 'Air temperature reading',
  `AssetOverallHealthType` smallint DEFAULT NULL COMMENT 'Asset Overall Health Type,"New or like New"=1, "Worn but functional:=2,"Needs repair"=3',
  `MissingOrDuplicateReasonId` smallint DEFAULT NULL COMMENT 'Missing Or Duplicate Reason Id',
  `WearAndTearType` smallint DEFAULT NULL COMMENT 'How much wear and tear is present on the asset."Minor"=1, "Major"=2',
  `PurchasePrice` decimal(16,5) DEFAULT NULL COMMENT 'Purchase Price',
  `UsefulLife` decimal(16,5) DEFAULT NULL COMMENT 'Air conditioner service life',
  `ResidualValue` decimal(16,5) DEFAULT NULL COMMENT 'Residual Value',
  `ObtainedFrom` smallint DEFAULT NULL COMMENT 'Data Sources. 1=SMS,Tonnage of equipment,2=Client, Client estimate,3=Affiliate,Affiliate information,4=Replacement invoice',
  `WarrantyExpiryDate` date DEFAULT NULL COMMENT 'asset warranty expiry',
  `ModifyTempDate` date DEFAULT NULL COMMENT 'modify asset temperature date',
  `ModifyTempUserId` int unsigned DEFAULT NULL COMMENT 'modify asset temperature user id',
  `IsDeleted` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'is asset delete: 0:not delete,1:deleted',
  `WalkInSystemType` varchar(50) DEFAULT NULL COMMENT 'part of walk-in system type',
  `GallonSizeType` varchar(50) DEFAULT NULL COMMENT 'part of gallon type',
  `WaterSupplyType` varchar(50) DEFAULT NULL COMMENT 'part of water supply type',
  `WaterHeaterType` varchar(50) DEFAULT NULL COMMENT 'part of water heater type',
  `KwSizeType` varchar(50) DEFAULT NULL COMMENT 'part of Element KW size type',
  `HasMixingValve` tinyint(1) DEFAULT NULL COMMENT 'has Mixing valve',
  `HasStorageTank` tinyint(1) DEFAULT NULL COMMENT 'has Storage tank',
  `BasinSize` varchar(50) DEFAULT NULL COMMENT 'part of basin size',
  `Btu` varchar(50) DEFAULT NULL COMMENT 'part of Btu',
  `IsFreshAirIntake` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Is there a fresh air intake into the room.',
  `IsAccessible` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Whether the asset has easy access.',
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAsset_LocationId` (`LocationId`),
  KEY `FK_client_LocationAsset_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `IDX_client_LocationAsset_AssetRetiredId` (`AssetRetiredId`),
  KEY `ID_client_LocationAsset_RawDataAssetId` (`RawDataAssetId`),
  KEY `ID_client_LocationAsset_EquipmentType` (`EquipmentType`,`ServiceCategoryId`),
  KEY `ID_client_LocationAsset_Manufacturer` (`Manufacturer`,`ServiceCategoryId`),
  CONSTRAINT `FK_client_LocationAsset_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationAsset_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;location asset details';

CREATE TABLE `client_LocationAssetAreaServedConfig` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'client_Profile.Id',
  `ClientAreaServedEnumId` smallint unsigned NOT NULL COMMENT 'data_SysEnum.Id',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Is it active',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetAreaServedConfig_ClientAreaServedEnumId` (`ClientAreaServedEnumId`),
  KEY `FK_client_LocationAssetAreaServedConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_LocationAssetAreaServedConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;location asset area served config, client level.';

CREATE TABLE `client_LocationAssetAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetId` int unsigned NOT NULL COMMENT 'client_LocationAsset.Id',
  `AttachmentPath` varchar(300) NOT NULL COMMENT 'Attachment Path',
  `AttachmentType` smallint NOT NULL COMMENT 'Asset=1, Part=2',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `LabelName` varchar(50) DEFAULT NULL COMMENT 'Label Name',
  `PartId` int unsigned DEFAULT NULL COMMENT 'inactive',
  `RefType` smallint NOT NULL DEFAULT '1' COMMENT 'Asset Type,"Asset"=1, "Part"=2',
  `IsVisible` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Is Visible:Visible=0,invisible=1',
  `ExifOrientation` smallint DEFAULT NULL COMMENT 'inactive',
  `PictureShootingAngle` smallint DEFAULT NULL COMMENT 'FrontOfAsset = 1,SideOfAssetOne = 2,SideOfAssetTwo = 3,BackOfAsset = 4,Label = 5,Additional = 6',
  `WORecurrentId` int unsigned DEFAULT NULL COMMENT 'Id int table client_WORecurrent',
  `FileName` varchar(200) DEFAULT NULL COMMENT 'Asset attachment filename ',
  `ContentType` varchar(50) DEFAULT NULL COMMENT 'Content Type',
  PRIMARY KEY (`Id`),
  KEY `ID_client_LocationAssetAttachment` (`AssetId`),
  KEY `ID_client_LocationAssetAttachment_PartId` (`PartId`),
  KEY `ID_client_LocationAssetAttachment_AttachmentPath` (`AttachmentPath`)
)  COMMENT='Asset;The attachments informations on the location assets for each recurrent wo';

CREATE TABLE `client_LocationAssetClientAreaServed` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationAssetId` int unsigned NOT NULL COMMENT 'client_LocationAsset.Id',
  `ClientAreaServed` smallint NOT NULL COMMENT 'data_SysEnum.Id',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetClientAreaServed_LocationAssetId` (`LocationAssetId`),
  CONSTRAINT `FK_client_LocationAssetClientAreaServed_LocationAssetId` FOREIGN KEY (`LocationAssetId`) REFERENCES `client_LocationAsset` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;location asset client area served,asset level';

CREATE TABLE `client_LocationAssetExpense` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL COMMENT 'Id int table client_WORecurrent',
  `LocationAssetId` int unsigned NOT NULL COMMENT 'client_LocationAsset.Id',
  `LocationAssetRawId` int unsigned DEFAULT NULL COMMENT 'Service asset Id, client_LocationAssetRawData.Id',
  `AssetCompleteType` smallint NOT NULL COMMENT 'Manual = 1,Auto = 2',
  `ExpenseAmount` decimal(18,2) NOT NULL COMMENT 'Expense Amount',
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `CreateDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='Asset;If a WO is going to move to ''Completed'' in ARIA, the system must take the $ value in the ''Customer Price'' field and distribute it equally among the active assets which have the same service category. This table stores the distribution expense for each asset.';

CREATE TABLE `client_LocationAssetFilter` (
  `Id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `AssetId` int unsigned NOT NULL COMMENT 'Asset Id',
  `FilterNum` int DEFAULT NULL COMMENT 'Filter Num',
  `FilterSize` varchar(50) DEFAULT NULL COMMENT 'FilterSize',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetFilter_AssetId` (`AssetId`),
  CONSTRAINT `FK_client_LocationAssetFilter_AssetId` FOREIGN KEY (`AssetId`) REFERENCES `client_LocationAsset` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;Location asset air conditioning filter';

CREATE TABLE `client_LocationAssetMergeLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationAssetId` int unsigned NOT NULL COMMENT 'Asset Id, client_LocationAsset.Id',
  `MergeType` smallint NOT NULL COMMENT 'PerfectMatch=1,SerialNoMatch=2,PercentageMatch=3,NoMatch=4,CreateAsset=7,FlagAsset=6,OrphanAsset=5',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `WORecurrentId` int unsigned NOT NULL COMMENT 'client_WORecurrent.Id',
  `SourceAssetId` int unsigned DEFAULT NULL COMMENT 'Asset Id, client_LocationAsset.Id',
  `SourceRawDataAssetId` int unsigned DEFAULT NULL COMMENT 'Service asset Id,client_LocationAssetRawData.Id',
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetMergeLog_LocationAssetId` (`LocationAssetId`),
  CONSTRAINT `FK_client_LocationAssetMergeLog_LocationAssetId` FOREIGN KEY (`LocationAssetId`) REFERENCES `client_LocationAsset` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;SMSers will merge a service asset /location asset to a location asset after verified. This table stores the merge logs';

CREATE TABLE `client_LocationAssetPart` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetId` int unsigned NOT NULL COMMENT 'client_LocationAsset.Id',
  `EquipmentType` varchar(200) DEFAULT NULL COMMENT 'Device model',
  `Manufacturer` varchar(200) DEFAULT NULL COMMENT 'manufacturer',
  `ManufacturerProviderNum` varchar(200) DEFAULT NULL COMMENT 'Manufacturing supplier number',
  `ModelNum` varchar(200) DEFAULT NULL COMMENT 'Model',
  `SerialNum` varchar(200) DEFAULT NULL COMMENT 'Serial number',
  `InstallationDate` date DEFAULT NULL COMMENT 'Installation date',
  `WarrantyCoverage` float DEFAULT NULL COMMENT 'Warranty years',
  `WarrantyEffectiveDate` date DEFAULT NULL COMMENT 'Warranty effective date',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Is it active',
  `UnitNum` varchar(50) DEFAULT NULL COMMENT 'Unit Num',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetPart_AssetId` (`AssetId`),
  CONSTRAINT `FK_client_LocationAssetPart_AssetId` FOREIGN KEY (`AssetId`) REFERENCES `client_LocationAsset` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;location asset part informations';

CREATE TABLE `client_LocationAssetQRCode` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetId` int unsigned DEFAULT NULL COMMENT 'client_LocationAsset.Id',
  `QRCodeType` smallint DEFAULT NULL COMMENT 'inactive',
  `QRCodeName` varchar(100) DEFAULT NULL COMMENT 'inactive',
  `QRCode` varchar(255) DEFAULT NULL COMMENT 'QR code value',
  `Expired` datetime DEFAULT NULL COMMENT 'inactive',
  `IsRelated` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Related=1,not Related=0',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ORCImage` varchar(100) DEFAULT NULL COMMENT 'inactive',
  `ORCText` varchar(300) DEFAULT NULL COMMENT 'inactive',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Is it active',
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAsset_AssetId` (`AssetId`),
  KEY `ID_client_LocationAssetQRCode_QRCode` (`QRCode`),
  CONSTRAINT `FK_client_LocationAsset_AssetId` FOREIGN KEY (`AssetId`) REFERENCES `client_LocationAsset` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;location asset QR code';

CREATE TABLE `client_LocationAssetRawData` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL COMMENT 'LocationId, client_Location.Id',
  `ServiceCategoryId` smallint NOT NULL COMMENT 'ServiceCategoryId,data_ServiceCategory.Id',
  `StatusId` smallint NOT NULL COMMENT 'Pending = 0,Active = 1,Draft = 2',
  `HealthLevel` varchar(50) DEFAULT NULL COMMENT 'Health Level',
  `EquipmentType` varchar(100) DEFAULT NULL COMMENT 'Device model',
  `UnitNum` varchar(50) DEFAULT NULL COMMENT 'Unit Num',
  `SplitNum` varchar(50) DEFAULT NULL COMMENT 'SplitNum',
  `Manufacturer` varchar(200) DEFAULT NULL COMMENT 'manufacturer',
  `Belts` int DEFAULT NULL COMMENT 'Number of asset belts',
  `BeltSizeA` varchar(50) DEFAULT NULL COMMENT 'Asset Belt Size',
  `Filters` int DEFAULT NULL COMMENT 'Filter Num',
  `FilterSize1` varchar(50) DEFAULT NULL COMMENT 'Filter Size',
  `IsCurbAdapter` tinyint(1) DEFAULT NULL COMMENT 'Curb Adapter',
  `IsHailGuards` tinyint(1) DEFAULT NULL COMMENT 'Is HailGuards',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `AssetName` varchar(50) NOT NULL COMMENT 'Asset Name',
  `WORecurrentId` int unsigned NOT NULL COMMENT 'client_WORecurrent.Id',
  `IsGeneratedAttachment` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'GeneratedAttachment=1,GeneratedAttachment=0',
  `RequestWOId` int unsigned DEFAULT NULL COMMENT 'Affiliate RequestWO Id, affiliate_RequestWO.Id',
  `ModelNum` varchar(200) DEFAULT NULL COMMENT 'Model',
  `SerialNum` varchar(200) DEFAULT NULL COMMENT 'Serial number',
  `Tonnage` decimal(16,5) DEFAULT NULL COMMENT 'Asset Tonnage',
  `Voltage` decimal(16,5) DEFAULT NULL COMMENT 'Asset Voltage',
  `Amperage` int DEFAULT NULL COMMENT 'Asset Amperage',
  `Unitage` int DEFAULT NULL COMMENT 'UNIT AGE',
  `HeatType` varchar(50) DEFAULT NULL COMMENT 'Asset Heat Type',
  `RefrigerantType` varchar(50) DEFAULT NULL COMMENT 'Asset Refrigerant Type',
  `ManufacturedYear` smallint DEFAULT NULL COMMENT 'Year of manufacture',
  `IsLabelNotReadable` tinyint(1) DEFAULT NULL COMMENT 'Asset Label is Not Readable:Readable=1,Not Readable=0',
  `IsLabelPhotoNotProvided` tinyint(1) DEFAULT NULL COMMENT 'Inside Label Photo Not Provided',
  `IsMerged` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Is it merged into a location asset? Merged=1,Not Merged=0',
  `MergeDate` datetime DEFAULT NULL COMMENT 'Merge Date',
  `MergeUserId` int unsigned DEFAULT NULL COMMENT 'Who merge the service asset',
  `LocationAreaSysEnumId` smallint DEFAULT NULL COMMENT 'Asset Location Area, data_SysEnum.Id',
  `ReferenceTemperature` varchar(500) DEFAULT NULL COMMENT 'Reference temperature',
  `SupplyTempReading` varchar(500) DEFAULT NULL COMMENT 'Power supply temperature reading',
  `ReturnTempReading` varchar(500) DEFAULT NULL COMMENT 'Air temperature reading',
  `AssetOverallHealthType` smallint DEFAULT NULL COMMENT 'Asset Overall Health Type,"New or like New"=1, "Worn but functional:=2,"Needs repair"=3',
  `DamperType` smallint DEFAULT NULL COMMENT 'Asset Damper Type."Manual"=1,"Economizer"=2,"Damper type not required"=3, "Not installed"=4',
  `DamageApplies` varchar(200) DEFAULT NULL COMMENT 'Asset Condition. Ids in the table data_SysEnum',
  `DamageAppliesOtherRemark` varchar(500) DEFAULT NULL COMMENT 'Sub Condition (Bacteria Growth etc.)',
  `IsDuplicate` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'service asset photo file is duplicate',
  `WearAndTearType` smallint DEFAULT NULL COMMENT 'wear an tear type. minor:1, major:2.',
  `LinkAssetId` int unsigned DEFAULT NULL COMMENT 'linked asset id, from client_LocationAsset.Id',
  `SkipLinkAssetReasonId` smallint DEFAULT NULL COMMENT 'skip link asset reason, from data_SysEnum.Id',
  `LocationAssetId` int unsigned DEFAULT NULL COMMENT 'Location Asset Id ; from client_LocationAsset',
  `IsNewAsset` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'is new asset create',
  `WalkInSystemType` varchar(50) DEFAULT NULL COMMENT 'part of walk-in system type',
  `GallonSizeType` varchar(50) DEFAULT NULL COMMENT 'part of gallon type',
  `WaterSupplyType` varchar(50) DEFAULT NULL COMMENT 'part of water supply type',
  `WaterHeaterType` varchar(50) DEFAULT NULL COMMENT 'part of water heater type',
  `KwSizeType` varchar(50) DEFAULT NULL COMMENT 'part of Element KW size type',
  `HasMixingValve` tinyint(1) DEFAULT NULL COMMENT 'has Mixing valve',
  `HasStorageTank` tinyint(1) DEFAULT NULL COMMENT 'has Storage tank',
  `BasinSize` varchar(50) DEFAULT NULL COMMENT 'part of basin size',
  `Btu` varchar(50) DEFAULT NULL COMMENT 'part of Btu',
  `QRCode` varchar(10) DEFAULT NULL COMMENT 'Service asset qrCode',
  `IsHaveRoofAccess` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the location has roof access.',
  `IsFreshAirIntake` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Is there a fresh air intake into the room.',
  `SourceId` smallint NOT NULL DEFAULT '0' COMMENT '0:PmProcess 1:survey 2:NativePmProcess 3:DataCollection',
  `SkipReason` varchar(100) DEFAULT NULL COMMENT 'Reasons for skipping maintenance',
  `MissingOrDuplicateReasonId` smallint DEFAULT NULL COMMENT 'data_AssetDropDownType table id = 10.',
  `IssueId` int unsigned DEFAULT NULL COMMENT 'issue id from RWOA process , from issue_Info',
  PRIMARY KEY (`Id`),
  KEY `ID_client_LocationAssetRawData_LocationId` (`LocationId`),
  KEY `ID_client_LocationAssetRawData_CreateDate` (`CreateDate`),
  KEY `ID_client_LocationAssetRawData_WORecurrentId` (`WORecurrentId`),
  KEY `ID_client_LocationAssetRawData_RequestWOId` (`RequestWOId`),
  CONSTRAINT `FK_client_LocationAssetRawData_RequestWOId` FOREIGN KEY (`RequestWOId`) REFERENCES `affiliate_RequestWO` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;This table used to store the asset raw data that technicians collected.We call the assets in this table as service assets, a service asset may be transferred into a real asset (we call it as a location asset).';

CREATE TABLE `client_LocationAssetRawDataAreaServed` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationAssetRawDataId` int unsigned NOT NULL COMMENT 'Service asset Id. client_LocationAssetRawDataAreaServed.Id',
  `ClientAreaServed` smallint NOT NULL COMMENT 'Client Area Served',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_LocationAssetRawDataAreaServed` (`LocationAssetRawDataId`)
)  COMMENT='Asset;location service asset client area served';

CREATE TABLE `client_LocationAssetRawDataAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetRawDataId` int unsigned NOT NULL COMMENT 'Service asset Id. client_LocationAssetRawDataAreaServed.Id',
  `AttachmentPath` varchar(300) NOT NULL COMMENT 'Attachment Path',
  `AttachmentType` smallint NOT NULL COMMENT 'Asset=1, Part=2',
  `LabelName` varchar(50) DEFAULT NULL COMMENT 'Label Name',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `PictureShootingAngle` smallint DEFAULT NULL COMMENT 'FrontOfAsset = 1,SideOfAssetOne = 2,SideOfAssetTwo = 3,BackOfAsset = 4,Label = 5,Additional = 6',
  `PhotoHash` varchar(50) DEFAULT NULL COMMENT 'photo file hash value',
  `IsDuplicate` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'file is duplicate',
  PRIMARY KEY (`Id`) USING BTREE,
  KEY `FK_client_LocationAssetRawDataAttachment_AssetRawDataId` (`AssetRawDataId`),
  KEY `ID_client_LocationAssetRawDataAttachment_AttachmentPath` (`AttachmentPath`),
  CONSTRAINT `FK_client_LocationAssetRawDataAttachment_AssetRawDataId` FOREIGN KEY (`AssetRawDataId`) REFERENCES `client_LocationAssetRawData` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;location service asset attachment';

CREATE TABLE `client_LocationAssetRawDataFilter` (
  `Id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `AssetRawDataId` int unsigned NOT NULL COMMENT 'Service asset Id.Id in the table client_LocationAssetRawDataAreaServed',
  `FilterNum` int DEFAULT NULL COMMENT 'Filter Num',
  `FilterSize` varchar(50) DEFAULT NULL COMMENT 'Filter Size',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetRawDataFilter_AssetRawDataId` (`AssetRawDataId`),
  CONSTRAINT `FK_client_LocationAssetRawDataFilter_AssetRawDataId` FOREIGN KEY (`AssetRawDataId`) REFERENCES `client_LocationAssetRawData` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;Location service asset air conditioning filter';

CREATE TABLE `client_LocationAssetRawDataLabel` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationAssetRawDataId` int unsigned NOT NULL,
  `LabelId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationAssetRawDataLabel` (`LocationAssetRawDataId`,`LabelId`),
  KEY `FK_client_LocationAssetRawDataLabel_LabelId` (`LabelId`),
  CONSTRAINT `FK_client_LocationAssetRawDataLabel_LabelId` FOREIGN KEY (`LabelId`) REFERENCES `sms_Label` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationAssetRawDataLabel_LocationAssetRawDataId` FOREIGN KEY (`LocationAssetRawDataId`) REFERENCES `client_LocationAssetRawData` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationAssetRawDataLinkAsset` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationAssetRawDataId` int unsigned NOT NULL,
  `LocationAssetId` int unsigned NOT NULL COMMENT 'linked asset id, from client_LocationAsset.Id',
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetRawDataLinkAsset_LocationAssetRawDataId` (`LocationAssetRawDataId`),
  KEY `FK_client_LocationAssetRawDataLinkAsset_LocationAssetId` (`LocationAssetId`),
  CONSTRAINT `FK_client_LocationAssetRawDataLinkAsset_LocationAssetId` FOREIGN KEY (`LocationAssetId`) REFERENCES `client_LocationAsset` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationAssetRawDataLinkAsset_LocationAssetRawDataId` FOREIGN KEY (`LocationAssetRawDataId`) REFERENCES `client_LocationAssetRawData` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;location service asset linked asset';

CREATE TABLE `client_LocationAssetRawDataRefrigerant` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetRawDataId` int unsigned NOT NULL COMMENT 'client_LocationAssetRawData table id.',
  `ChargeTypeId` smallint NOT NULL COMMENT 'Refrigerant Factory charge type.(1:stage1, 2:stage2, 3:stage3, 4:stage4)',
  `Pounds` int DEFAULT NULL COMMENT 'Weight unit: pounds.',
  `Ounces` int DEFAULT NULL COMMENT 'Weight unit: ounces.',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetRawDataRefrigerant_AssetRawDataId` (`AssetRawDataId`),
  CONSTRAINT `FK_client_LocationAssetRawDataRefrigerant_AssetRawDataId` FOREIGN KEY (`AssetRawDataId`) REFERENCES `client_LocationAssetRawData` (`Id`)
)  COMMENT='Asset; Service asset: refrigerant factory charge data.';

CREATE TABLE `client_LocationAssetRawDataTemperature` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetRawDataId` int unsigned NOT NULL COMMENT 'client_LocationAssetRawData id',
  `TypeId` smallint NOT NULL COMMENT '1:cool,2:heating',
  `DeviceStatusId` smallint DEFAULT NULL COMMENT 'device status:1.as expected 2 out expected,3.unable to confirm 4,not applicable',
  `ReferenceTemperature` varchar(500) DEFAULT NULL COMMENT 'zone temp reading',
  `SupplyTempReading` varchar(500) DEFAULT NULL COMMENT 'supply temp reading',
  `ReturnTempReading` varchar(500) DEFAULT NULL COMMENT 'return temp reading',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'the record is enable,1:active 0:inactive',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_client_LocationAssetRawDataTemperature` (`AssetRawDataId`,`IsActive`),
  CONSTRAINT `FK_client_LocationAssetRawDataTemperature_AssetRawDataId` FOREIGN KEY (`AssetRawDataId`) REFERENCES `client_LocationAssetRawData` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset RawData Temperature';

CREATE TABLE `client_LocationAssetRefrigerant` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetId` int unsigned NOT NULL COMMENT 'client_LocationAsset table id.',
  `ChargeTypeId` smallint NOT NULL COMMENT 'Refrigerant Factory charge type.(1:stage1, 2:stage2, 3:stage3, 4:stage4)',
  `Pounds` int DEFAULT NULL COMMENT 'Weight unit: pounds.',
  `Ounces` int DEFAULT NULL COMMENT 'Weight unit: ounces.',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetRefrigerant_AssetId` (`AssetId`),
  CONSTRAINT `FK_client_LocationAssetRefrigerant_AssetId` FOREIGN KEY (`AssetId`) REFERENCES `client_LocationAsset` (`Id`)
)  COMMENT='Asset; Location asset: refrigerant factory charge data.';

CREATE TABLE `client_LocationAssetServiceLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetId` int unsigned NOT NULL,
  `LocationId` int unsigned NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `WORecurrentId` int unsigned NOT NULL,
  `CheckStatus` smallint NOT NULL COMMENT '1:needSMSVerifiedAsset,2:Verified,3:missingOrDuplicate,4:skipAsset',
  `StatusId` smallint NOT NULL DEFAULT '0' COMMENT '0:draft,1:commit',
  `ModifiedAssetInfo` text COMMENT 'changed field info json',
  `CreateDate` datetime NOT NULL COMMENT 'create date',
  `CreateUserId` int unsigned NOT NULL COMMENT 'create user id',
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'modify date',
  `ModifyUserId` int unsigned DEFAULT NULL COMMENT 'modify user id',
  `LocationAssetRawDataId` int unsigned DEFAULT NULL COMMENT 'verified asset id',
  `ProcessId` varchar(50) DEFAULT NULL COMMENT 'Unique id in the pm process.',
  `ProcessTypeId` smallint NOT NULL DEFAULT '1' COMMENT '1:PmProcess 2:NativePmProcess',
  PRIMARY KEY (`Id`),
  KEY `ID_client_LocationAssetServiceLog_LocationId` (`LocationId`),
  KEY `ID_client_LocationAssetServiceLog_WORecurrentId` (`WORecurrentId`),
  KEY `ID_client_LocationAssetServiceLog_AssetId` (`AssetId`)
)  COMMENT='CRM;asset service log';

CREATE TABLE `client_LocationAssetTemperature` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetId` int unsigned NOT NULL COMMENT 'client_LocationAsset id',
  `TypeId` smallint NOT NULL COMMENT '1:cool,2:heating',
  `DeviceStatusId` smallint DEFAULT NULL COMMENT 'device status:1.as expected 2 out expected,3.unable to confirm 4,not applicable',
  `ReferenceTemperature` varchar(500) DEFAULT NULL COMMENT 'zone temp reading',
  `SupplyTempReading` varchar(500) DEFAULT NULL COMMENT 'supply temp reading',
  `ReturnTempReading` varchar(500) DEFAULT NULL COMMENT 'return temp reading',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'the record is enable,1:active 0:inactive',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_client_LocationAssetTemperature_AssetIdIsActive` (`AssetId`,`IsActive`),
  CONSTRAINT `FK_client_LocationAssetTemperature_AssetId` FOREIGN KEY (`AssetId`) REFERENCES `client_LocationAsset` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset Temperature';

CREATE TABLE `client_LocationAssetUpdateInfo` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `AssetId` int unsigned NOT NULL COMMENT 'Asset Id',
  `LastUpdateTime` datetime NOT NULL COMMENT 'Last Update Time',
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetUpdateInfo_client_LocationAssetId_idx` (`AssetId`),
  KEY `idx_client_LocationAssetUpdateInfo_LastUpdateTime` (`LastUpdateTime`),
  CONSTRAINT `FK_client_LocationAssetUpdateInfo_client_LocationAssetId` FOREIGN KEY (`AssetId`) REFERENCES `client_LocationAsset` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset;location asset details update log';

CREATE TABLE `client_LocationAssetWOReactiveServiceLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationAssetId` int unsigned NOT NULL,
  `WOReactiveId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL DEFAULT '0' COMMENT '0:draft,1:commit',
  `ServiceInfo` varchar(3000) DEFAULT NULL COMMENT 'serviced asset info json',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsRefrigerantNeeded` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0:not needed,1:needed',
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAssetWOReactiveServiceLog_LocationAssetId` (`LocationAssetId`),
  KEY `FK_client_LocationAssetWOReactiveServiceLog_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_LocationAssetWOReactiveServiceLog_LocationAssetId` FOREIGN KEY (`LocationAssetId`) REFERENCES `client_LocationAsset` (`Id`),
  CONSTRAINT `FK_client_LocationAssetWOReactiveServiceLog_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`)
)  COMMENT='Asset;reactive wo asset maintenance service log';

CREATE TABLE `client_LocationAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `AttachmentTypeId` smallint NOT NULL,
  `Name` varchar(100) DEFAULT NULL,
  `ContentType` varchar(100) NOT NULL,
  `URL` varchar(300) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationAttachment_LocationId` (`LocationId`),
  KEY `FK_client_LocationAttachment_AttachmentTypeId` (`AttachmentTypeId`),
  CONSTRAINT `FK_client_LocationAttachment_AttachmentTypeId` FOREIGN KEY (`AttachmentTypeId`) REFERENCES `data_LocationAttachmentType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationAttachment_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationAttribute` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL COMMENT 'Id in the table client_Location',
  `UnitStatus` varchar(50) DEFAULT NULL COMMENT 'unit status, such as vavant unrented not ready',
  `Warranty` varchar(50) DEFAULT NULL COMMENT 'Usually is the wanrranty date',
  `IsHighRisk` tinyint(1) DEFAULT NULL COMMENT '1 means high risk, 0 means isn''t high risk',
  `MoveInDate` date DEFAULT NULL COMMENT 'usually is the renter''s move in date',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `RuralUrbanId` smallint DEFAULT NULL COMMENT 'Id in the table data_RuralUrban',
  `MSA` varchar(100) DEFAULT NULL COMMENT 'Master Service Agreement.An MSA is a contract between two or more parties that establishes what terms and conditions will govern all current and future activities and responsibilities',
  `UnitCode` varchar(20) DEFAULT NULL,
  `Securitization` varchar(50) DEFAULT NULL,
  `IsTrusteeOccupied` tinyint(1) DEFAULT NULL COMMENT '1 means that the property is hand over by it''s trustee, else not.',
  `AcquisitionEntity` varchar(50) DEFAULT NULL COMMENT 'Acquisition Entity',
  `LotSize` varchar(50) DEFAULT NULL COMMENT 'Lot size',
  `YearBuilt` int DEFAULT NULL COMMENT 'Year Built',
  `BathRooms` decimal(18,2) DEFAULT NULL COMMENT 'How many bath rooms in this location',
  `TTSQFT` decimal(18,2) DEFAULT NULL,
  `Pool` varchar(50) DEFAULT NULL COMMENT 'The location has or hasn''t pool',
  `GateCode` varchar(250) DEFAULT NULL COMMENT 'The number of gate',
  `AcquiredDate` datetime DEFAULT NULL COMMENT 'Acquired Date',
  `IsLandscapingNeeded` tinyint(1) DEFAULT NULL COMMENT 'IsLandscapingNeeded',
  `SpecialCircumstances` varchar(200) DEFAULT NULL COMMENT 'Special Circumstances',
  `BedRooms` int DEFAULT NULL COMMENT 'How many bedrooms the location has',
  `PropertyHmy` int DEFAULT NULL,
  `FirstRentRevenueDate` datetime DEFAULT NULL,
  `PropertyCode` varchar(20) DEFAULT NULL COMMENT 'Property Code',
  `PropertyStatus` varchar(50) DEFAULT NULL COMMENT 'Property Status(active, inactive,sold and so on)',
  `LandscapingServiceType` varchar(30) DEFAULT NULL COMMENT 'basic service or full service',
  `IsRecurringLandscapingNeeded` tinyint(1) DEFAULT NULL COMMENT 'IsRecurringLandscapingNeeded',
  `InventoryDate` datetime DEFAULT NULL COMMENT 'Inventory Date',
  `IsRepeatOffender` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Is Repeat Offender',
  `County` varchar(50) DEFAULT NULL COMMENT 'County',
  `DispositionType` varchar(50) DEFAULT NULL COMMENT 'Show the disposition type of the house. Sell Leased, Sell Vavant or Evaluate',
  `Ownership` varchar(50) DEFAULT NULL COMMENT 'The owner ship of this house',
  `PoolMaint` varchar(50) DEFAULT NULL,
  `NewBuildWarrantyEndDate` date DEFAULT NULL COMMENT 'For the new build building there''s a warranty date,this field is the end date of warranty',
  `SurveyorFileName` varchar(200) DEFAULT NULL,
  `IsMaintenanceHold` tinyint(1) NOT NULL DEFAULT '0',
  `IsHighPriority` tinyint(1) DEFAULT NULL,
  `SidewalkSize` varchar(50) DEFAULT NULL COMMENT 'The size of sidewalk',
  `ApplicableServiceArea` varchar(50) DEFAULT NULL,
  `SurveyComplete` varchar(50) DEFAULT NULL,
  `IsTurf` tinyint(1) DEFAULT NULL COMMENT 'Whether the turf is covered',
  `IsIrrigation` tinyint(1) DEFAULT NULL COMMENT 'Whether has irrigation',
  `LandscapingSize` float DEFAULT NULL COMMENT 'The size of landscaping',
  `FloorType` varchar(255) DEFAULT NULL COMMENT 'The type of floor, such as concrete or inyl composite tile',
  `VCTSQTF` varchar(255) DEFAULT NULL,
  `CARPETSQFT` varchar(255) DEFAULT NULL COMMENT 'The size of carpert.SQFT means square foot',
  `CONCRETESQFT` varchar(255) DEFAULT NULL COMMENT 'The size of concrete.SQFT means square foot',
  `Frequency` varchar(255) DEFAULT NULL,
  `Restrooms` int DEFAULT NULL COMMENT 'How many restrooms in the house',
  `TruckDay` varchar(255) DEFAULT NULL COMMENT 'From this field you can know which day the truck can be drived to the house.',
  `PM` varchar(255) DEFAULT NULL,
  `BedArea` decimal(10,2) DEFAULT NULL COMMENT 'The area of bed',
  `MainDriveSqFt` decimal(10,2) DEFAULT NULL,
  `AdditionalDriveSqFt` decimal(10,2) DEFAULT NULL,
  `IsHasPath` tinyint(1) DEFAULT '0',
  `PathCount` smallint DEFAULT NULL,
  `LocationPhoto` varchar(100) DEFAULT NULL COMMENT 'Location photo',
  `BuildingId` varchar(50) DEFAULT NULL COMMENT 'Building ID',
  `IsMandatoryHighRisk` tinyint(1) DEFAULT '0',
  `RetentionPondSize` decimal(10,2) DEFAULT NULL COMMENT 'The size of retention pond. The unit is sqft.',
  `MulchType` varchar(50) DEFAULT NULL,
  `NonPalmTrees` decimal(10,2) DEFAULT NULL COMMENT 'How many non-plam trees in the house',
  `PalmTrees` decimal(10,2) DEFAULT NULL COMMENT 'How many palm trees in the house',
  `ParkingLotSize` decimal(10,2) DEFAULT NULL COMMENT 'The size of parking lot',
  `IsHOA` tinyint(1) DEFAULT NULL,
  `IsSmartHome` tinyint(1) DEFAULT NULL,
  `InsideMapWalkthroughURL` varchar(150) DEFAULT NULL,
  `InsideMap3DModelURL` varchar(150) DEFAULT NULL,
  `DronebaseExternalId` varchar(20) DEFAULT NULL,
  `DronebaseURL` varchar(150) DEFAULT NULL,
  `LVTSQFT` varchar(255) DEFAULT NULL,
  `Community` varchar(45) DEFAULT NULL,
  `MaintenanceHoldEnumId` smallint DEFAULT NULL,
  `RemodelDate` datetime DEFAULT NULL,
  `RiskClass` smallint DEFAULT NULL,
  `Origin` varchar(50) DEFAULT NULL,
  `PrimaryResidentStatus` varchar(20) DEFAULT NULL COMMENT 'This value comes from a third party, it shows the status of primary resident.',
  `CustomerPropertyId` varchar(50) DEFAULT NULL,
  `MoveinReadyDate` datetime DEFAULT NULL COMMENT 'The date that resident ready to move in',
  `LockboxCode` varchar(40) DEFAULT NULL,
  `AccessCode` varchar(40) DEFAULT NULL,
  `AssignedEstimator` varchar(150) DEFAULT NULL,
  `AssignedSuperintendent` varchar(150) DEFAULT NULL,
  `BrokerPartner` varchar(150) DEFAULT NULL,
  `SellingContractEffectiveDate` datetime DEFAULT NULL COMMENT 'The effective date of the selling contract',
  `SellingClosingDate` datetime DEFAULT NULL COMMENT 'The date that the house can''t be sold',
  `ActivedbyNDCPJob` tinyint(1) DEFAULT '0',
  `IsAirFilterDelivered` tinyint(1) NOT NULL DEFAULT '0',
  `PortfolioDirector` varchar(200) DEFAULT NULL COMMENT 'The director of the portfolio',
  `IsSmartHomeInstalled` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'If the value of this field is 1 means that this house is installed "smart home"',
  `IsSHVideoDoorbellInstalled` tinyint(1) NOT NULL DEFAULT '0',
  `SOWTrigger` decimal(10,2) NOT NULL DEFAULT '1.00',
  `SAPCostCenter` varchar(20) DEFAULT NULL COMMENT 'SAPCostCenter',
  `AccessCodes` varchar(255) DEFAULT NULL,
  `AccessInstructions` varchar(255) DEFAULT NULL,
  `LockBoxCodes` varchar(255) DEFAULT NULL,
  `AlarmCodes` varchar(255) DEFAULT NULL,
  `IsPartmall` tinyint(1) DEFAULT NULL COMMENT 'Is part mall',
  `VeterinaryServiceType` smallint DEFAULT NULL COMMENT 'PetSmart Veterinary Service Provider Of Location',
  `WOCEEmail` varchar(100) DEFAULT NULL COMMENT 'The email address used to receive Work Order Creation Essentials Email (it list a store email for product, but not send the email notifications to store emails)',
  `PropertyMapURL` varchar(200) DEFAULT NULL COMMENT 'a property map url to the location',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationAttribute` (`LocationId`),
  KEY `FK_client_LocationAttribute_RuralUrbanId` (`RuralUrbanId`),
  CONSTRAINT `FK_client_LocationAttribute_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationAttribute_RuralUrbanId` FOREIGN KEY (`RuralUrbanId`) REFERENCES `data_RuralUrban` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;Store the informations of client locations';

CREATE TABLE `client_LocationBusinessUnit` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `BusinessUnitId` smallint NOT NULL,
  `SerivceActive` tinyint(1) DEFAULT '1',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationBusinessUnit_LocationId_BusinessUnitId` (`LocationId`,`BusinessUnitId`),
  KEY `FK_client_LocationBusinessUnit_BusinessUnitId` (`BusinessUnitId`),
  CONSTRAINT `FK_client_LocationBusinessUnit_BusinessUnitId` FOREIGN KEY (`BusinessUnitId`) REFERENCES `data_BusinessUnit` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationBusinessUnit_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationCallDelegate` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `UserId` int unsigned NOT NULL,
  `ExpireDate` datetime NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_Location_LocationId` (`LocationId`),
  KEY `FK_sms_UserProfile_UserId` (`UserId`),
  CONSTRAINT `FK_client_Location_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_sms_UserProfile_UserId` FOREIGN KEY (`UserId`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationComments` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `Content` varchar(500) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationComments_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationComments_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationDepartment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `DepartmentId` smallint DEFAULT NULL,
  `LocationPriorityId` smallint DEFAULT NULL,
  `LocationTypeId` int unsigned DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsHot` tinyint(1) NOT NULL DEFAULT '0',
  `HotLastUpdateDate` datetime DEFAULT NULL,
  `ContractTypeId` smallint DEFAULT NULL,
  `ContractNumber` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `FK_client_LocationDepartmentPriority_LocationId_DepartmentId` (`LocationId`,`DepartmentId`),
  KEY `FK_client_LocationDepartmentPriority_LocationId` (`LocationId`),
  KEY `FK_client_LocationDepartmentPriority_DepartmentId` (`DepartmentId`),
  KEY `FK_client_LocationDepartmentPriority_LocationTypeId_idx` (`LocationTypeId`),
  KEY `FK_client_LocationDepartment_ContractTypeId` (`ContractTypeId`),
  KEY `ID_client_LocationDepartment_LocationPriorityId` (`LocationPriorityId`),
  CONSTRAINT `FK_client_LocationDepartment_ContractTypeId` FOREIGN KEY (`ContractTypeId`) REFERENCES `data_DepartmentContractType` (`Id`),
  CONSTRAINT `FK_client_LocationDepartmentPriority_DepartmentId` FOREIGN KEY (`DepartmentId`) REFERENCES `data_Department` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationDepartmentPriority_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationDepartmentPriority_LocationTypeId` FOREIGN KEY (`LocationTypeId`) REFERENCES `client_LocationType` (`Id`)
) ;

CREATE TABLE `client_LocationDispatchAffiliateList` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `Rank` smallint unsigned NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `RecommendReason` smallint DEFAULT NULL,
  `TradeId` smallint NOT NULL,
  `DeclineReason` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationDispatchAffiliateList_LocationTradeRank` (`LocationId`,`TradeId`,`Rank`),
  KEY `FK_affiliate_LocationDispatchList_AffiliateId` (`AffiliateId`),
  KEY `FK_client_LocationDispatchAffiliateList_TradeId_idx` (`TradeId`),
  CONSTRAINT `FK_affiliate_LocationDispatchList_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_affiliate_LocationDispatchList_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationDispatchAffiliateList_TradeId` FOREIGN KEY (`TradeId`) REFERENCES `data_Trade` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationEligibleBillingMonth` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `DepartmentId` smallint NOT NULL,
  `EligibleMonth` int NOT NULL,
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationEligibleBillingMonth_LocationId_idx` (`LocationId`),
  CONSTRAINT `FK_client_LocationEligibleBillingMonth_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationFLSEquipment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `SerialNo` varchar(100) DEFAULT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `IsExists` tinyint(1) NOT NULL DEFAULT '0',
  `EquipmentType` varchar(100) DEFAULT NULL,
  `LastInspectionDate` date DEFAULT NULL,
  `NewInspectionDate` date DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `Note` varchar(500) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationFLSEquipment_LocationId` (`LocationId`),
  KEY `FK_client_LocationFLSEquipment_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_LocationFLSEquipment_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationFLSEquipment_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationFloorCare` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `FloorType` varchar(255) DEFAULT NULL,
  `TTSQFT` varchar(255) DEFAULT NULL,
  `VCTSQTF` varchar(255) DEFAULT NULL,
  `CARPETSQFT` varchar(255) DEFAULT NULL,
  `CONCRETESQFT` varchar(255) DEFAULT NULL,
  `Frequency` varchar(255) DEFAULT NULL,
  `Restrooms` int DEFAULT NULL,
  `TruckDay` varchar(255) DEFAULT NULL,
  `PM` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationFloorCare_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationFloorCare_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationFrequency` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceName` varchar(100) NOT NULL,
  `Frequency` varchar(50) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationFrequency_ServiceNameLocationId` (`ServiceName`,`LocationId`),
  KEY `FK_client_LocationFrequency_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationFrequency_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationLabel` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `LabelId` int unsigned NOT NULL COMMENT 'location label id',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationLabel` (`LocationId`,`LabelId`),
  KEY `FK_client_LocationLable_LabelId` (`LabelId`),
  CONSTRAINT `FK_client_LocationLabel_LabelId` FOREIGN KEY (`LabelId`) REFERENCES `sms_LocationLabel` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationLabel_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Location Label; Record the mapping relationship between location and label';

CREATE TABLE `client_LocationLabelConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `LabelId` int unsigned NOT NULL COMMENT 'location label Id ,from sms_LocationLabel',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL DEFAULT '1' COMMENT '1:Active,2:Inactive',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationLabelConfig_ClientIdLabelId` (`ClientId`,`LabelId`),
  KEY `FK_client_LocationLabelConfig_LabelId` (`LabelId`),
  CONSTRAINT `FK_client_LocationLabelConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationLabelConfig_LabelId` FOREIGN KEY (`LabelId`) REFERENCES `sms_LocationLabel` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='location label ; Available Labels configured for each client ';

CREATE TABLE `client_LocationLabelOperationLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `LocationLabelId` int unsigned NOT NULL COMMENT 'Store the id of the locationlabel , from the sms_LocationLabel table',
  `OpType` tinyint NOT NULL COMMENT 'Types of label operations ; 0:Removed ,1:Active',
  `OpDate` datetime NOT NULL COMMENT 'Operation time',
  `OpUserId` int unsigned NOT NULL COMMENT 'Operators',
  PRIMARY KEY (`Id`),
  KEY `IDX_client_LocationLabelOperationLog` (`LocationId`,`LocationLabelId`),
  KEY `FK_client_LocationLabelOperationLog_LocationLabelId` (`LocationLabelId`),
  CONSTRAINT `FK_client_LocationLabelOperationLog_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationLabelOperationLog_LocationLabelId` FOREIGN KEY (`LocationLabelId`) REFERENCES `sms_LocationLabel` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='location label;Store the operation log of the location label';

CREATE TABLE `client_LocationLabelPermission` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `LocationLabelId` int unsigned NOT NULL,
  `RoleId` int unsigned DEFAULT NULL,
  `LabelPermissionId` int unsigned NOT NULL COMMENT '1:None,2:ReadOnly,3:Edit,All:9',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationLabelPermission` (`ClientId`,`LocationLabelId`,`RoleId`,`LabelPermissionId`),
  KEY `FK_client_LocationLabelPermission_ClientId` (`ClientId`),
  KEY `FK_client_LocationLabelPermission_LocationLabelId` (`LocationLabelId`),
  KEY `FK_client_LocationLabelPermission_RoleId` (`RoleId`),
  CONSTRAINT `FK_client_LocationLabelPermission_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationLabelPermission_LocationLabelId` FOREIGN KEY (`LocationLabelId`) REFERENCES `sms_LocationLabel` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationLabelPermission_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `sms_Role` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='location label;client location label permission;Store permission for roles on lable per client';

CREATE TABLE `client_LocationLandlord` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `LandlordName` varchar(255) DEFAULT NULL,
  `LandlordCode` varchar(50) DEFAULT NULL,
  `Address1` varchar(255) DEFAULT NULL,
  `Address2` varchar(255) DEFAULT NULL,
  `City` varchar(100) DEFAULT NULL,
  `State` varchar(20) DEFAULT NULL,
  `Zippostal` varchar(100) DEFAULT NULL,
  `Contact` varchar(255) DEFAULT NULL,
  `Phone` varchar(100) DEFAULT NULL,
  `Email` varchar(255) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Fax` varchar(25) DEFAULT NULL,
  `HouseOwnerId` varchar(40) DEFAULT NULL,
  `IsServiceable` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Is there any service provided for Landlord''s location',
  `StripeCreditCardId` varchar(100) DEFAULT NULL COMMENT 'Third party payment platforms (Stripe) credit card ID',
  `IsPrimaryAddress` tinyint NOT NULL DEFAULT '0' COMMENT 'primary address/owner-occupied property for Landlord',
  `StripePaymentMethodId` varchar(100) DEFAULT NULL COMMENT 'Third party payment platforms (Stripe) payment method id',
  `StripePaymentMethodTypeId` smallint DEFAULT NULL COMMENT '0:card 1:alipay 2:amazon_pay ...',
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationLandlord_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationLandlord_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationLandlordComment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LandlordId` int unsigned NOT NULL,
  `Comment` varchar(500) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationLandlordComment_LandlordId` (`LandlordId`),
  CONSTRAINT `FK_client_LocationLandlordComment_LandlordId` FOREIGN KEY (`LandlordId`) REFERENCES `client_LocationLandlord` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationLandscaping` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `IsTurf` tinyint(1) DEFAULT NULL,
  `IsIrrigation` tinyint(1) DEFAULT NULL,
  `LandscapingSize` float DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `LocationId_UNIQUE` (`LocationId`),
  KEY `FK_client_LocationLandscaping_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationLandscaping_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationLawInsurance` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ComplianceWithLaws` varchar(50) DEFAULT NULL,
  `PropertyInsurance` varchar(50) DEFAULT NULL,
  `NoticeRequirements` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationLawInsurance_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationLawInsurance_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;


CREATE TABLE `client_LocationMIR` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `FirstMIRDate` datetime DEFAULT NULL,
  `CertificationEndDate` datetime DEFAULT NULL,
  `CurrentMIRVendor` varchar(100) DEFAULT NULL,
  `FinancialStableDate` datetime DEFAULT NULL,
  `NewBuildWarrantyEndDate` datetime DEFAULT NULL,
  `CurrentMIRDate` datetime DEFAULT NULL,
  `CurrentMIRType` varchar(50) DEFAULT NULL,
  `UnitHmy` int DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationMIR_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationMIR_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationManager` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ManagerTypeId` smallint NOT NULL,
  `FirstName` varchar(50) NOT NULL,
  `MiddleName` varchar(50) DEFAULT NULL,
  `LastName` varchar(50) DEFAULT NULL,
  `Email` varchar(200) DEFAULT NULL,
  `Phone` varchar(25) DEFAULT NULL,
  `Fax` varchar(25) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationManager_LocationId` (`LocationId`),
  KEY `FK_client_LocationManager_ManagerTypeId` (`ManagerTypeId`),
  CONSTRAINT `FK_client_LocationManager_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationManager_ManagerTypeId` FOREIGN KEY (`ManagerTypeId`) REFERENCES `data_ManagerType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationMonthlyBudget` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `FiscalMonthId` int unsigned NOT NULL,
  `Amount` decimal(18,2) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `CapitalType` smallint DEFAULT NULL,
  `GLCode` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationMonthlyBudget_FiscalMonthId` (`FiscalMonthId`),
  KEY `FK_client_LocationMonthlyBudget_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationMonthlyBudget_FiscalMonthId` FOREIGN KEY (`FiscalMonthId`) REFERENCES `client_FiscalMonth` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationMonthlyBudget_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;


CREATE TABLE `client_LocationPrice` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `Price` decimal(18,2) NOT NULL,
  `EffecitveDate` date NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `FrequencyTypeId` tinyint DEFAULT NULL,
  `Frequency` smallint DEFAULT NULL,
  `DayValue` varchar(300) DEFAULT NULL,
  `TimeValue` time DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationPrice` (`LocationId`,`ServiceCodeId`),
  KEY `FK_client_LocationPrice_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_LocationPrice_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationPrice_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationProjectManager` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `BusinessUnitId` smallint NOT NULL,
  `AccountId` int unsigned DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `TeamLead` int unsigned DEFAULT NULL,
  `IsPrimary` tinyint(1) DEFAULT '0',
  `ProjectManagerTypeId` smallint DEFAULT '1',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationProjectManager_OM1` (`LocationId`,`BusinessUnitId`,`AccountId`,`ProjectManagerTypeId`),
  KEY `FK_client_LocationProjectManager_LocationId` (`LocationId`),
  KEY `FK_client_LocationProjectManager_BusinessUnitId` (`BusinessUnitId`),
  KEY `FK_client_LocationProjectManager_AccountId` (`AccountId`),
  KEY `FK_client_LocationProjectManager_TeamLead` (`TeamLead`),
  CONSTRAINT `FK_client_LocationProjectManager_AccountId` FOREIGN KEY (`AccountId`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationProjectManager_BusinessUnitId` FOREIGN KEY (`BusinessUnitId`) REFERENCES `data_BusinessUnit` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationProjectManager_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationProjectManager_TeamLead` FOREIGN KEY (`TeamLead`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationResidential` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL COMMENT 'The id of location',
  `Name` varchar(100) DEFAULT NULL COMMENT 'The name of the location',
  `ResidentialNum` varchar(50) DEFAULT NULL COMMENT 'The NO. of the resident',
  `Status` varchar(50) DEFAULT NULL COMMENT 'The status of the resident',
  `Email` varchar(100) DEFAULT NULL COMMENT 'The email of the resident',
  `Phone` varchar(25) DEFAULT NULL COMMENT 'The phone of the resident',
  `CellPhone` varchar(25) DEFAULT NULL COMMENT 'The cellphone of the resident',
  `OfficePhone` varchar(25) DEFAULT NULL COMMENT 'The office phone of the resident',
  `HomePhone` varchar(25) DEFAULT NULL COMMENT 'The home phone of the resident',
  `MoveInDate` datetime DEFAULT NULL COMMENT 'The date the resident move in',
  `MoveOutDate` datetime DEFAULT NULL COMMENT 'The date the resident move out',
  `LeaseStartDate` datetime DEFAULT NULL COMMENT 'The date of the lease start',
  `LeaseEndDate` datetime DEFAULT NULL COMMENT 'The date of the lease end',
  `IsReceiveSMSAlert` tinyint(1) DEFAULT '0' COMMENT 'Wether the resident receive sms alert',
  `AdditionalInformation` varchar(250) DEFAULT NULL COMMENT 'Additional information',
  `IsPrimaryResident` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wther the resident is the primary one',
  `FlagofPhonesForTextMessagingApproved` char(13) DEFAULT NULL COMMENT 'Flag of phones can receive text message',
  `PrimaryPhoneType` smallint DEFAULT NULL COMMENT 'Primary phone type. data_phonetype.Id',
  `IsSignupEmailSent` tinyint(1) DEFAULT '0' COMMENT 'Flag for schedule signup email sending job',
  PRIMARY KEY (`Id`),
  KEY `ID_client_LocationResidential_LocationId` (`LocationId`),
  KEY `ID_client_LocationResidential_Email` (`Email`),
  KEY `ID_client_LocationResidential_ResidentialNum` (`ResidentialNum`),
  CONSTRAINT `FK_client_LocationResidential_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;Store residents information in location';

CREATE TABLE `client_LocationServiceCategoryDisable` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationServiceCategoryDisable_LocationId` (`LocationId`),
  KEY `FK_client_LocationServiceCategoryDisable_ServiceCategoryId` (`ServiceCategoryId`),
  CONSTRAINT `FK_client_LocationServiceCategoryDisable_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceCategoryDisable_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationServiceCategoryManager` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `TypeId` smallint NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationServiceCategoryManager_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_client_LocationServiceCategoryManager_LocationId` (`LocationId`),
  KEY `FK_client_LocationServiceCategoryManager_TypeId` (`TypeId`),
  KEY `FK_client_LocationServiceCategoryManager_UserId` (`UserId`),
  CONSTRAINT `FK_client_LocationServiceCategoryManager_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceCategoryManager_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceCategoryManager_TypeId` FOREIGN KEY (`TypeId`) REFERENCES `data_ServiceCategoryManagerType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceCategoryManager_UserId` FOREIGN KEY (`UserId`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationServiceCategoryManagerHistory` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `TypeId` smallint NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_LocationServiceCategoryManagerHistory` (`ServiceCategoryId`),
  KEY `ID_client_LocationServiceCategoryManagerHistory_LocationId` (`LocationId`),
  KEY `ID_client_LocationServiceCategoryManagerHistory_TypeId` (`TypeId`),
  KEY `ID_client_LocationServiceCategoryManagerHistory_UserId` (`UserId`)
) ;

CREATE TABLE `client_LocationServiceCodeManager` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ManagerTypeId` smallint NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `Email` varchar(200) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationServiceCodeManager_LocationId` (`LocationId`),
  KEY `FK_client_LocationServiceCodeManager_ManagerTypeId` (`ManagerTypeId`),
  KEY `FK_client_LocationServiceCodeManager_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_LocationServiceCodeManager_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceCodeManager_ManagerTypeId` FOREIGN KEY (`ManagerTypeId`) REFERENCES `data_ManagerType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceCodeManager_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationServiceTypeAffiliate` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceTypeId` smallint NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `Rank` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `AffiliateServiceContractType` smallint DEFAULT NULL COMMENT 'EnumId24',
  `ContractStartMonth` date DEFAULT NULL,
  `ContractEndMonth` date DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationServiceTypeAffiliate_Rank` (`LocationId`,`ServiceTypeId`,`Rank`),
  UNIQUE KEY `UK_client_LocationServiceTypeAffiliate_Affiliate` (`AffiliateId`,`LocationId`,`ServiceTypeId`),
  KEY `FK_client_LocationServiceTypeAffiliate_LocationId` (`LocationId`),
  KEY `FK_client_LocationServiceTypeAffiliate_ServiceTypeId` (`ServiceTypeId`),
  KEY `FK_client_LocationServiceTypeAffiliate_AffiliateId` (`AffiliateId`),
  CONSTRAINT `FK_client_LocationServiceTypeAffiliate_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceTypeAffiliate_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceTypeAffiliate_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationServiceTypeAffiliateExtend` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationServiceTypeAffiliateId` int unsigned NOT NULL,
  `ServiceTermStartDate` date NOT NULL,
  `ServiceTermEndDate` date NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_LocationServiceTypeAffiliateId` (`LocationServiceTypeAffiliateId`),
  CONSTRAINT `FK_client_LocationServiceTypeAffiliateExtend` FOREIGN KEY (`LocationServiceTypeAffiliateId`) REFERENCES `client_LocationServiceTypeAffiliate` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationServiceTypeAffiliateHistory` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceTypeId` smallint NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `FromRank` smallint NOT NULL,
  `ToRank` smallint NOT NULL,
  `ActionType` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `client_LocationServiceTypeResponsible` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceTypeId` smallint NOT NULL,
  `MaintenanceId` int DEFAULT NULL,
  `MaintenancePartyId` int DEFAULT NULL,
  `RepairPartyId` int DEFAULT NULL,
  `ReplacePartyId` int DEFAULT NULL,
  `Description` varchar(2500) DEFAULT NULL,
  `Notice` varchar(1000) DEFAULT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationServiceTypeResponsible_LocationServiceTypeId` (`LocationId`,`ServiceTypeId`),
  KEY `FK_client_LocationServiceTypeResponsible_LocationId` (`LocationId`),
  KEY `FK_client_LocationServiceTypeResponsible_ServiceTypeId` (`ServiceTypeId`),
  KEY `FK_client_LocationServiceTypeResponsible_MaintenanceId` (`MaintenanceId`),
  KEY `FK_client_LocationServiceTypeResponsible_MaintenancePartyId` (`MaintenancePartyId`),
  KEY `FK_client_LocationServiceTypeResponsible_RepairPartyId` (`RepairPartyId`),
  KEY `FK_client_LocationServiceTypeResponsible_ReplacePartyId` (`ReplacePartyId`),
  KEY `ID_client_LocationServiceTypeResponsible_ServiceMaintenanceId` (`ServiceTypeId`,`MaintenanceId`),
  CONSTRAINT `FK_client_LocationServiceTypeResponsible_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceTypeResponsible_MaintenanceId` FOREIGN KEY (`MaintenanceId`) REFERENCES `data_LocationResponsible` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceTypeResponsible_MaintenancePartyId` FOREIGN KEY (`MaintenancePartyId`) REFERENCES `data_LocationResponsible` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceTypeResponsible_RepairPartyId` FOREIGN KEY (`RepairPartyId`) REFERENCES `data_LocationResponsible` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceTypeResponsible_ReplacePartyId` FOREIGN KEY (`ReplacePartyId`) REFERENCES `data_LocationResponsible` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceTypeResponsible_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationServiceTypeSetting` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceTypeId` smallint NOT NULL,
  `IsOverrideSID` tinyint(1) NOT NULL DEFAULT '0',
  `OverrideSIDUserId` int unsigned DEFAULT NULL,
  `OverrideSIDDate` datetime DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationServiceTypeSetting_LocationServiceTypeId` (`LocationId`,`ServiceTypeId`),
  KEY `FK_client_LocationServiceTypeSetting_ServiceTypeId` (`ServiceTypeId`),
  CONSTRAINT `FK_client_LocationServiceTypeSetting_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationServiceTypeSetting_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationSnowAlert` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL,
  `SendDateTime` datetime DEFAULT NULL,
  `ConfirmBy` int unsigned DEFAULT NULL,
  `ConfirmTime` datetime DEFAULT NULL,
  `ResponseTime` datetime DEFAULT NULL,
  `ResponseBy` varchar(100) DEFAULT NULL,
  `IsValid` tinyint(1) NOT NULL DEFAULT '1',
  `SnowFall` decimal(6,2) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `SnowForecastId` int unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationSnowAlert_LocationId` (`LocationId`),
  KEY `FK_client_LocationSnowAlert_AffiliateId` (`AffiliateId`),
  KEY `FK_client_LocationSnowAlert_StatusId` (`StatusId`),
  KEY `ID_client_LocationSnowAlert_SendDateTime` (`SendDateTime`),
  KEY `ID_client_LocationSnowAlert_CreateDate` (`CreateDate`),
  CONSTRAINT `FK_client_LocationSnowAlert_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationSnowAlert_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationSnowAlert_StatusId` FOREIGN KEY (`StatusId`) REFERENCES `data_SnowAlertStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationSnowAlertComment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `SnowAlertId` int unsigned NOT NULL,
  `Comment` varchar(500) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationSnowAlertComment_SnowAlertId` (`SnowAlertId`),
  CONSTRAINT `FK_client_LocationSnowAlertComment_SnowAlertId` FOREIGN KEY (`SnowAlertId`) REFERENCES `client_LocationSnowAlert` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationStoreHoursInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `DayofWeek` smallint DEFAULT NULL,
  `OpenTime` time DEFAULT NULL,
  `CloseTime` time DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationStoreHoursInfo_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationStoreHoursInfo_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationStreetViewImgConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned DEFAULT NULL,
  `FilePath` varchar(300) NOT NULL COMMENT 'Store the File path where the location Street View Image is located',
  `CustomerParentType` smallint NOT NULL COMMENT 'CustomerParent of client; data_CustomerParentType',
  `IsDefault` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Store config is default or not',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationStreetViewImgConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_LocationStreetViewImgConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;Store Location Street View Image File Path';

CREATE TABLE `client_LocationSubCost` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `SubCost` decimal(18,2) NOT NULL,
  `EffecitveDate` date NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Technician` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationSubCost_LSA` (`LocationId`,`ServiceCodeId`,`AffiliateId`),
  KEY `FK_client_LocationSubCost_LocationId` (`LocationId`),
  KEY `FK_client_LocationSubCost_ServiceCodeId` (`ServiceCodeId`),
  KEY `FK_client_LocationSubCost_AffiliateId` (`AffiliateId`),
  KEY `FK_client_LocationSubCost_Technician` (`Technician`),
  CONSTRAINT `FK_client_LocationSubCost_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationSubCost_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationSubCost_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationSubCost_Technician` FOREIGN KEY (`Technician`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationSubCostHistory` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationServiceTypeAffiliateHistoryId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `FromSubCost` decimal(18,2) NOT NULL,
  `ToSubCost` decimal(18,2) NOT NULL,
  `EffecitveDate` date NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationSubCostHistory_AffiliateHistory` (`LocationServiceTypeAffiliateHistoryId`),
  CONSTRAINT `FK_client_LocationSubCostHistory_AffiliateHistory` FOREIGN KEY (`LocationServiceTypeAffiliateHistoryId`) REFERENCES `client_LocationServiceTypeAffiliateHistory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationSubType` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationTypeId` int unsigned NOT NULL,
  `LocationSubType` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `Uni_client_LocationSubType_TypeIdSubType` (`LocationTypeId`,`LocationSubType`),
  KEY `FK_client_LocationSubType_LocationType_idx` (`LocationTypeId`),
  CONSTRAINT `FK_client_LocationSubType_LocationType` FOREIGN KEY (`LocationTypeId`) REFERENCES `client_LocationType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationTax` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `StatesTax` decimal(18,5) DEFAULT NULL,
  `CntsTax` decimal(18,5) DEFAULT NULL,
  `CntlclsTax` decimal(18,5) DEFAULT NULL,
  `CtysTax` decimal(18,5) DEFAULT NULL,
  `CtylclsTax` decimal(18,5) DEFAULT NULL,
  `CombsTax` decimal(18,5) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationTax_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationTax_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationTaxException` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ChargeCategoryId` smallint DEFAULT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationTaxException_LocationId` (`LocationId`),
  KEY `FK_client_LocationTaxException_ServiceCodeId` (`ServiceCodeId`),
  KEY `FK_client_LocationTaxException_ChargeCategoryId` (`ChargeCategoryId`),
  KEY `FK_client_LocationTaxException_ServiceTypeId` (`ServiceTypeId`),
  CONSTRAINT `FK_client_LocationTaxException_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationTaxException_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationTaxException_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationTaxException_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationType` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;


CREATE TABLE `client_LocationWarranty` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `WarrantyCoverage` varchar(500) DEFAULT NULL,
  `Photos` varchar(500) DEFAULT NULL,
  `Attach` varchar(500) DEFAULT NULL,
  `InstallDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationWarranty_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationWarranty_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationWarrantyDetail` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `ItemName` varchar(200) NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `InstallRepairDate` date DEFAULT NULL,
  `WarrantyLaborLength` smallint DEFAULT NULL,
  `WarrantyMaterialsLength` smallint DEFAULT NULL,
  `AffiliateId` int unsigned DEFAULT NULL,
  `Comments` varchar(500) DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_LocationWarrantyDetail_LocationId` (`LocationId`),
  KEY `FK_client_LocationWarrantyDetail_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_client_LocationWarrantyDetail_AffiliateId` (`AffiliateId`),
  CONSTRAINT `FK_client_LocationWarrantyDetail_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationWarrantyDetail_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_LocationWarrantyDetail_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_LocationWeather` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LocationId` int unsigned NOT NULL,
  `CreateDate` date NOT NULL,
  `MaxTemp` varchar(8) DEFAULT NULL,
  `MinTemp` varchar(8) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_LocationPrice` (`CreateDate`,`LocationId`),
  KEY `FK_client_LocationWeather_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_LocationWeather_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_MajorPMScopeAttachmentConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `DocumentType` smallint NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `ServiceTypeId` smallint NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  KEY `FK_client_MajorPMScopeAttachmentConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_MajorPMScopeAttachmentConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_Margin` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `StartValue` decimal(18,2) DEFAULT NULL,
  `EndValue` decimal(18,2) DEFAULT NULL,
  `Margin` decimal(18,4) NOT NULL DEFAULT '0.0000',
  `DepartmentId` smallint DEFAULT NULL,
  `ChargeCategoryId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_Margin_ClientId` (`ClientId`),
  KEY `FK_client_Margin_ChargeCategoryId` (`ChargeCategoryId`),
  CONSTRAINT `FK_client_Margin_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_Margin_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;


CREATE TABLE `client_PCDAConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `Group` varchar(50) DEFAULT NULL,
  `ClassificationId` int unsigned DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  `ConfigTypeId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_PCDAConfig_ClientId` (`ClientId`),
  KEY `FK_client_PCDAConfig_ServiceCodeId` (`ServiceCodeId`),
  KEY `FK_client_PCDAConfig_ClassificationId` (`ClassificationId`),
  KEY `FK_client_PCDAConfig_ServiceTypeId` (`ServiceTypeId`),
  CONSTRAINT `FK_client_PCDAConfig_ClassificationId` FOREIGN KEY (`ClassificationId`) REFERENCES `client_Classification` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PCDAConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PCDAConfig_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PCDAConfig_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PermissionGroup` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Name` varchar(50) NOT NULL,
  `Description` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_PermissionGroup_ClientId_Name` (`Name`,`ClientId`),
  KEY `FK_client_PermissionGroup_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_PermissionGroup_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PermissionGroupResource` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientPermissionGroupId` int unsigned NOT NULL,
  `PermissionResourceId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_PermissionGroupResource` (`ClientPermissionGroupId`,`PermissionResourceId`),
  KEY `FK_client_PermissionGroupResource_PermissionResourceId` (`PermissionResourceId`),
  CONSTRAINT `FK_client_PermissionGroupResource_ClientPermissionGroupId` FOREIGN KEY (`ClientPermissionGroupId`) REFERENCES `client_PermissionGroup` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PermissionGroupResource_PermissionResourceId` FOREIGN KEY (`PermissionResourceId`) REFERENCES `data_ClientPermissionResource` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PermissionGroupUser` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientPermissionGroupId` int unsigned NOT NULL,
  `UserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_PermissionGroupUser_ClientPermissionGroupId` (`ClientPermissionGroupId`),
  KEY `FK_client_PermissionGroupUser_UserId` (`UserId`),
  CONSTRAINT `FK_client_PermissionGroupUser_ClientPermissionGroupId` FOREIGN KEY (`ClientPermissionGroupId`) REFERENCES `client_PermissionGroup` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PermissionGroupUser_UserId` FOREIGN KEY (`UserId`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PermissionResourceUser` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `PermissionResourceId` smallint NOT NULL,
  `UserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_PermissionResourceUser_PermissionResourceId_UserId` (`PermissionResourceId`,`UserId`),
  KEY `FK_client_PermissionResourceUser_UserId` (`UserId`),
  CONSTRAINT `FK_client_PermissionResourceUser_PermissionResourceId` FOREIGN KEY (`PermissionResourceId`) REFERENCES `data_ClientPermissionResource` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PermissionResourceUser_UserId` FOREIGN KEY (`UserId`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PhonePriorityConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `PhoneTypeId` smallint NOT NULL COMMENT '1:CellPhone,2:HomePhone,3:Phone',
  `Rank` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_PhonePriorityConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_PhonePriorityConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PhotoLabelSetting` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `LabelName` varchar(50) NOT NULL COMMENT 'Label name of photos, such as "location front","Tree/Shrubs" and so on',
  `TypeId` smallint NOT NULL COMMENT 'Id in the table data_PhotoLabelType, define the label type such as "check in" photo,"before service" photo',
  `ClientId` int unsigned DEFAULT NULL COMMENT 'Id in the table client_Profile',
  `ServiceCategoryId` smallint DEFAULT NULL COMMENT 'Id in  the table data_ServiceCategory',
  `ServiceTypeId` smallint DEFAULT NULL COMMENT 'Id in the table data_ServiceType',
  `ServiceCodeId` smallint DEFAULT NULL COMMENT 'Id in the table data_ServiceCode',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Is active',
  `IsMandatory` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'It the value is 1 then technician/affiliate must upload the corresponding type of photo.',
  PRIMARY KEY (`Id`),
  KEY `FK_client_PhotoLabelSetting_TypeId` (`TypeId`),
  KEY `FK_client_PhotoLabelSetting_ClientId` (`ClientId`),
  KEY `FK_client_PhotoLabelSetting_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_client_PhotoLabelSetting_ServiceTypeId` (`ServiceTypeId`),
  KEY `FK_client_PhotoLabelSetting_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_PhotoLabelSetting_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PhotoLabelSetting_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PhotoLabelSetting_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PhotoLabelSetting_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PhotoLabelSetting_TypeId` FOREIGN KEY (`TypeId`) REFERENCES `data_PhotoLabelType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;We need affiliates upload some photos when they working on a work order. This table stores the settings of photo on client and service combo.';

CREATE TABLE `client_PhotoRequestCustomTextConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCategoryId` smallint NOT NULL COMMENT 'Service Category Id of Reactive WO , data_ServiceCategory.Id',
  `ServiceTypeId` smallint NOT NULL COMMENT 'Service Type Id of Reactive WO, data_ServiceType.Id',
  `ServiceCodeId` smallint NOT NULL COMMENT 'Service Code Id of Reactive WO, data_ServiceCode.Id',
  `IsPhotoRequired` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Store Photo Is Required Config',
  `CustomText` varchar(200) NOT NULL COMMENT 'Store Tooltip Text',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_PhotoRequestCustomTextConfig` (`ClientId`,`ServiceCodeId`),
  KEY `FK_client_PhotoRequestCustomTextConfig_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_PhotoRequestCustomTextConfig_ServiceTypeId` (`ServiceTypeId`),
  KEY `FK_client_PhotoRequestCustomTextConfig_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_PhotoRequestCustomTextConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PhotoRequestCustomTextConfig_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PhotoRequestCustomTextConfig_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_PhotoRequestCustomTextConfig_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Configuration;Store Upload Photo Custom Tooltip Text Config';

CREATE TABLE `client_PhotoRequestPriorityConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `PriorityId` smallint NOT NULL COMMENT 'Priority Id of Reactive WO, data_Priority.Id',
  `IsActive` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Config storage activated or not',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_PhotoRequestPriorityConfig` (`ClientId`,`PriorityId`),
  KEY `FK_client_PhotoRequestPriorityConfig_PriorityId` (`PriorityId`),
  CONSTRAINT `FK_client_PhotoRequestPriorityConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PhotoRequestPriorityConfig_PriorityId` FOREIGN KEY (`PriorityId`) REFERENCES `data_Priority` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Configuration;Store Reactive WO Photo is Request Config';

CREATE TABLE `client_Plan` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BudgetId` int unsigned NOT NULL,
  `Name` varchar(100) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `PlanType` smallint NOT NULL DEFAULT '1',
  PRIMARY KEY (`Id`),
  KEY `FK_client_Plan_BudgetId` (`BudgetId`),
  CONSTRAINT `FK_client_Plan_BudgetId` FOREIGN KEY (`BudgetId`) REFERENCES `client_Budget` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PlanItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `PlanId` int unsigned NOT NULL,
  `LocationId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `PlanMonth` date NOT NULL,
  `ServiceCount` smallint DEFAULT NULL,
  `Amount` decimal(18,2) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_PlanItem_PlanId_LocationId_ServiceCodeId_PlanMonth` (`PlanId`,`LocationId`,`ServiceCodeId`,`PlanMonth`),
  KEY `FK_client_PlanItem_ServiceCodeId` (`ServiceCodeId`),
  KEY `FK_client_PlanItem_LocationId` (`LocationId`),
  KEY `ID_client_PlanItem_PlanMonth` (`PlanMonth`),
  CONSTRAINT `FK_client_PlanItem_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PlanItem_PlanId` FOREIGN KEY (`PlanId`) REFERENCES `client_Plan` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PlanItem_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PlanWOReactive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `PlanItemId` int unsigned NOT NULL,
  `WOReactiveId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_PlanWOReactive_PlanItemId` (`PlanItemId`),
  KEY `PK_client_PlanWOReactive_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `PK_client_PlanWOReactive_PlanItemId` FOREIGN KEY (`PlanItemId`) REFERENCES `client_PlanItem` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_PlanWOReactive_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PlanWORecurrent` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `PlanItemId` int unsigned NOT NULL,
  `WORecurrentId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_PlanWORecurrent_PlanItemId` (`PlanItemId`),
  KEY `PK_client_PlanWORecurrent_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `PK_client_PlanWORecurrent_PlanItemId` FOREIGN KEY (`PlanItemId`) REFERENCES `client_PlanItem` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_PlanWORecurrent_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_PreferredScheduleTime` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL COMMENT 'Id in client_WOReactive table',
  `FirstPreferredStartTime` datetime NOT NULL COMMENT 'The start time of the first preferred schedule window',
  `FirstPreferredEndTime` datetime NOT NULL COMMENT 'The end time of the first preferred schedule window',
  `FirstPreferredInSLA` tinyint(1) NOT NULL COMMENT 'Is the first preferred schedule time in the SLA of WO',
  `SecondPreferredStartTime` datetime NOT NULL COMMENT 'The start time of the second preferred schedule window',
  `SecondPreferredEndTime` datetime NOT NULL COMMENT 'The end time of the second preferred schedule window',
  `SecondPreferredInSLA` tinyint(1) NOT NULL COMMENT 'Is the second preferred schedule time in the SLA of WO',
  `ThirdPreferredStartTime` datetime NOT NULL COMMENT 'The start time of the three preferred schedule window',
  `ThirdPreferredEndTime` datetime NOT NULL COMMENT 'The end time of the three preferred schedule window',
  `ThirdPreferredInSLA` tinyint(1) NOT NULL COMMENT 'Is the three preferred schedule time in the SLA of WO',
  `ScheduleTimeWithinPreferredWindow` tinyint(1) NOT NULL COMMENT 'If the schedule time is within one of the "Preferred Time" windows, the value of thie field is "1", else "0".',
  `WhichWindow` varchar(50) DEFAULT NULL COMMENT 'Which preferred window the schedule window is within. If the schedule window is within one of the preferred windows,the value of this field shows which prfferred window, if the schedule window is not in the preferred windows, the value of this field shows as "No". If the reactive wo hasn''t schedule time, the value shows as null.',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `IsExistSLA` tinyint(1) NOT NULL COMMENT 'If the WO hasn''t SLA the value of this field is 0 else 1.',
  `SLAStartTime` datetime NOT NULL COMMENT 'The start time of WO''s SLA, SLA is calculated on the settings in the table data_priority.',
  `SLAEndTime` datetime NOT NULL COMMENT 'The end time of WO''s SLA',
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_PreferredScheduleTime_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_PreferredScheduleTime_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Our system will ask a residential client his preferred schedule times when he create a reactive work order. This table stores the preferred schedule times of reactive work orders.';

CREATE TABLE `client_PriorityExcludeNonWorkingTimeLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `IsEnablePriorityExcludeNonWorkingTime` tinyint(1) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_PriorityExcludeNonWorkingTimeLog_CreateDate` (`CreateDate`),
  KEY `ID_client_PriorityExcludeNonWorkingTimeLog_ClientId` (`ClientId`)
) ;

CREATE TABLE `client_PrioritySetting` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `PriorityId` smallint NOT NULL COMMENT 'Priority id',
  `PriorityAliasName` varchar(50) NOT NULL COMMENT 'Priority nane',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `TimetoAcceptMins` int NOT NULL COMMENT 'Ask how many minutes to accept',
  `TimetoArriveMins` int NOT NULL COMMENT 'Ask how many minutes to check in',
  `TimetoResolveMins` int NOT NULL COMMENT 'Ask how many minutes to resolve',
  `PImg` varchar(50) NOT NULL,
  `PriorityRank` smallint DEFAULT NULL,
  `ChartShortName` varchar(50) DEFAULT NULL,
  `TimetoScheduleMins` int DEFAULT NULL COMMENT 'Ask how many minutes to schedule',
  `TimetoQuoteMins` int DEFAULT NULL COMMENT 'Ask how many minutes to quote',
  `TimetoResolveQuotedWorkMins` int DEFAULT NULL COMMENT 'Ask how many minutes to complete quote',
  `TimetoInvoiceMins` int DEFAULT NULL COMMENT 'Ask how many minutes to submit invoice',
  `IsExcludeNonWorkingTimetoAccept` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the TimetoAccept exclude not working time',
  `IsExcludeNonWorkingTimetoArrive` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the TimetoArrive exclude not working time',
  `IsExcludeNonWorkingTimetoResolve` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the TimetoResolve exclude not working time',
  `IsExcludeNonWorkingTimetoSchedule` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the TimetoSchedule exclude not working time',
  `IsExcludeNonWorkingTimetoQuote` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the TimetoQuote exclude not working time',
  `IsExcludeNonWorkingTimetoResolveQuotedWork` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the TimetoResolveQuoted exclude not working time',
  `IsExcludeNonWorkingTimetoInvoice` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the TimetoInvoice exclude not working time',
  `IsRPSExcludeNonWorkingTimetoArrive` tinyint(1) NOT NULL DEFAULT '0',
  `IsEmergency` tinyint(1) DEFAULT '0' COMMENT 'Whether Urgent',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_PrioritySetting_ClientIdPriorityId` (`ClientId`,`PriorityId`),
  KEY `FK_client_PrioritySetting_PriorityId` (`PriorityId`),
  CONSTRAINT `FK_client_PrioritySetting_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_PrioritySetting_PriorityId` FOREIGN KEY (`PriorityId`) REFERENCES `data_Priority` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;The priority setting for different clients';


CREATE TABLE `client_Profile` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(100) NOT NULL COMMENT 'The name of the client',
  `Active` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Wether the client is active',
  `LogoPath` varchar(100) DEFAULT NULL COMMENT 'The path where the logo is saved',
  `ClientCode` varchar(20) DEFAULT NULL COMMENT 'The code of the client',
  `AddressLine1` varchar(50) DEFAULT NULL COMMENT 'The first address of the client',
  `AddressLine2` varchar(50) DEFAULT NULL COMMENT 'The second address of the client',
  `City` varchar(50) DEFAULT NULL COMMENT 'The city where the client is located',
  `State` varchar(10) DEFAULT NULL COMMENT 'The state where the client is located',
  `ZipCode` varchar(15) DEFAULT NULL COMMENT 'The zipcode where the client is located',
  `Country` varchar(3) DEFAULT NULL COMMENT 'The country where the client is located',
  `FirstName` varchar(50) NOT NULL COMMENT 'The first name of the client',
  `MiddleName` varchar(50) DEFAULT NULL COMMENT 'The middle name of the client',
  `LastName` varchar(50) DEFAULT NULL COMMENT 'The last name of the client',
  `Email` varchar(100) DEFAULT NULL COMMENT 'The email of the client',
  `Phone` varchar(25) DEFAULT NULL COMMENT 'The phone of the client',
  `Fax` varchar(25) DEFAULT NULL COMMENT 'The fax of the client',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsVIP` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the client is VIP',
  `CustomerTypeId` smallint NOT NULL DEFAULT '1' COMMENT 'The type of the client. data_customertype.Id',
  `CallCenterNumber` varchar(50) DEFAULT NULL COMMENT 'Call center number',
  `IsEnableServiceFee` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the client pay service fee',
  `ServiceFeeRate` decimal(18,2) DEFAULT NULL COMMENT 'The rate of the service fee',
  `IsEnablePlatformFee` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the client pay platform fee',
  `PlatformFeeRate` decimal(18,2) DEFAULT NULL COMMENT 'The rate of the platform fee',
  `Domain` varchar(50) DEFAULT NULL COMMENT 'The domain name  of the client',
  `OwnerId` int unsigned DEFAULT NULL COMMENT 'User id of the owner. sms_userProfile.Id',
  `IsVirtualClient` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the client is virtual',
  `Title` varchar(128) DEFAULT NULL COMMENT 'The title of the client',
  `RSPDomain` varchar(50) DEFAULT NULL COMMENT 'The rsp domain name of the client',
  `HouseOwnerDomain` varchar(50) DEFAULT NULL COMMENT 'The house owner domain name of the client',
  `IsConfirmationEmailOptIn` tinyint(1) DEFAULT '1' COMMENT 'Wether the client can confirm  by email',
  `IsUsesClientPortal` tinyint(1) DEFAULT NULL COMMENT 'Wether the client use client portal',
  `IsTaxFree` tinyint(1) DEFAULT '0' COMMENT 'Wether the tax free of the client is free',
  `IsBypassManagerToDoList` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the client is in bypass manager to-do list',
  `IsInvoiceApprovalActive` tinyint(1) DEFAULT '0' COMMENT 'Wether  active invoice approval',
  `InvoiceApprovalHours` decimal(18,2) DEFAULT NULL COMMENT 'Hour for approve invoice',
  `IsInHouseInvoiceProcess` tinyint(1) DEFAULT '0' COMMENT 'Wether the client''s invoice is In-House affiliate invoice process',
  `InHouseInvoiceServiceFeeAmount` decimal(18,2) DEFAULT NULL COMMENT 'In-House Invoice Service Fee Amount',
  `IsInHouseInvoiceServiceFeeTaxable` tinyint(1) DEFAULT '0' COMMENT 'Is tax applicable to the service fee of n-House Affiliate Invoice Process',
  `IsPassThroughInvoiceProcess` tinyint(1) DEFAULT '0' COMMENT 'Wether the client can pass through affiliate invoice process',
  `PassThroughInvoiceServiceFeeAmount` decimal(18,2) DEFAULT NULL COMMENT 'The mount of service fee  pass through affiliate invoice process',
  `IsPassThroughInvoiceServiceFeeTaxable` tinyint(1) DEFAULT '0' COMMENT 'Is tax applicable to the service fee',
  `PassThroughInvoiceProcess` smallint NOT NULL DEFAULT '1' COMMENT '2:Base,4:Core,3:Intermediate,4:Off',
  `IsConfigDueDate` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether enable due date',
  `IsInvoiceDiscount` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Is invoice discount',
  `AutoRWIDays` smallint NOT NULL DEFAULT '90' COMMENT 'Auto change to Resolved Without Invoice days',
  `IsEnableTemperaturePriorityConfig` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether enable temperature priority config',
  `IsAllowEditReferWONum` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Wether allow edit refer wonum',
  `IsEnableOneRecommendedAffiliate` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Wether enable One recommend affiliate',
  `IsEnablePendingClientDispatchApproval` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether enable pending client dispatch approval',
  `IsEnablePriorityExcludeNonWorkingTime` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the priority exclude non working time',
  `BusinessTypeId` smallint NOT NULL COMMENT 'Business type. data_businesstype.Id',
  `IsEnabledServiceRequest` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the client enable create SR wo',
  `IsEnableTurnRehabCapitalProject` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the client enable create rehab project',
  `IsEnabledPreDispatch` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the client enable pre dispatch wo',
  `ReplyRPANeedCCUserType` smallint DEFAULT NULL COMMENT 'Reply RPA needed to CC user type, 1:SMS;2:Client',
  `IsEnableUnderWarranty` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the client is under warranty',
  `PCDAPackageId` smallint DEFAULT NULL COMMENT 'Wether the client choose PCDA standard package',
  `PCDAAutomaticDeferralHours` decimal(18,2) DEFAULT NULL COMMENT 'Pending client dispatch approval deferral hours',
  `WOStatusAfterDeclinePCDA` smallint DEFAULT NULL COMMENT 'WO status after decline pending client dispatch approved',
  `IsEnableResidentSchedule` tinyint(1) NOT NULL DEFAULT '0' COMMENT ' This field is used to control whether the RSP portal Resident at Client level can do S&O;',
  `IsShowVendorName` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'This field is used to control whether the client can see the vendor name',
  `ShowVendorNameRegion` varchar(2500) DEFAULT NULL COMMENT 'This field is used to control whether the client can see the vendor name in the specified region. It needs to be combined with IsShowVendorName',
  `IsEnableClientSchedule` tinyint(1) NOT NULL DEFAULT '0' COMMENT ' This field is used to control whether client-level client users can do S&O',
  `IsEnabledCascadingDispatch` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'is open cascading toggle',
  `IsEnabledAffiliateProposalHistory` tinyint(1) NOT NULL DEFAULT '0',
  `IsFMOnDemand` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Is facilities maintenance on demand toggle; 0: inactive, 1: active',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_Profile` (`ClientCode`),
  KEY `FK_client_Location_CustomerTypeId` (`CustomerTypeId`),
  CONSTRAINT `FK_client_Location_CustomerTypeId` FOREIGN KEY (`CustomerTypeId`) REFERENCES `data_CustomerType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;Store client information';

CREATE TABLE `client_Project` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(500) DEFAULT NULL,
  `ClientId` int unsigned NOT NULL,
  `LocationId` int unsigned NOT NULL COMMENT 'client location Id',
  `AssigneeId` int unsigned NOT NULL COMMENT 'Project Management User Id',
  `StatusId` smallint NOT NULL DEFAULT '0' COMMENT '0:Creation 1:Bidding Phase 2:Planning 3:Construction 4:Project Close out 5:Completion 6:On hold',
  `ScheduleStartDate` datetime DEFAULT NULL COMMENT 'project Estimated start time',
  `ScheduleEndDate` datetime DEFAULT NULL COMMENT 'project Estimated end time',
  `ActualStartDate` datetime DEFAULT NULL COMMENT 'Actual start time of the project',
  `ActualEndDate` datetime DEFAULT NULL COMMENT 'Actual end time of the project',
  `Budget` decimal(18,2) DEFAULT NULL COMMENT 'Initial project budget',
  `Description` varchar(2000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `AdjustedStartDate` datetime DEFAULT NULL COMMENT 'Record the adjustment date for ScheduleStartDate',
  `AdjustedEndDate` datetime DEFAULT NULL COMMENT 'Record the adjustment date for ScheduleEndDate',
  PRIMARY KEY (`Id`),
  KEY `FK_client_Project_ClientId` (`ClientId`),
  KEY `FK_client_Project_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_Project_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`),
  CONSTRAINT `FK_client_Project_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`)
)  COMMENT='client prject;Commercial customer project information management';

CREATE TABLE `client_ProjectAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ProjectId` int unsigned NOT NULL,
  `FileName` varchar(200) NOT NULL,
  `FilePath` varchar(300) NOT NULL,
  `ContentType` varchar(50) DEFAULT NULL,
  `GroupType` smallint NOT NULL COMMENT '1:Drawings, 2:Documents, 3:Sepcifications',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_Project_ProjectId` (`ProjectId`),
  CONSTRAINT `FK_client_Project_ProjectId` FOREIGN KEY (`ProjectId`) REFERENCES `client_Project` (`Id`)
)  COMMENT='client project ; Commercial Project Attachment';

CREATE TABLE `client_ProjectBidPackage` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BidPackageId` int unsigned NOT NULL,
  `ProjectId` int unsigned NOT NULL COMMENT 'client project Id',
  `Description` varchar(200) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ProjectBidPackage_ProjectId` (`ProjectId`),
  KEY `FK_client_ProjectBidPackage_BidPackageId` (`BidPackageId`),
  CONSTRAINT `FK_client_ProjectBidPackage_BidPackageId` FOREIGN KEY (`BidPackageId`) REFERENCES `client_bid_Package` (`Id`),
  CONSTRAINT `FK_client_ProjectBidPackage_ProjectId` FOREIGN KEY (`ProjectId`) REFERENCES `client_Project` (`Id`)
)  COMMENT='client bid;Commercial customer project information management';

CREATE TABLE `client_ProposalReactive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ProposalNum` varchar(50) DEFAULT NULL COMMENT 'the NO. of proposal',
  `ProposalDate` datetime DEFAULT NULL COMMENT 'Date of creating proposal',
  `ProposalText` varchar(4096) DEFAULT NULL COMMENT 'Description of  proposal',
  `ApproveUserId` int unsigned DEFAULT NULL COMMENT 'The userid of the person who approved the proposal',
  `ApproveTime` datetime DEFAULT NULL COMMENT 'The  time the proposal was approved',
  `ApproveNotes` varchar(1024) DEFAULT NULL COMMENT 'The note of the proposal when it was approved',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Status` int DEFAULT NULL COMMENT 'Status of proposal. 0:Draft, 1:Approved, 2:Declined; 3:Submitted, 4:Pre-Approved',
  `SubmitUserId` int unsigned DEFAULT NULL COMMENT 'The userid of the person who submit the proposal',
  `SubmitDate` datetime DEFAULT NULL COMMENT 'The date of submitting proposal',
  `ReviewUserId` int unsigned DEFAULT NULL COMMENT 'The userid of the person who review the proposal',
  `ReviewDate` datetime DEFAULT NULL COMMENT 'The date of reviewing proposal',
  `PurposeId` smallint DEFAULT NULL COMMENT 'The id of the purpose of proposal. 1:Replace,2:Repair',
  `PreApproveUserId` int unsigned DEFAULT NULL COMMENT 'The user id of the person who pre approve the proposal',
  `PreApproveTime` datetime DEFAULT NULL COMMENT 'The time of  the proposal was pre approved',
  `PreApproveNotes` varchar(1024) DEFAULT NULL COMMENT 'The notes of  the proposal was pre approved',
  `IsVerbalApproval` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the proposal was verbal approved',
  `VerbalApprovalUserId` int unsigned DEFAULT NULL COMMENT 'The user id of the person who verbal approve the proposal',
  `VerbalApprovalTime` datetime DEFAULT NULL COMMENT 'The time of  the proposal was verbal approved',
  `DeclineUserId` int unsigned DEFAULT NULL COMMENT 'The userid of the person who decline the proposal',
  `DeclineDate` datetime DEFAULT NULL COMMENT 'The date of declining the proposal',
  `DeclineNotes` varchar(1024) DEFAULT NULL COMMENT 'The note of declinng the proposal',
  `IsLaborMaterialPricing` tinyint(1) DEFAULT NULL COMMENT 'Wether the proposal is labor material pricing',
  `IsOnSiteProposal` tinyint(1) DEFAULT NULL COMMENT 'Wether the proposal is on site proposal',
  `DeclineSubReason` varchar(200) DEFAULT NULL COMMENT 'The sub decline reason of the proposal',
  `IsPermitRequired` tinyint(1) DEFAULT NULL COMMENT 'Wether the proposal was permit required',
  `ApproveBehalfUserId` int unsigned DEFAULT NULL COMMENT 'This field is used to record the customer user ID on behalf of when approving',
  PRIMARY KEY (`Id`),
  KEY `FK_client_ProposalReactive_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_ProposalReactive_PurposeId` (`PurposeId`),
  KEY `ID_client_ProposalReactive_ProposalNum` (`ProposalNum`(40)),
  CONSTRAINT `client_ProposalReactive_ibfk_1` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ProposalReactive_PurposeId` FOREIGN KEY (`PurposeId`) REFERENCES `data_Purpose` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Proposal;Prposal from sms  to client';

CREATE TABLE `client_ProposalReactiveArchive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ProposalNum` varchar(50) DEFAULT NULL,
  `ProposalDate` datetime DEFAULT NULL,
  `ProposalText` varchar(2048) DEFAULT NULL,
  `ApproveUserId` int unsigned DEFAULT NULL,
  `ApproveTime` datetime DEFAULT NULL,
  `ApproveNotes` varchar(1024) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Status` int DEFAULT NULL,
  `SubmitUserId` int unsigned DEFAULT NULL,
  `SubmitDate` datetime DEFAULT NULL,
  `ReviewUserId` int unsigned DEFAULT NULL,
  `ReviewDate` datetime DEFAULT NULL,
  `PurposeId` smallint DEFAULT NULL,
  `PreApproveUserId` int unsigned DEFAULT NULL,
  `PreApproveTime` datetime DEFAULT NULL,
  `PreApproveNotes` varchar(1024) DEFAULT NULL,
  `IsVerbalApproval` tinyint(1) NOT NULL DEFAULT '0',
  `VerbalApprovalUserId` int unsigned DEFAULT NULL,
  `VerbalApprovalTime` datetime DEFAULT NULL,
  `DeclineUserId` int unsigned DEFAULT NULL,
  `DeclineDate` datetime DEFAULT NULL,
  `DeclineNotes` varchar(1024) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ProposalReactiveArchive_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_ProposalReactiveArchive_PurposeId` (`PurposeId`),
  CONSTRAINT `client_ProposalReactiveArchive_ibfk_1` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactiveArchive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ProposalReactiveArchive_PurposeId` FOREIGN KEY (`PurposeId`) REFERENCES `data_Purpose` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ProposalReactiveAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ProposalReactiveId` int unsigned NOT NULL,
  `Name` varchar(100) DEFAULT NULL,
  `ContentType` varchar(100) NOT NULL,
  `URL` varchar(300) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  `Notes` varchar(1000) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ProposalReactiveAttachment_ProposalReactiveId` (`ProposalReactiveId`),
  CONSTRAINT `FK_client_ProposalReactiveAttachment_ProposalReactiveId` FOREIGN KEY (`ProposalReactiveId`) REFERENCES `client_ProposalReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ProposalReactiveItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT COMMENT 'The item of proposal from sms to client',
  `ProposalReactiveId` int unsigned NOT NULL COMMENT 'The id of reactive proposal',
  `ChargeCategoryId` smallint NOT NULL COMMENT 'The id of charge category',
  `Description` varchar(1000) DEFAULT NULL COMMENT 'Description of  proposal item',
  `Qty` decimal(18,2) DEFAULT NULL COMMENT 'quantity',
  `UnitPrice` decimal(18,2) DEFAULT NULL COMMENT 'unit price of the item',
  `UnitCost` decimal(18,2) DEFAULT NULL COMMENT 'Unit cost of the item',
  `TaxRate` decimal(18,5) DEFAULT NULL COMMENT 'Tax rate of the item',
  `IsIncurred` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the proposal item is incurred',
  `OtherName` varchar(100) DEFAULT NULL COMMENT 'inactive',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ServiceCodeResolutionMapId` int unsigned DEFAULT NULL COMMENT 'inactive',
  `ItemTagId` smallint DEFAULT NULL COMMENT 'inactive',
  `PriceModifierTypeId` smallint DEFAULT NULL COMMENT 'proposal price modifier type ID 1.overtime 2.holiday',
  `HolidayDescription` varchar(200) DEFAULT NULL COMMENT 'Holiday Description and Holiday',
  `HistoryTradeRate` decimal(18,2) DEFAULT NULL COMMENT 'History tradeRate',
  PRIMARY KEY (`Id`),
  KEY `FK_client_ProposalReactiveItem_ProposalReactiveId` (`ProposalReactiveId`),
  KEY `FK_client_ProposalReactiveItem_ResolutionMapId_idx` (`ServiceCodeResolutionMapId`),
  CONSTRAINT `FK_client_ProposalReactiveItem_ProposalReactiveId` FOREIGN KEY (`ProposalReactiveId`) REFERENCES `client_ProposalReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ProposalReactiveItem_ResolutionMapId` FOREIGN KEY (`ServiceCodeResolutionMapId`) REFERENCES `client_ServiceCodeResolutionMap` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Proposal;Prposal from sms  to client';

CREATE TABLE `client_ProposalReactiveItemArchive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ProposalReactiveId` int unsigned NOT NULL,
  `ChargeCategoryId` smallint NOT NULL,
  `Description` varchar(1000) DEFAULT NULL,
  `Qty` decimal(18,2) DEFAULT NULL,
  `UnitPrice` decimal(18,2) DEFAULT NULL,
  `UnitCost` decimal(18,2) DEFAULT NULL,
  `TaxRate` decimal(18,5) DEFAULT NULL,
  `IsIncurred` tinyint(1) NOT NULL DEFAULT '0',
  `OtherName` varchar(100) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ProposalReactiveItemArchive_ProposalReactiveId` (`ProposalReactiveId`),
  CONSTRAINT `FK_client_ProposalReactiveItemArchive_ProposalReactiveId` FOREIGN KEY (`ProposalReactiveId`) REFERENCES `client_ProposalReactiveArchive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ProposalReactiveLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ProposalReactiveId` int unsigned NOT NULL,
  `Log` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ProposalReactiveLog_ProposalReactiveId` (`ProposalReactiveId`),
  CONSTRAINT `FK_client_ProposalReactiveLog_ProposalReactiveId` FOREIGN KEY (`ProposalReactiveId`) REFERENCES `client_ProposalReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_QuestionAnswerTriggerConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `QuestionId` varchar(100) NOT NULL,
  `QuestionOptionId` varchar(100) NOT NULL,
  `ServiceCategoryId` smallint DEFAULT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `QuestionType` smallint NOT NULL DEFAULT '1',
  `LabelIds` varchar(512) DEFAULT NULL,
  PRIMARY KEY (`Id`) USING BTREE,
  KEY `ID_client_QuestionAnswerTriggerConfig_ClientId` (`ClientId`)
) ;

CREATE TABLE `client_QuestionFilterConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `QuestionId` varchar(100) NOT NULL,
  `RoleIds` varchar(512) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_QuestionFilterConfig_ClientId` (`ClientId`)
) ;

CREATE TABLE `client_QuoteApprovalReminder` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `WOClientId` int unsigned NOT NULL,
  `ReminderTime` datetime NOT NULL COMMENT 'Next QuoteApproval reminder time',
  `IsReminder` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Send email or txt status',
  `ReminderCount` smallint NOT NULL DEFAULT '0' COMMENT 'Send email or text count ,the max value is 4',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  KEY `IDX_client_QuoteApprovalReminder_ReminderTime` (`ReminderTime`),
  KEY `FK_client_QuoteApprovalReminder_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_QuoteApprovalReminder_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='QuoteApproval work order details that require a reminder';

CREATE TABLE `client_QuoteApprovalReminderConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `FrequencyHours` smallint NOT NULL COMMENT 'Every 24 hours after initial reminder',
  `ReminderCount` smallint NOT NULL DEFAULT '4' COMMENT 'Reminder max count',
  `BeginWorkhours` smallint NOT NULL COMMENT 'Work hours begin 8am',
  `EndWorkhours` smallint NOT NULL COMMENT 'Work hours end 19pm',
  `IsEmail` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Enable fro email',
  `IsText` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Enable for txt',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Enable for client',
  `PreApproverFlag` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Send to pre-approver first When users approval limit < highest quote amount',
  `SendRoleIds` varchar(2000) DEFAULT NULL COMMENT 'Enable for client roles',
  `AllowActiveDay` smallint NOT NULL DEFAULT '14' COMMENT 'Prevents the switch from turning off for a period of time and then suddenly turning on to send the previous history of email',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_QuoteApprovalReminderConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_QuoteApprovalReminderConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='AutoSendPendingClientQuoteApprovalReminderJob run configuration';

CREATE TABLE `client_RPAAutoDispatchRuleConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'client_Profile.Id',
  `RPAAutoDispatchRuleId` int unsigned NOT NULL COMMENT 'sms_RPAAutoDispatchRule.Id',
  `RuleContent` varchar(2000) DEFAULT NULL COMMENT 'The scope of rule parameters can be customized',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Whether activate rule: Activate = 1,Deactivate=0',
  `Description` varchar(512) DEFAULT NULL COMMENT 'Rule Description',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Record Create Date',
  `CreateUserId` int unsigned NOT NULL COMMENT 'Record Create User Id',
  `ProcessType` smallint DEFAULT '1' COMMENT 'Process type: Auto Dispatch=1, Auto Dispatch For Pool Spa=2',
  `IsBlacklist` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'This field is used to configure whether the current rule is in blacklist mode',
  PRIMARY KEY (`Id`),
  KEY `FK_client_RPAAutoDispatchRuleConfig_ClientId` (`ClientId`),
  KEY `FK_client_RPAAutoDispatchRuleConfig_RuleId` (`RPAAutoDispatchRuleId`),
  CONSTRAINT `FK_client_RPAAutoDispatchRuleConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Automation;Configure rules for clients. The WO of this client needs to verify this rule ';

CREATE TABLE `client_RPACInvoiceReviewCustomerType` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `InvoiceReviewCustomerTypeId` smallint NOT NULL COMMENT 'RPAC Invoice Review Customer Type Id;from data_RPACInvoiceReviewCustomerType',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `CreateUserId` int NOT NULL,
  `CreateDate` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RPACInvoiceReviewCustomerType` (`ClientId`),
  KEY `FK_client_RPACInvoiceReviewCustomerType_ReviewCustomerTypeId` (`InvoiceReviewCustomerTypeId`),
  CONSTRAINT `FK_client_RPACInvoiceReviewCustomerType_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RPACInvoiceReviewCustomerType_ReviewCustomerTypeId` FOREIGN KEY (`InvoiceReviewCustomerTypeId`) REFERENCES `data_RPACInvoiceReviewCustomerType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='RPAC Invoice Review;Invoice Review Customer Type Configuration, showing what type dose a client belong to.';

CREATE TABLE `client_RPACInvoiceReviewRuleConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `InvoiceReviewRuleId` int unsigned NOT NULL COMMENT 'RPAC Invoice Review Rule Id;from sms_RPACInvoiceReviewRule',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `RuleContent` varchar(2000) DEFAULT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RPACInvoiceReviewRuleConfig` (`ClientId`,`InvoiceReviewRuleId`),
  KEY `FK_client_RPACInvoiceReviewRuleConfig_InvoiceReviewRuleId` (`InvoiceReviewRuleId`),
  CONSTRAINT `FK_client_RPACInvoiceReviewRuleConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RPACInvoiceReviewRuleConfig_InvoiceReviewRuleId` FOREIGN KEY (`InvoiceReviewRuleId`) REFERENCES `sms_RPACInvoiceReviewRule` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='RPAC Invoice Review;Invoice Review Rule Configuration on client level.';

CREATE TABLE `client_RPACInvoiceReviewRuleGroup` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `RuleGroupName` varchar(200) DEFAULT NULL,
  `RuleGroupType` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'general rule = 0, Only one can exist under the client ID; match Condition rule = 1',
  `AffiliateIds` text,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `TriggerCondition` text COMMENT 'Threshold condition triggered by rule combination',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_RPACInvoiceReviewRuleGroup_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_RPACInvoiceReviewRuleGroup_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='RPAC Invoice Review;Invoice Review Special Rule And General Rule Group on client level.';

CREATE TABLE `client_RPACInvoiceReviewServiceCombinationConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `InvoiceReviewRuleConfigId` int unsigned NOT NULL COMMENT 'from client_RPACInvoiceReviewRuleConfig id',
  `ServiceCategoryId` smallint DEFAULT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_RPACInvoiceReviewServiceCombinationConfig` (`InvoiceReviewRuleConfigId`),
  CONSTRAINT `FK_client_RPACInvoiceReviewServiceCombinationConfig` FOREIGN KEY (`InvoiceReviewRuleConfigId`) REFERENCES `client_RPACInvoiceReviewRuleConfig` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='RPAC Invoice Review; ServiceCombo Configuration';

CREATE TABLE `client_RPACPhotoRequestWOStatusConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'WO Client Id;client_Profile',
  `WOStatusId` smallint NOT NULL COMMENT 'WO Status Id',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Enable or Not',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_RPACPhotoRequestStatusConfig_WOStatusId` (`WOStatusId`),
  KEY `FK_client_RPACPhotoRequestStatusConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_RPACPhotoRequestStatusConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RPACPhotoRequestStatusConfig_WOStatusId` FOREIGN KEY (`WOStatusId`) REFERENCES `data_WOStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='RPAC Invoice Review;Set the work order status to the configured status in the client dimension.';

CREATE TABLE `client_RPACascadingDispatchPriorityToggleConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `PriorityId` smallint NOT NULL,
  `PriorityAliasName` varchar(100) NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'activate Cascade Dispatch Priority Toggle',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_RPACascadingDispatchPriorityToggleConfig` (`ClientId`,`PriorityId`)
)  COMMENT='RPAC Cascading Dispatch;Whether to activate cascading dispatch priority toggle config';

CREATE TABLE `client_RPARecommendAffiliateConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AffiliateId` int unsigned NOT NULL,
  `ClientId` int unsigned NOT NULL,
  `Region` varchar(50) DEFAULT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `ServiceTypeId` smallint NOT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `DispatchLevel` smallint NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_RPARecommendAffiliateConfig_AffiliateId` (`AffiliateId`),
  KEY `FK_client_RPARecommendAffiliateConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_RPARecommendAffiliateConfig_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RPARecommendAffiliateConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Inactive;';

CREATE TABLE `client_RPARedispatchServiceCombinationConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT COMMENT 'Record Id',
  `ClientId` int unsigned NOT NULL COMMENT 'client_Profile.Id',
  `ServiceCategoryId` smallint NOT NULL COMMENT 'data_ServiceCategory.Id: Used to filter WO.',
  `ServiceTypeId` smallint DEFAULT NULL COMMENT 'data_ServiceType.Id: Used to filter WO.',
  `ServiceCodeId` smallint DEFAULT NULL COMMENT 'data_ServiceCode.Id: Used to filter WO.',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Record Create Date',
  `CreateUserId` int unsigned NOT NULL COMMENT 'Record Create User Id',
  PRIMARY KEY (`Id`),
  KEY `ID_client_RPARedispatchServiceCombinationConfig_ClientId` (`ClientId`)
)  COMMENT='Automation;Service Combo Config for Redispatch Process. If WO is included, perform this process ';

CREATE TABLE `client_RPAServiceCombinationConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT COMMENT 'Record Id',
  `RPAAutoDispatchRuleConfigId` int unsigned NOT NULL COMMENT 'client_RPAAutoDispatchRuleConfig.Id',
  `State` varchar(64) DEFAULT NULL COMMENT 'State: Used to filter WO.',
  `Region` varchar(50) DEFAULT NULL COMMENT 'Region: Used to filter WO.',
  `WOTypeId` smallint DEFAULT '0' COMMENT 'WO Type Id: Used to filter WO.',
  `ServiceCategoryId` smallint NOT NULL COMMENT 'data_ServiceCategory.Id: Used to filter WO.',
  `ServiceTypeId` smallint DEFAULT NULL COMMENT 'data_ServiceType.Id: Used to filter WO.',
  `ServiceCodeId` smallint DEFAULT NULL COMMENT 'data_ServiceCode.Id: Used to filter WO.',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Record Create Date',
  `CreateUserId` int unsigned NOT NULL COMMENT 'Record Create User Id',
  `ProcessActionType` smallint NOT NULL DEFAULT '0' COMMENT 'Process Action Type: 0=Standard Rule, 1=Dispatch, 2=Qualification, 3=Defer',
  `Market` varchar(50) DEFAULT NULL COMMENT 'This field is used to configure the Market',
  PRIMARY KEY (`Id`),
  KEY `FK_client_RPAServiceCombinationConfig` (`RPAAutoDispatchRuleConfigId`),
  CONSTRAINT `FK_client_RPAServiceCombinationConfig` FOREIGN KEY (`RPAAutoDispatchRuleConfigId`) REFERENCES `client_RPAAutoDispatchRuleConfig` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Automation;Service Combo Config for Auto Dispatch Process. If WO is included, perform this process ';

CREATE TABLE `client_RSPDomainCustomization` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Domain` varchar(50) DEFAULT NULL,
  `IsAgree` tinyint(1) DEFAULT NULL,
  `Reason` varchar(100) DEFAULT NULL,
  `CreateTime` datetime DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ReplyTime` datetime DEFAULT NULL,
  `AuthorizeKey` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RSPDomainCustomization_ClientId` (`ClientId`),
  UNIQUE KEY `UK_client_RSPDomainCustomization_AuthorizeKey` (`AuthorizeKey`),
  UNIQUE KEY `UK_client_RSPDomainCustomization_Domain` (`Domain`),
  CONSTRAINT `FK_client_RSPDomainCustomization_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RSPThemeCustomization` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `DefaultTheme` varchar(3000) DEFAULT NULL,
  `CustomTheme` varchar(3000) DEFAULT NULL,
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RSPThemeCustomization_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_RSPThemeCustomization_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RSPThemeCustomizationAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `FileKey` varchar(32) NOT NULL,
  `FileUrl` varchar(200) NOT NULL,
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RSPThemeCustomizationAttachment_FileKey` (`FileKey`),
  KEY `IDX_client_RSPThemeCustomizationAttachment_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_RSPThemeCustomizationAttachment_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ReactiveKPI` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `KPIReactiveId` smallint NOT NULL,
  `Value` decimal(18,2) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ReactiveKPI` (`ClientId`,`ServiceCategoryId`,`KPIReactiveId`),
  KEY `FK_client_ReactiveKPI_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_client_ReactiveKPI_KPIReactiveId` (`KPIReactiveId`),
  CONSTRAINT `FK_client_ReactiveKPI_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ReactiveKPI_KPIReactiveId` FOREIGN KEY (`KPIReactiveId`) REFERENCES `data_KPIReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ReactiveKPI_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RecallLogicMatchConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `WOTypeId` varchar(200) NOT NULL COMMENT 'Store multiple WO Type Id of Reactive WO, data_WOType.Id',
  `IsActive` tinyint(1) DEFAULT NULL COMMENT 'Config storage activated or not',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_RecallLogicMatchConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_RecallLogicMatchConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Configuration;Store Recall System recommended Config';

CREATE TABLE `client_RecallLogicServiceConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `CustomerTypeId` smallint NOT NULL,
  `ServiceCategoryId` smallint NOT NULL COMMENT 'new matching relationship to problem code',
  `ServiceTypeId` smallint NOT NULL COMMENT 'new matching relationship to problem code',
  `ServiceCodeId` smallint NOT NULL COMMENT 'this is service code',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  KEY `FK_client_RecallLogicServiceConfig_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_RecallLogicServiceConfig_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='a configuration table for recall reative wo';

CREATE TABLE `client_RecurrentKPI` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `KPIRecurrentId` smallint NOT NULL,
  `Value` decimal(18,2) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RecurrentKPI` (`ClientId`,`ServiceCategoryId`,`KPIRecurrentId`),
  KEY `FK_client_RecurrentKPI_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_client_RecurrentKPI_KPIRecurrentId` (`KPIRecurrentId`),
  CONSTRAINT `FK_client_RecurrentKPI_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RecurrentKPI_KPIRecurrentId` FOREIGN KEY (`KPIRecurrentId`) REFERENCES `data_KPIRecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RecurrentKPI_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RecurrentRecommendedScheduling` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `GracePeriodAhead` smallint unsigned NOT NULL,
  `GracePeriodBehind` smallint unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RecurrentRecommendedScheduling` (`ClientId`,`ServiceCodeId`)
) ;

CREATE TABLE `client_ReferredServiceMapping` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Referral` varchar(80) DEFAULT NULL,
  `Contact` varchar(80) DEFAULT NULL,
  `ServiceCategoryId` smallint DEFAULT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `RedirectStatement` varchar(500) DEFAULT NULL,
  `HperLink` varchar(500) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ReferredServiceMapping_ServiceCategoryId_idx` (`ServiceCategoryId`),
  KEY `FK_client_ReferredServiceMapping_ServiceTypeId_idx` (`ServiceTypeId`),
  KEY `FK_client_ReferredServiceMapping_ServiceCodeId_idx` (`ServiceCodeId`),
  KEY `FK_client_ReferredServiceMapping_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_ReferredServiceMapping_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ReferredServiceMapping_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ReferredServiceMapping_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ReferredServiceMapping_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RegionBudget` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `BudgetRegionId` smallint NOT NULL,
  `CreateMonth` date NOT NULL,
  `RecurrentBudget` decimal(18,2) DEFAULT NULL,
  `ReactiveBudget` decimal(18,2) DEFAULT NULL,
  `BillableBudget` decimal(18,2) DEFAULT NULL,
  `BillableCost` decimal(18,2) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `AccountId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RegionBudget` (`CreateMonth`,`ClientId`,`BudgetRegionId`),
  KEY `ID_client_RegionBudget_ClientId` (`ClientId`),
  KEY `FK_client_RegionBudget_BudgetRegionId` (`BudgetRegionId`),
  KEY `ID_client_RegionBudget_AccountId` (`AccountId`),
  CONSTRAINT `FK_client_RegionBudget_BudgetRegionId` FOREIGN KEY (`BudgetRegionId`) REFERENCES `data_BudgetRegion` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RegionConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Region` varchar(50) NOT NULL,
  `FirstDistance` decimal(10,2) NOT NULL,
  `SecondDistance` decimal(10,2) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `ID_client_RegionConfig` (`ClientId`,`Region`),
  KEY `ID_client_RegionConfig_Region` (`Region`),
  CONSTRAINT `FK_client_RegionConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RegionScheduleConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Region` varchar(50) NOT NULL,
  `IsEnableResident` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0: off, 1: on',
  PRIMARY KEY (`Id`),
  KEY `ID_client_RegionScheduleConfig_ClientId` (`ClientId`,`Region`)
)  COMMENT='Used to manage the configuration information of the client schedule region level';

CREATE TABLE `client_RegionServiceCombinationConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Region` varchar(50) DEFAULT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `ConfigType` smallint NOT NULL DEFAULT '1' COMMENT '1:Modify WOType config',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_RegionServiceCombinationConfig` (`ClientId`),
  KEY `ID_client_RegionServiceCombinationConfig1` (`ServiceCodeId`),
  KEY `ID_client_RegionServiceCombinationConfig2` (`Region`),
  KEY `ID_client_RegionServiceCombinationConfig3` (`ConfigType`)
) ;

CREATE TABLE `client_RegionalScriptingWOPriorityConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'client_Profile.Id',
  `Region` varchar(50) NOT NULL COMMENT 'region',
  `State` varchar(64) DEFAULT NULL COMMENT 'state',
  `City` varchar(64) DEFAULT NULL COMMENT 'city',
  `ZipCode` char(6) DEFAULT NULL COMMENT 'zipcode',
  `ServiceCategoryId` smallint NOT NULL COMMENT 'data_ServiceCategory.Id',
  `ServiceTypeId` smallint DEFAULT NULL COMMENT 'data_ServiceType.Id',
  `ServiceCodeId` smallint DEFAULT NULL COMMENT 'data_ServiceCode.Id',
  `Temperature` decimal(7,3) DEFAULT NULL,
  `WOPriorityId` smallint NOT NULL COMMENT 'data_Priority.Id',
  `LocationGroup` varchar(50) DEFAULT NULL COMMENT 'The group of location',
  PRIMARY KEY (`Id`),
  KEY `IDX_client_RegionalScriptingWOPriorityConfig` (`ClientId`,`Region`,`ServiceCategoryId`),
  CONSTRAINT `FK_client_RegionalScriptingWOPriorityConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO,Recurrent WO;Set WO''s priority through scripting';

CREATE TABLE `client_RegionalScriptingWOTypeAndNTEConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'client_Profile.Id',
  `Region` varchar(50) NOT NULL COMMENT 'region',
  `State` varchar(64) DEFAULT NULL COMMENT 'state',
  `City` varchar(64) DEFAULT NULL COMMENT 'city',
  `ZipCode` char(6) DEFAULT NULL COMMENT 'zipcode',
  `ServiceCategoryId` smallint NOT NULL COMMENT 'data_ServiceCategory.Id',
  `ServiceTypeId` smallint DEFAULT NULL COMMENT 'data_ServiceType.Id',
  `ServiceCodeId` smallint DEFAULT NULL COMMENT 'data_ServiceCode.Id',
  `Temperature` decimal(7,3) DEFAULT NULL,
  `WOPriorityId` smallint DEFAULT NULL COMMENT 'data_Priority.Id',
  `WOTypeId` smallint DEFAULT NULL COMMENT 'data_WOType.Id',
  `ClientNTE` decimal(8,2) DEFAULT NULL COMMENT 'client nte',
  `AffiliateNTE` decimal(8,2) DEFAULT NULL COMMENT 'affiliate nte',
  `LocationGroup` varchar(50) DEFAULT NULL COMMENT 'location group',
  PRIMARY KEY (`Id`),
  KEY `IDX_client_RegionalScriptingWOTypeAndNTEConfig` (`ClientId`,`Region`,`ServiceCategoryId`),
  CONSTRAINT `FK_client_RegionalScriptingWOTypeAndNTEConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO,Recurrent WO;Set WO''s wo type and priority through scripting';

CREATE TABLE `client_ReportSetting` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ReportType` smallint NOT NULL,
  `ReportMappingId` smallint DEFAULT NULL,
  `ReportMappingValueId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ReportSetting_ClientId` (`ClientId`),
  KEY `FK_client_ReportSetting_ReportMapingId` (`ReportMappingId`),
  KEY `FK_client_ReportSetting_ReportMappingValueId` (`ReportMappingValueId`),
  CONSTRAINT `FK_client_ReportSetting_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ReportSetting_ReportMapingId` FOREIGN KEY (`ReportMappingId`) REFERENCES `data_ClientReportMapping` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ReportSetting_ReportMappingValueId` FOREIGN KEY (`ReportMappingValueId`) REFERENCES `data_ClientReportMappingValue` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RequestWoSetting` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned DEFAULT NULL,
  `AffiliateId` int unsigned DEFAULT NULL,
  `ByPassSms` tinyint unsigned DEFAULT '0',
  `RequestStatusId` smallint DEFAULT NULL,
  `TypeId` smallint DEFAULT NULL,
  `IsEnable` tinyint(1) DEFAULT '0',
  `IsActive` tinyint(1) DEFAULT '0',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RequestWoSetting_ClientIdAffiliateIdTypeId` (`ClientId`,`AffiliateId`,`TypeId`)
) ;

CREATE TABLE `client_RevenueSetting` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `CreateMonth` date NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `ClientId` int unsigned NOT NULL,
  `RevenueTarget` decimal(18,2) NOT NULL,
  `MarginTarget` decimal(6,2) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_RevenueSetting` (`CreateMonth`,`ClientId`,`ServiceCategoryId`),
  KEY `FK_client_RevenueSetting_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_client_RevenueSetting_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_RevenueSetting_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RevenueSetting_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_Role` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `RoleId` int unsigned DEFAULT NULL,
  `AliasName` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_Role _RoleId` (`RoleId`),
  KEY `FK_client_Role _ClientId` (`ClientId`),
  CONSTRAINT `FK_client_Role _ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_Role _RoleId` FOREIGN KEY (`RoleId`) REFERENCES `sms_Role` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RoleCommunicationConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `RoleId` int unsigned NOT NULL,
  `IsTextMessagNotice` tinyint(1) DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_RoleCommunicationConfig_ClientId` (`ClientId`),
  KEY `FK_client_RoleCommunicationConfig_RoleId` (`RoleId`),
  CONSTRAINT `FK_client_RoleCommunicationConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RoleCommunicationConfig_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `sms_Role` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RoleMapping` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `RoleId` int unsigned NOT NULL,
  `ClientRoleName` varchar(50) NOT NULL,
  `ApproveLimit` decimal(18,2) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_RoleMapping_RoleId` (`RoleId`),
  KEY `FK_client_RoleMapping_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_RoleMapping_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RoleMapping_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `sms_Role` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_RoleProposalPermission` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `RoleId` int unsigned NOT NULL,
  `ApprovalEnabled` tinyint(1) NOT NULL COMMENT 'Approval Proposal Permission Enabled',
  `ApprovalLimit` decimal(18,2) DEFAULT NULL COMMENT 'Approval Proposal Limit',
  `PreApprovalEnabled` tinyint(1) NOT NULL COMMENT 'PreApproval Proposal Permission Enabled',
  `CreateDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` tinyint(1) NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` tinyint(1) DEFAULT NULL,
  `NotificationEnabled` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'PreApproval/Approval Proposal Notification Permission Enabled',
  PRIMARY KEY (`Id`),
  KEY `FK_client_RoleProposalPermission_RoleId` (`RoleId`),
  KEY `FK_client_RoleProposalPermission_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_RoleProposalPermission_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`),
  CONSTRAINT `FK_client_RoleProposalPermission_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `sms_Role` (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Proposal;client role proposal Approval permission';

CREATE TABLE `client_RoleResources` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientRoleId` int unsigned NOT NULL,
  `ClientResourceId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_RoleResources_ClientResourceId` (`ClientResourceId`),
  KEY `FK_client_RoleResources_ClientRoleId` (`ClientRoleId`),
  CONSTRAINT `FK_client_RoleResources_ClientResourceId` FOREIGN KEY (`ClientResourceId`) REFERENCES `data_ClientResource` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_RoleResources_ClientRoleId` FOREIGN KEY (`ClientRoleId`) REFERENCES `client_Role` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_SOFactorConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `PriorityId` smallint NOT NULL,
  `SpeedToServiceScoreFactor` smallint NOT NULL,
  `DriveTimeIncrementScoreFactor` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_SOFactorConfig_ClientId` (`ClientId`),
  KEY `FK_client_SOFactorConfig_PriorityId` (`PriorityId`),
  CONSTRAINT `FK_client_SOFactorConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_SOFactorConfig_PriorityId` FOREIGN KEY (`PriorityId`) REFERENCES `data_Priority` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_SOOnSiteTime` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'client_Profile.Id',
  `ServiceCodeId` smallint NOT NULL COMMENT 'data_ServiceCode.Id',
  `OnSiteTime` decimal(18,2) NOT NULL COMMENT 'the time from technician check in to check out',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_SOOnSiteTime_ClientIdServiceCodeId` (`ClientId`,`ServiceCodeId`),
  KEY `FK_client_SOOnSiteTime_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_SOOnSiteTime_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_SOOnSiteTime_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='S&O;Store the estimated on site time for WOs and it is used by S&O';

CREATE TABLE `client_ScheduleOptimizationConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'client_Profile.Id',
  `KeyName` varchar(100) NOT NULL COMMENT 'Several configuration items for S&O',
  `Value` varchar(500) NOT NULL COMMENT 'The value of Key',
  `StatusId` smallint NOT NULL DEFAULT '1' COMMENT '1= enable the setting, else disable',
  `ParentId` int unsigned DEFAULT NULL COMMENT 'Inactive',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ScheduleOptimizationConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_ScheduleOptimizationConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='S&O;For some clients'' reactive WO, we want to dispatched them to the SMS inhouse affiliates and want to scheduled the WOs by S&O, then we make some configs in this table.';

CREATE TABLE `client_ScheduleOptimizationCoverageConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'Client ID',
  `OpenMarkets` varchar(1000) NOT NULL COMMENT 'Open markets',
  `OpenPriorityId` varchar(255) NOT NULL COMMENT 'Open priority ID',
  `InhouseOpenServiceCodeIds` varchar(2000) DEFAULT NULL COMMENT 'In-house open service code IDs',
  `LessenDirectOpenServiceCodeIds` varchar(2000) DEFAULT NULL COMMENT 'Lessen direct open service code IDs',
  PRIMARY KEY (`Id`),
  KEY `idx_client_ScheduleOptimizationCoverageConfig_ClientId` (`ClientId`)
)  COMMENT='SNO,Table for storing client schedule optimization coverage configuration';

CREATE TABLE `client_ScheduleOptimizationDrivenTimeScoreConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AffiliateId` int unsigned NOT NULL COMMENT 'Affiliate Id',
  `Market` varchar(50) DEFAULT NULL COMMENT 'Market',
  `MinDrivenTime` int NOT NULL COMMENT 'Interval minimum',
  `MaxDrivenTime` int NOT NULL COMMENT 'Interval maximum',
  `Score` smallint NOT NULL COMMENT 'The score corresponding to the interval',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ScheduleOptimizationDrivenTimeScoreConfig_AffiliateId` (`AffiliateId`),
  CONSTRAINT `FK_client_ScheduleOptimizationDrivenTimeScoreConfig_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`)
)  COMMENT='S&O; Configuration table for calculating scores based on driving time. When the driving time is in the corresponding interval, the corresponding score is obtained.';

CREATE TABLE `client_ScheduleOptimizationScoreWeightConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AffiliateId` int unsigned NOT NULL COMMENT 'Affiliate Id',
  `PriorityId` smallint DEFAULT NULL COMMENT 'WO Priority Id',
  `SpeedToServiceWeight` smallint NOT NULL COMMENT 'Weight configuration of Call Time score',
  `DriveTimeWeight` smallint NOT NULL COMMENT 'Weight configuration of driving time score',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ScheduleOptimizationScoreWeightConfig` (`AffiliateId`),
  CONSTRAINT `FK_client_ScheduleOptimizationScoreWeightConfig` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`)
)  COMMENT='S&O; Weight configuration of driving time and call time calculation scores';

CREATE TABLE `client_ScheduleOptimizationSpeedToServiceScoreConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AffiliateId` int unsigned NOT NULL COMMENT 'Affiliate Id',
  `PriorityId` smallint DEFAULT NULL COMMENT 'WO Priority Id',
  `MinSpeedService` int unsigned NOT NULL COMMENT 'Interval minimum',
  `MaxSpeedService` int unsigned NOT NULL COMMENT 'Interval maximum',
  `Score` smallint NOT NULL COMMENT 'The score corresponding to the interval',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ScheduleOptimizationSpeedToServiceScoreConfig` (`AffiliateId`),
  CONSTRAINT `FK_client_ScheduleOptimizationSpeedToServiceScoreConfig` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`)
)  COMMENT='S&O; Configuration table for calculating scores based on WO Call Time. When the Call Time is in the corresponding interval, the corresponding score is obtained.';

CREATE TABLE `client_ScopeOfWorkAttachmentInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `ScopeOfWorkTypeId` smallint NOT NULL COMMENT 'ClientSOW = 1,AffiliateSOW = 2',
  `FileName` varchar(200) NOT NULL,
  `FilePath` varchar(300) NOT NULL,
  `ContentType` varchar(50) NOT NULL,
  `IsVisible` tinyint(1) NOT NULL DEFAULT '1',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ScopeOfWork_ClientId` (`ClientId`),
  KEY `FK_client_ScopeOfWork_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_ScopeOfWork_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ScopeOfWork_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceCategory` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL COMMENT 'Id in the client_Profile table',
  `ServiceCategoryId` smallint NOT NULL COMMENT 'Id in the table data_ServiceCategory',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsHidden` tinyint(1) DEFAULT '0' COMMENT 'IF the value=1 the service category will be hidden from the client on client portal',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceCategory` (`ClientId`,`ServiceCategoryId`),
  KEY `FK_client_ServiceCategory_ServiceCategoryId` (`ServiceCategoryId`),
  CONSTRAINT `FK_client_ServiceCategory_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCategory_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;To store the service categories that clients have and an client user only can see the service categories set in this table when he create his work order.';

CREATE TABLE `client_ServiceCategoryUserMapping` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `UserId` int unsigned NOT NULL,
  `IsAcceptStandardNTE` tinyint(1) NOT NULL DEFAULT '1',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceCategoryUserMapping` (`ClientId`,`ServiceCategoryId`,`UserId`),
  KEY `FK_client_ServiceCategoryUserMapping_UserId` (`UserId`),
  KEY `FK_client_ServiceCategoryUserMapping_ServiceCategoryId` (`ServiceCategoryId`),
  CONSTRAINT `FK_client_ServiceCategoryUserMapping_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCategoryUserMapping_UserId` FOREIGN KEY (`UserId`) REFERENCES `sms_UserProfile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceCode` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientServiceTypeId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsContract` tinyint(1) DEFAULT '0',
  `IsHidden` tinyint(1) DEFAULT '0',
  `IsPersonal` tinyint(1) NOT NULL DEFAULT '0',
  `IsEnableChargeback` tinyint(1) NOT NULL DEFAULT '0',
  `IsHiddenForClient` tinyint(1) NOT NULL DEFAULT '0',
  `IsRecurringBilling` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceCode` (`ClientServiceTypeId`,`ServiceCodeId`,`IsPersonal`),
  KEY `FK_client_ServiceCode_ServiceCodeId_idx` (`ServiceCodeId`),
  CONSTRAINT `FK_client_ServiceCode_ClientServiceTypeId` FOREIGN KEY (`ClientServiceTypeId`) REFERENCES `client_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCode_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceCodeLableSetting` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientServiceCodeId` int unsigned NOT NULL,
  `Lable` varchar(100) NOT NULL,
  `LableTypeId` smallint NOT NULL,
  `PhotoNum` smallint NOT NULL DEFAULT '0',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceCodeLableSetting_ClientServiceCodeId` (`ClientServiceCodeId`),
  KEY `FK_client_ServiceCodeLableSetting_LableTypeId` (`LableTypeId`),
  CONSTRAINT `FK_client_ServiceCodeLableSetting_ClientServiceCodeId` FOREIGN KEY (`ClientServiceCodeId`) REFERENCES `client_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeLableSetting_LableTypeId` FOREIGN KEY (`LableTypeId`) REFERENCES `data_LableType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;No data in this table,inactive';

CREATE TABLE `client_ServiceCodeLevelMargin` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `StartValue` decimal(18,2) DEFAULT NULL,
  `EndValue` decimal(18,2) DEFAULT NULL,
  `Margin` decimal(18,4) NOT NULL DEFAULT '0.0000',
  `ServiceCodeId` smallint NOT NULL,
  `ChargeCategoryId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceCodeLevelMargin_ChargeCategoryId` (`ChargeCategoryId`),
  KEY `FK_client_ServiceCodeLevelMargin_ServiceCodeId` (`ServiceCodeId`),
  KEY `FK_client_ServiceCodeLevelMargin_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_ServiceCodeLevelMargin_ChargeCategoryId` FOREIGN KEY (`ChargeCategoryId`) REFERENCES `data_ChargeCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeLevelMargin_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeLevelMargin_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceCodeMargin` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientServiceCodeId` int unsigned NOT NULL COMMENT 'Id in the table client_ServiceCode',
  `MinMargin` decimal(18,2) NOT NULL COMMENT 'min of margin',
  `MaxMargin` decimal(18,2) NOT NULL COMMENT 'max of margin',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceCodeMargin_ClientServiceCodeId` (`ClientServiceCodeId`),
  CONSTRAINT `FK_client_ServiceCodeMargin_ClientServiceCodeId` FOREIGN KEY (`ClientServiceCodeId`) REFERENCES `client_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;Set the margin of work orders base on it''s service code';

CREATE TABLE `client_ServiceCodeNTE` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientServiceCodeId` int unsigned NOT NULL COMMENT 'client_ServiceCode.Id',
  `ClientNTE` decimal(18,2) DEFAULT NULL COMMENT 'Client NTE',
  `AffiliateNTE` decimal(18,2) DEFAULT NULL COMMENT 'Affiliate NTE',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceCodeNTE_ClientServiceCodeId` (`ClientServiceCodeId`),
  KEY `FK_client_ServiceCodeNTE_ClientServiceCodeId` (`ClientServiceCodeId`),
  CONSTRAINT `FK_client_ServiceCodeNTE_ClientServiceCodeId` FOREIGN KEY (`ClientServiceCodeId`) REFERENCES `client_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Configuration;The relationship between client service code and NTE';

CREATE TABLE `client_ServiceCodeQuestion` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `Name` varchar(500) NOT NULL,
  `QuestionTypeId` smallint NOT NULL,
  `IsMandatory` tinyint(1) NOT NULL DEFAULT '0',
  `Rank` smallint DEFAULT NULL,
  `ParentId` int unsigned DEFAULT NULL,
  `SubQuestionId` int unsigned DEFAULT NULL,
  `SubQuestionRank` smallint DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Format` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceCodeQuestion_ClientId` (`ClientId`),
  KEY `FK_client_ServiceCodeQuestion_QuestionTypeId` (`QuestionTypeId`),
  KEY `FK_client_ServiceCodeQuestion_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_ServiceCodeQuestion_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeQuestion_QuestionTypeId` FOREIGN KEY (`QuestionTypeId`) REFERENCES `data_QuestionType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeQuestion_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Inactive;';

CREATE TABLE `client_ServiceCodeQuestionAnswer` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `QuestionId` int unsigned NOT NULL,
  `QuestionOptionId` int unsigned DEFAULT NULL,
  `Answer` varchar(1000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceCodeQuestionAnswer_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_ServiceCodeQuestionAnswer_QuestionId` (`QuestionId`),
  KEY `FK_client_ServiceCodeQuestionAnswer_QuestionOptionId` (`QuestionOptionId`),
  CONSTRAINT `FK_client_ServiceCodeQuestionAnswer_QuestionId` FOREIGN KEY (`QuestionId`) REFERENCES `client_ServiceCodeQuestion` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeQuestionAnswer_QuestionOptionId` FOREIGN KEY (`QuestionOptionId`) REFERENCES `client_ServiceCodeQuestionOption` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeQuestionAnswer_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Inactive;';

CREATE TABLE `client_ServiceCodeQuestionOption` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `QuestionId` int unsigned NOT NULL,
  `Name` varchar(200) NOT NULL,
  `Rank` smallint DEFAULT NULL,
  `SubQuestionId` int unsigned DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `PriorityId` smallint DEFAULT NULL,
  `WOTypeId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceCodeQuestionOption_QuestionId` (`QuestionId`),
  KEY `FK_client_ServiceCodeQuestionOption_PriorityId` (`PriorityId`),
  KEY `FK_client_ServiceCodeQuestionOption_WOTypeId` (`WOTypeId`),
  CONSTRAINT `FK_client_ServiceCodeQuestionOption_PriorityId` FOREIGN KEY (`PriorityId`) REFERENCES `data_Priority` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeQuestionOption_QuestionId` FOREIGN KEY (`QuestionId`) REFERENCES `client_ServiceCodeQuestion` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeQuestionOption_WOTypeId` FOREIGN KEY (`WOTypeId`) REFERENCES `data_WOType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Inactive;';

CREATE TABLE `client_ServiceCodeResolutionMap` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ServiceCodeId` smallint NOT NULL,
  `ResolutionId` smallint NOT NULL,
  `BusinessTypeId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CustomerTypeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_ServiceCodeResolutionMap` (`BusinessTypeId`,`ServiceCodeId`,`ResolutionId`),
  KEY `FK_data_ServiceCodeResolutionMap_BusinessType_idx` (`BusinessTypeId`),
  KEY `FK_data_ServiceCodeResolutionMap_ResolutionId_idx` (`ResolutionId`),
  KEY `FK_data_ServiceCodeResolutionMap_CustomerTypeId_idx` (`CustomerTypeId`),
  CONSTRAINT `FK_data_ServiceCodeResolutionMap_BusinessType` FOREIGN KEY (`BusinessTypeId`) REFERENCES `data_BusinessType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_ServiceCodeResolutionMap_CustomerTypeId` FOREIGN KEY (`CustomerTypeId`) REFERENCES `data_CustomerType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_ServiceCodeResolutionMap_ResolutionId` FOREIGN KEY (`ResolutionId`) REFERENCES `data_Resolution` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Describe relationship between servicecode and resolutions';

CREATE TABLE `client_ServiceCodeSORecommendedException` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceCodeSORecommendedException` (`ClientId`,`ServiceCodeId`),
  KEY `FK_client_ServiceCodeRecommendedException_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_ServiceCodeRecommendedException_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceCodeRecommendedException_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceCombinationAlias` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned DEFAULT NULL,
  `ServiceName` varchar(50) NOT NULL,
  `ParentId` int unsigned DEFAULT NULL,
  `LevelNum` smallint NOT NULL,
  `IsLeafNode` tinyint(1) NOT NULL DEFAULT '0',
  `Description` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_ServiceCombinationaAlias_ParentId` (`ParentId`),
  KEY `ID_client_ServiceCombinationaAlias_ClientId` (`ClientId`)
) ;

CREATE TABLE `client_ServiceMapping` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ClientServiceCategory` varchar(80) DEFAULT NULL,
  `ClientServiceType` varchar(80) DEFAULT NULL,
  `ClientServiceCode` varchar(150) DEFAULT NULL,
  `ProblemDescription` varchar(150) DEFAULT NULL,
  `ServiceCategoryId` smallint DEFAULT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceMapping_ServiceCategoryId_idx` (`ServiceCategoryId`),
  KEY `FK_client_ServiceMapping_ServiceTypeId_idx` (`ServiceTypeId`),
  KEY `FK_client_ServiceMapping_ServiceCodeId_idx` (`ServiceCodeId`),
  KEY `FK_client_ServiceMapping_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_ServiceMapping_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceMapping_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceMapping_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceMapping_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServicePriceModel` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `ProgramLevel` smallint DEFAULT NULL,
  `Price` decimal(10,2) DEFAULT NULL,
  `Cost` decimal(10,2) DEFAULT NULL,
  `PriceFactor` varchar(10) DEFAULT NULL,
  `Frequency` smallint DEFAULT NULL,
  `State` varchar(10) DEFAULT NULL,
  `ExtServiceName` varchar(50) DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServicePriceModel_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_ServicePriceModel_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceRateReport` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `CountMonth` date NOT NULL,
  `BusinessUnitId` smallint NOT NULL,
  `WOCount` int DEFAULT NULL,
  `RateCount` int DEFAULT NULL,
  `IsNeedUpdate` tinyint(1) NOT NULL DEFAULT '0',
  `LastUpdateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceRateReport_ClientId` (`ClientId`),
  KEY `FK_client_ServiceRateReport_BusinessUnitId` (`BusinessUnitId`),
  CONSTRAINT `FK_client_ServiceRateReport_BusinessUnitId` FOREIGN KEY (`BusinessUnitId`) REFERENCES `data_BusinessUnit` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceRateReport_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceRequest` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(500) NOT NULL,
  `Description` varchar(4000) DEFAULT NULL,
  `LocationId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `CloseTime` datetime DEFAULT NULL,
  `ServiceRequestNumber` varchar(64) NOT NULL,
  `ProCareId` int unsigned DEFAULT NULL,
  `TypeId` smallint NOT NULL DEFAULT '1',
  `ServiceRequestCategory` smallint NOT NULL DEFAULT '1' COMMENT 'Regular=1,ListingPeriod=2,ClosingPeriod=3',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceRequest_ServiceRequestNumber` (`ServiceRequestNumber`),
  UNIQUE KEY `UK_client_ServiceRequest_ProCareId` (`ProCareId`),
  KEY `FK_client_ServiceRequest_StatusId` (`StatusId`),
  KEY `ID_client_ServiceRequest_CreateDate` (`CreateDate`),
  KEY `ID_client_ServiceRequest_LocationId` (`LocationId`),
  KEY `ID_client_ServiceRequest_Name` (`Name`),
  KEY `FK_client_ServiceRequest_ServiceRequestCategory` (`ServiceRequestCategory`),
  CONSTRAINT `FK_client_ServiceRequest_ProCareId` FOREIGN KEY (`ProCareId`) REFERENCES `client_FacilityProject` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceRequest_ServiceRequestCategory` FOREIGN KEY (`ServiceRequestCategory`) REFERENCES `data_ServiceRequestCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceRequest_StatusId` FOREIGN KEY (`StatusId`) REFERENCES `data_ServiceRequestStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceRequestAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ServiceRequestId` int unsigned NOT NULL,
  `FileName` varchar(200) DEFAULT NULL,
  `FilePath` varchar(300) DEFAULT NULL,
  `ContentType` varchar(50) NOT NULL,
  `IsVisible` tinyint(1) NOT NULL DEFAULT '1',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ExifOrientation` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceRequest_Id` (`ServiceRequestId`),
  CONSTRAINT `FK_client_ServiceRequestId` FOREIGN KEY (`ServiceRequestId`) REFERENCES `client_ServiceRequest` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceRequestAttribute` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ServiceRequestId` int unsigned NOT NULL,
  `ServiceRequestDueDate` datetime DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceRequestAttribute` (`ServiceRequestId`),
  CONSTRAINT `FK_client_ServiceRequestAttribute_ServiceRequestId` FOREIGN KEY (`ServiceRequestId`) REFERENCES `client_ServiceRequest` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceRequestRecommendServiceCodeConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned DEFAULT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `RecommendServiceCodeId` smallint NOT NULL,
  `ServiceCodeAliasName` varchar(150) DEFAULT NULL,
  `RecommendServiceCodeAliasName` varchar(150) DEFAULT NULL,
  `IsResidential` tinyint(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceRequestRecommendServiceCodeConfig_ServiceCodeId` (`ServiceCodeId`),
  KEY `FK_client_ServiceRequestRecommendServiceCodeConfig` (`RecommendServiceCodeId`),
  KEY `FK_client_ServiceRequestRecommendServiceCodeConfig_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_ServiceRequestRecommendServiceCodeConfig` FOREIGN KEY (`RecommendServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceRequestRecommendServiceCodeConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceRequestRecommendServiceCodeConfig_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceRequestWOReactive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ServiceRequestId` int unsigned NOT NULL,
  `WOReactiveId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsRootCause` tinyint(1) NOT NULL DEFAULT '0',
  `RelatedWOReactiveId` int unsigned DEFAULT NULL,
  `ReasonCodeId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceRequestWOReactive_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_ServiceRequestWOReactive_ServiceRequestId` (`ServiceRequestId`),
  KEY `FK_client_ServiceRequestWOReactive_RelatedWOReactiveId` (`RelatedWOReactiveId`),
  KEY `FK_client_ServiceRequestWOReactive_ReasonCodeId` (`ReasonCodeId`),
  CONSTRAINT `FK_client_ServiceRequestWOReactive_ReasonCodeId` FOREIGN KEY (`ReasonCodeId`) REFERENCES `data_ReasonCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceRequestWOReactive_RelatedWOReactiveId` FOREIGN KEY (`RelatedWOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceRequestWOReactive_ServiceRequestId` FOREIGN KEY (`ServiceRequestId`) REFERENCES `client_ServiceRequest` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceRequestWOReactive_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ServiceType` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientServiceCategoryId` int unsigned NOT NULL COMMENT 'Id in the table client_ServiceCategory',
  `ServiceTypeId` smallint NOT NULL COMMENT 'Id in the table data_ServiceType',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsHidden` tinyint(1) DEFAULT '0' COMMENT 'IF the value=1 the service type will be hidden from the client on client portal for this client',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ServiceType` (`ClientServiceCategoryId`,`ServiceTypeId`),
  KEY `FK_client_ServiceType_ServiceTypeId` (`ServiceTypeId`),
  CONSTRAINT `FK_client_ServiceType_ClientServiceCategoryId` FOREIGN KEY (`ClientServiceCategoryId`) REFERENCES `client_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_ServiceType_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;This table stores the service types that clients have and an client user only can select the service types set in this table to create a work order.';

CREATE TABLE `client_ServiceTypeGLCode` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientServiceTypeId` int unsigned NOT NULL,
  `GLCode` varchar(50) NOT NULL,
  `GLNotes` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_ServiceTypeGLCode_ClientServiceTypeId` (`ClientServiceTypeId`),
  CONSTRAINT `FK_client_ServiceTypeGLCode_ClientServiceTypeId` FOREIGN KEY (`ClientServiceTypeId`) REFERENCES `client_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_SingleSignOn` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `SId` varchar(45) DEFAULT NULL,
  `FirstName` varchar(45) DEFAULT NULL,
  `LastName` varchar(45) DEFAULT NULL,
  `PhoneNumber` varchar(20) DEFAULT NULL,
  `EmailAddress` varchar(100) DEFAULT NULL,
  `Building` varchar(45) DEFAULT NULL,
  `Floor` varchar(45) DEFAULT NULL,
  `PropertyId` varchar(45) DEFAULT NULL,
  `District` varchar(50) DEFAULT NULL,
  `Region` varchar(50) DEFAULT NULL,
  `CostCenter` varchar(20) DEFAULT NULL,
  `LegalEntity` varchar(20) DEFAULT NULL,
  `SAPLOB` varchar(40) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `idx_client_SingleSignOn_SId` (`SId`),
  KEY `ID_client_SAPCodes_SAPLOB` (`SAPLOB`)
) ;

CREATE TABLE `client_SmartReplyOptionConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `SmartReplyOptionId` smallint NOT NULL COMMENT 'data_SmartReplyOption.Id',
  `ConfigType` smallint NOT NULL COMMENT '1= WoStatus,  2= IsResidential, 3=WoType, 4=ClinetId, 5=DepartmentType, 6=CustomerType,7=ServiceCombination',
  `ConfigValue` varchar(255) NOT NULL COMMENT 'ConfigValue',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_SmartReplyOptionConfig_SmartReplyOptionId` (`SmartReplyOptionId`),
  CONSTRAINT `FK_client_SmartReplyOptionConfig_SmartReplyOptionId` FOREIGN KEY (`SmartReplyOptionId`) REFERENCES `data_SmartReplyOption` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Communication;The smart reply system will enable the smart reply feature for clients according the configurations in this table';

CREATE TABLE `client_SmartSRSequenceCheckConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `HighSequenceServiceCodeId` smallint NOT NULL COMMENT 'The service code of needs priority processing in SR',
  `LowSequenceServiceCodeId` smallint NOT NULL COMMENT 'The service code of needs later processing in SR',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  KEY `FK_client_SmartSRSequenceCheckConfig_HighSequenceServiceCodeId` (`HighSequenceServiceCodeId`),
  KEY `FK_client_SmartSRSequenceCheckConfig_LowSequenceServiceCodeId` (`LowSequenceServiceCodeId`),
  CONSTRAINT `FK_client_SmartSRSequenceCheckConfig_HighSequenceServiceCodeId` FOREIGN KEY (`HighSequenceServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_SmartSRSequenceCheckConfig_LowSequenceServiceCodeId` FOREIGN KEY (`LowSequenceServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store WO sequenece config information;';

CREATE TABLE `client_SmartSRServiceCombo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ServiceCategoryId` smallint NOT NULL,
  `ServiceTypeId` smallint NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `ServiceComboAlias` varchar(50) NOT NULL COMMENT 'Alias of Service Combination;',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_SmartSRServiceCombo` (`ServiceCategoryId`,`ServiceTypeId`,`ServiceCodeId`),
  KEY `FK_client_SmartSRServiceCombo_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_client_SmartSRServiceCombo_ServiceTypeId` (`ServiceTypeId`),
  KEY `FK_client_SmartSRServiceCombo_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_SmartSRServiceCombo_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_SmartSRServiceCombo_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_SmartSRServiceCombo_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store SR suggested and recommentded service combo information;';

CREATE TABLE `client_SmartSRServiceComboMapping` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `SuggestedServiceComboId` int unsigned NOT NULL,
  `RecommendedServiceComboId` int unsigned NOT NULL,
  `SRCount` int unsigned DEFAULT '0' COMMENT 'The number of SuggestedServiceComboWO and RecommendedServiceComboWO in the same SR;',
  `Percentage` decimal(8,5) DEFAULT '0.00000' COMMENT 'The percentage of SuggestedServiceComboWO and RecommendedServiceComboWO in the same SR;',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_SmartSRServiceComboMapping` (`SuggestedServiceComboId`,`RecommendedServiceComboId`),
  KEY `FK_client_SmartSRServiceComboMapping_SuggestedServiceComboId` (`SuggestedServiceComboId`),
  KEY `FK_client_SmartSRServiceComboMapping_RecommendedServiceComboId` (`RecommendedServiceComboId`),
  CONSTRAINT `FK_client_SmartSRServiceComboMapping_RecommendedServiceComboId` FOREIGN KEY (`RecommendedServiceComboId`) REFERENCES `client_SmartSRServiceCombo` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_SmartSRServiceComboMapping_SuggestedServiceComboId` FOREIGN KEY (`SuggestedServiceComboId`) REFERENCES `client_SmartSRServiceCombo` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store SR suggested and recommended service combo mapping information;';

CREATE TABLE `client_SnowForecast` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ForecastDate` date DEFAULT NULL,
  `SnowFall` varchar(20) DEFAULT NULL,
  `LocationNumber` varchar(50) DEFAULT NULL,
  `State` varchar(10) DEFAULT NULL,
  `ClientName` varchar(50) DEFAULT NULL,
  `StatusId` smallint NOT NULL DEFAULT '1',
  `Remark` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_SnowForecast_StatusId` (`StatusId`),
  CONSTRAINT `FK_client_SnowForecast_StatusId` FOREIGN KEY (`StatusId`) REFERENCES `data_SnowForecastStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_SocialMediaPages` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Region` varchar(50) NOT NULL,
  `Google` varchar(500) DEFAULT NULL,
  `Yelp` varchar(500) DEFAULT NULL,
  `Facebook` varchar(500) DEFAULT NULL,
  `Trustpilot` varchar(500) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_SocialMediaPages_ClientId` (`ClientId`)
) ;

CREATE TABLE `client_SpecialDispatchRule` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `RuleName` varchar(100) NOT NULL,
  `Description` varchar(1024) DEFAULT NULL,
  `StatusId` smallint NOT NULL DEFAULT '1',
  `AffiliateId` int unsigned NOT NULL,
  `LocationIds` varchar(218) DEFAULT NULL,
  `ClientIds` varchar(512) DEFAULT NULL,
  `CustomerTypes` varchar(50) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ExceptionType` smallint NOT NULL DEFAULT '1',
  `TradeIds` varchar(512) DEFAULT NULL,
  `Rank` smallint DEFAULT NULL,
  `ServiceCategoryIds` varchar(10) DEFAULT NULL,
  `ServiceTypeIds` varchar(512) DEFAULT NULL,
  `ServiceCodeIds` varchar(1024) DEFAULT NULL,
  `WOTypes` varchar(512) DEFAULT NULL,
  `Country` varchar(3) DEFAULT NULL,
  `States` varchar(256) DEFAULT NULL,
  `County` varchar(516) DEFAULT NULL,
  `City` varchar(50) DEFAULT NULL,
  `CustomerGroups` varchar(516) DEFAULT NULL,
  `CustomerRegins` varchar(516) DEFAULT NULL,
  `CustomerDistricts` varchar(516) DEFAULT NULL,
  `Markets` varchar(516) DEFAULT NULL,
  `Zipcodes` varchar(516) DEFAULT NULL,
  `WoLinkTypes` varchar(50) DEFAULT NULL,
  `SubMarkets` varchar(516) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_affiliate_TradeCoverageExceptionRule_RuleName` (`RuleName`),
  KEY `FK_affiliate_TradeCoverageExceptionRule_AffiliateId` (`AffiliateId`),
  CONSTRAINT `FK_affiliate_TradeCoverageExceptionRule_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_SpecialMargin` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `Margin` decimal(18,4) NOT NULL DEFAULT '0.0000',
  `Description` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_SpecialMargin_ClientId` (`ClientId`),
  KEY `FK_client_SpecialMargin_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_SpecialMargin_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_SpecialMargin_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_SpecialServiceDispatch` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_SpecialServiceDispatch` (`ClientId`,`ServiceCodeId`,`AffiliateId`)
) ;

CREATE TABLE `client_SpeedToServiceWeightsConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `PriorityId` smallint NOT NULL,
  `MinSpeedService` int unsigned NOT NULL,
  `MaxSpeedService` int unsigned NOT NULL,
  `Score` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_SpeedtoServiceWeightsConfig_ClientId` (`ClientId`),
  KEY `FK_client_SpeedtoServiceWeightsConfig_PriorityId` (`PriorityId`),
  CONSTRAINT `FK_client_SpeedtoServiceWeightsConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_SpeedtoServiceWeightsConfig_PriorityId` FOREIGN KEY (`PriorityId`) REFERENCES `data_Priority` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_StableFinancialCount` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Years` int NOT NULL,
  `Months` int NOT NULL,
  `District` varchar(50) DEFAULT NULL,
  `Region` varchar(50) DEFAULT NULL,
  `Counts` int NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_temp_ClientStableFinancial` (`ClientId`,`Years`,`Months`)
) ;

CREATE TABLE `client_StateTenant` (
  `Id` smallint NOT NULL,
  `ClientId` int unsigned NOT NULL,
  `StateAbbr` varchar(5) NOT NULL,
  `BranchCompanyName` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_StateTenant_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_StateTenant_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_TemperaturePriorityConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `PriorityId` smallint NOT NULL,
  `Temperature` smallint NOT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_TemperaturePriorityConfig_ClientId` (`ClientId`),
  KEY `FK_client_TemperaturePriorityConfig_PriorityId` (`PriorityId`),
  KEY `FK_client_TemperaturePriorityConfig_ServiceCategoryId` (`ServiceCategoryId`),
  CONSTRAINT `FK_client_TemperaturePriorityConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_TemperaturePriorityConfig_PriorityId` FOREIGN KEY (`PriorityId`) REFERENCES `data_Priority` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_TemperaturePriorityConfig_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_TextMessageTemplateConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `TextMessageTemplateId` int unsigned NOT NULL,
  `TemplateContent` varchar(500) NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `Regions` varchar(2500) DEFAULT NULL,
  `SendToRoleIds` varchar(500) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `SendPoolType` smallint NOT NULL DEFAULT '1',
  PRIMARY KEY (`Id`),
  KEY `FK_client_TextMessageTemplateConfig_ClientId` (`ClientId`),
  KEY `FK_client_TextMessageTemplateConfig_TextMessageTemplateId` (`TextMessageTemplateId`),
  CONSTRAINT `FK_client_TextMessageTemplateConfig_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_TextMessageTemplateConfig_TextMessageTemplateId` FOREIGN KEY (`TextMessageTemplateId`) REFERENCES `sms_TextMessageTemplate` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ThemeCustomization` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `DefaultTheme` varchar(3000) DEFAULT NULL,
  `CustomTheme` varchar(3000) DEFAULT NULL,
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ThemeCustomization_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_ThemeCustomization_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_ThemeCustomizationAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `FileKey` varchar(32) NOT NULL,
  `FileUrl` varchar(200) NOT NULL,
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_ThemeCustomizationAttachment_FileKey` (`FileKey`),
  KEY `IDX_client_ThemeCustomizationAttachment_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_ThemeCustomizationAttachment_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_TieredServiceFee` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `StartValue` decimal(18,2) DEFAULT NULL,
  `EndValue` decimal(18,2) DEFAULT NULL,
  `DepartmentId` smallint NOT NULL,
  `ServiceFee` decimal(18,2) DEFAULT NULL,
  `ServiceFeeRate` decimal(18,4) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_TieredServiceFee_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_TieredServiceFee_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_TurnTradeMapping` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned DEFAULT NULL,
  `TradeOperationId` smallint DEFAULT NULL,
  `TradeOperationName` varchar(100) DEFAULT NULL,
  `ItemTypeId` smallint DEFAULT NULL,
  `ItemTypeName` varchar(100) DEFAULT NULL,
  `ItemId` smallint DEFAULT NULL,
  `ItemName` varchar(100) DEFAULT NULL,
  `ItemDescription` varchar(500) DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `GL` varchar(30) DEFAULT NULL,
  `GLTurn` varchar(30) DEFAULT NULL,
  `GLTurnCap` varchar(30) DEFAULT NULL,
  `GLTurnResD` varchar(30) DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `HPACategory` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_TurnTradeMapping_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_client_TurnTradeMapping_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;


CREATE TABLE `client_WOCancelReasonConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `CancelReasonId` smallint NOT NULL COMMENT 'save WO Cancel Reason;data_SysEnum.Id;',
  `PortalType` smallint NOT NULL DEFAULT '0' COMMENT 'PortalType:0=Internal,1=Client,2=Affiliate',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `Rank` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_client_WOCancelReasonConfig_ClientId` (`ClientId`)
)  COMMENT='WO Cancel Reason Config';

CREATE TABLE `client_WODeferredReason` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `DeferredReasonId` smallint NOT NULL,
  `DepartmentId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WODeferredReason` (`DeferredReasonId`,`DepartmentId`),
  KEY `client_WODeferredReason_DeferredReasonId_idx` (`DeferredReasonId`),
  KEY `client_WODeferredReason_DepartmentId_idx` (`DepartmentId`),
  CONSTRAINT `client_WODeferredReason_DepartmentId` FOREIGN KEY (`DepartmentId`) REFERENCES `data_Department` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;


CREATE TABLE `client_WOPrintTemplate` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `Name` varchar(50) DEFAULT NULL,
  `URL` varchar(300) NOT NULL,
  `ServiceCategoryId` smallint DEFAULT NULL,
  `ServiceTypeId` smallint DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `IsReactive` tinyint(1) NOT NULL DEFAULT '0',
  `IsRecurrent` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOPrintTemplate_ServiceCategoryId` (`ServiceCategoryId`),
  KEY `FK_client_WOPrintTemplate_ServiceTypeId` (`ServiceTypeId`),
  KEY `FK_client_WOPrintTemplate_ServiceCodeId` (`ServiceCodeId`),
  KEY `FK_client_WOPrintTemplate_ClientId` (`ClientId`),
  CONSTRAINT `FK_client_WOPrintTemplate_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOPrintTemplate_ServiceCategoryId` FOREIGN KEY (`ServiceCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOPrintTemplate_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOPrintTemplate_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOPriorityMapping` (
  `Id` int NOT NULL,
  `ClientId` int unsigned NOT NULL,
  `ClientPriorityId` int NOT NULL,
  `PriorityId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOPriorityMapping_ClientId_idx` (`ClientId`),
  KEY `FK_client_WOPriorityMapping_PriorityId_idx` (`PriorityId`),
  CONSTRAINT `FK_client_WOPriorityMapping_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOPriorityMapping_PriorityId` FOREIGN KEY (`PriorityId`) REFERENCES `data_Priority` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WONum` varchar(40) NOT NULL COMMENT 'Work order number of reactive WO',
  `LocationId` int unsigned NOT NULL COMMENT 'Id in the table client_Location',
  `AffiliateId` int unsigned DEFAULT NULL COMMENT 'Id in the table affiliate_Profile',
  `ServiceCodeId` smallint NOT NULL COMMENT 'The service code of work orders.It it the Id in the table data_ServiceCode',
  `Caller` varchar(100) DEFAULT NULL COMMENT 'Who call to create this work order.',
  `CallerPosition` smallint DEFAULT NULL COMMENT 'The position of the caller of an work order',
  `CallTime` datetime DEFAULT NULL COMMENT 'Usually is the create date of an work order',
  `PriorityId` smallint NOT NULL COMMENT 'The priority of an work order.It is the Id in the table data_Priority',
  `StatusId` smallint NOT NULL COMMENT 'The status of the work order.It is the Id in the table data_WOStatus',
  `ClientNTE` decimal(18,2) DEFAULT NULL COMMENT 'The max customer price of the work order',
  `AffiliateNTE` decimal(18,2) DEFAULT NULL COMMENT 'The max affiliate price of the work order',
  `DispatchTime` datetime DEFAULT NULL COMMENT 'The time that the work order is dispatched to an affiliate',
  `DispatchUserId` int unsigned DEFAULT NULL COMMENT 'Who dispatch this work order.',
  `AcceptOrDecline` smallint DEFAULT NULL COMMENT '0 means this work order has''t dispatched,1 means this work order is accepted by the affiliate,2 means this work order is declined by this affiliate',
  `AcceptOrDeclineBy` varchar(50) DEFAULT NULL COMMENT 'Who accept or decline this work order',
  `AcceptOrDeclineTime` datetime DEFAULT NULL COMMENT 'The time that this work order is acceped or declined',
  `ScheduleStartTime` datetime DEFAULT NULL COMMENT 'The start time of schedule window',
  `ScheduleEndTime` datetime DEFAULT NULL COMMENT 'The end time of schedule window',
  `ScheduleUserId` int unsigned DEFAULT NULL COMMENT 'Who schedule this work order',
  `ScheduleByTime` datetime DEFAULT NULL COMMENT 'The time that this work order is scheduled',
  `CheckInTime` datetime DEFAULT NULL COMMENT 'The time that the technician arrive at the location and start his work order',
  `CompleteTime` datetime DEFAULT NULL COMMENT 'The time that this work order is completed',
  `ReferWONum` varchar(512) DEFAULT NULL COMMENT 'The related wonum',
  `WOCategoryId` smallint DEFAULT NULL COMMENT 'The category of the work order.It is the Id in the table data_WOCategory',
  `WOTypeId` smallint DEFAULT NULL COMMENT 'The work order type of the work order.It is the Id in the table data_WOType',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Version` int NOT NULL DEFAULT '0' COMMENT 'Used to avoid the concurrence that two or more users edit this work order.',
  `PurchaseNum` varchar(100) DEFAULT NULL COMMENT 'The purchase number of the work order',
  `Technician` int unsigned DEFAULT NULL COMMENT 'The technician of this work order.It is the Id in the sms_UserProfile',
  `StatusLastUpdate` datetime DEFAULT NULL COMMENT 'The latest time that the work order status is updated',
  `ModifyDate` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),
  `CheckInBy` int unsigned DEFAULT NULL COMMENT 'Who check in this work order.',
  `CheckOutTime` datetime DEFAULT NULL COMMENT 'The time that the technician departure the location',
  `CheckOutBy` int unsigned DEFAULT NULL COMMENT 'Who check out the work order',
  `SourceOfWOId` smallint DEFAULT NULL COMMENT 'The source that a work order is created from. It is the Id in the table data_SourceOfWO',
  `ServiceDuration` int DEFAULT NULL,
  `CallPhone` varchar(25) DEFAULT NULL COMMENT 'The phone of the caller of this work order',
  `MaintenanceRoleId` int unsigned DEFAULT NULL COMMENT 'Id in the table data_MaintenanceRole',
  `IsEscalate` tinyint(1) DEFAULT NULL COMMENT 'If the work order is escalated by some one the value of this field will be 1.',
  `PhotoActionStatus` smallint DEFAULT NULL COMMENT 'To tag the technician/affiliate manager upload or don''t upload before/after service photo on the vendor app or affiliate portal for the WO. 1:before service photos submitted, 2:after service photos submitted, 0: nighter',
  `AssetId` int unsigned DEFAULT NULL COMMENT 'The asset of this work order. It is the Id in the table client_LocationAsset',
  `AssetPartId` varchar(24) DEFAULT NULL COMMENT 'The asset part of this work order. It is the Id in the table client_LocationAssetPart',
  `VisitLog` smallint DEFAULT NULL,
  `IsIssues` tinyint(1) DEFAULT NULL COMMENT 'It is a flag for residential work orders, we can add several issues into the work order.If one or more issues are added into the WO, the value of this field will be 1. You can see the detailed issues in the table client_WOReactiveIssuesReason.',
  `IsHighRisk` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'To tag the work order is or not a high risk work order. If the value is 1 the color of the "High Risk" tag in the wo detail page will be blue.',
  `ByPassComplianceId` smallint DEFAULT NULL COMMENT 'Id in the table data_ByPassCompliance. It shows the reason that a techncian can’t  upload photos, can''t check-in/out on app',
  `AccesccInformation` varchar(250) DEFAULT NULL COMMENT 'The information which can help techncicians connect the customer when they arrive the locations. Usually are phone number.',
  `PaymentMethodId` smallint DEFAULT NULL COMMENT 'Pay method. Id in the table data_PaymentMothod',
  `IsAccessedByMobile` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'The resident or store manager of this work order whether can be accessed by mobile',
  `PurposeId` smallint DEFAULT NULL COMMENT 'Replace or repair. Id in the table data_Purpose',
  `IsScheduled` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'If the WO is scheduled then the value of this field will be 1,otherwise 0.',
  `TaskId` int unsigned DEFAULT NULL COMMENT 'It is used for the project WO.It is the Id in the table client_FacilityProjectTask.',
  `IsLandlordProcess` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Inactive field',
  `AssigneeId` int unsigned DEFAULT NULL COMMENT 'The assignee of the WO. It is the id in the table sms_UserProfile',
  `OwnerId` int unsigned DEFAULT NULL COMMENT 'The owner of the WO. It is the id in the table sms_UserProfile',
  `WODepartmentId` smallint DEFAULT NULL COMMENT 'Id in the table data__Department',
  `WOBusinessUnit` smallint DEFAULT NULL COMMENT 'Id in the table data_BusinessUnit',
  `WOServiceCategoryId` smallint DEFAULT NULL COMMENT 'Id in the table data_ServiceCategory',
  `WOServiceTypeId` smallint DEFAULT NULL COMMENT 'Id in the table data_ServiceType',
  `WOClientId` int unsigned DEFAULT NULL COMMENT 'The client of WO. It is the id in the table client_Profile',
  `ClientPayStatusId` smallint DEFAULT NULL COMMENT 'client pay status. Id in the table data_ClientPayStatus',
  `IsPersonal` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'It is used for "To C business". Useless',
  `RequestUserId` int unsigned DEFAULT NULL,
  `CreateMonth` date DEFAULT NULL,
  `IsFreeCharging` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'To label a work order is or not a free charging wo',
  `IsRefund` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'If the value of this field is 1, it means this WO is used to strike a balance.',
  `PreviousMaintenanceRoleId` int unsigned DEFAULT NULL,
  `LocationResidentialId` int unsigned DEFAULT NULL COMMENT 'Store the resident of the location of WO. It is the id in the table client_LocationResidential',
  `IsDispatchApproval` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'For some work orders,we need to ask the clients whether we can dispatch these work order, the value of this field will be 1 if client approve dispatch.',
  `TempGLCode` varchar(45) DEFAULT NULL COMMENT 'A code from the third party on accounting',
  `WBSNumber` varchar(45) DEFAULT NULL COMMENT 'A code from the third party',
  `PurchaseOrderNumber` varchar(45) DEFAULT NULL COMMENT 'Purchase Order Number',
  `POStatus` smallint DEFAULT NULL COMMENT 'Purchase Order Number status',
  `CallId` int unsigned DEFAULT NULL COMMENT 'Which call generate this WO. Id in the table client_Call',
  `InvoicedTime` datetime DEFAULT NULL COMMENT 'The time when affiliate invoice is submitted',
  `SpecialBillingId` smallint DEFAULT NULL,
  `ProjectId` int unsigned DEFAULT NULL COMMENT 'Id in the table client_FacilityProject.',
  `ProjectTaskId` int unsigned DEFAULT NULL COMMENT 'It is used for the project WO.It is the Id in the table client_FacilityProjectTask.',
  `IsViaDataGrid` tinyint(1) DEFAULT '0' COMMENT 'If the WO is loaded by data grid the value of this field is 1',
  `IsLockedTechnician` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'If the value of this field is 1 then the S&O system shouldn''t change the technician of this work order, it''s technician only can be changed by manual.',
  `EscalateDateTime` datetime DEFAULT NULL COMMENT 'The time when some one excalate the WO.',
  `CustomerNTEModifyUserId` int unsigned DEFAULT NULL COMMENT 'Who modify the customer nte of the WO. It is the Id in the table sms_UserProfile',
  `InitialVendorInvoiceReceivedDate` datetime DEFAULT NULL COMMENT 'The date submitting vendor invoice for the first time',
  `IssuesDateTime` datetime DEFAULT NULL COMMENT 'The data that the first issue is added for the WO',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactive_WONum` (`WONum`),
  UNIQUE KEY `PurchaseOrderNumber_UNIQUE` (`PurchaseOrderNumber`),
  KEY `FK_client_WOReactive_LocationId` (`LocationId`),
  KEY `FK_client_WOReactive_ServiceCodeId` (`ServiceCodeId`),
  KEY `FK_client_WOReactive_CallerPosition` (`CallerPosition`),
  KEY `FK_client_WOReactive_WOCategoryId` (`WOCategoryId`),
  KEY `FK_client_WOReactive_WOTypeId` (`WOTypeId`),
  KEY `IK_client_WOReactive_CreateDate` (`CreateDate`),
  KEY `FK_client_WOReactive_SourceOfWOId` (`SourceOfWOId`),
  KEY `FK_client_WOReactive_MaintenanceRoleId` (`MaintenanceRoleId`),
  KEY `FK_client_WOReactive_ByPassComplianceId` (`ByPassComplianceId`),
  KEY `FK_client_WOReactive_PurposeId` (`PurposeId`),
  KEY `ID_client_WOReactive_CheckInTime` (`CheckInTime`),
  KEY `ID_client_WOReactive_CompleteTime` (`CompleteTime`),
  KEY `FK_client_WOReactive_AffiliateId_StatusId` (`AffiliateId`,`StatusId`),
  KEY `ID_client_WOReactive_ScheduleStartTime` (`ScheduleStartTime`),
  KEY `ID_client_WOReactive_ScheduleEndTime` (`ScheduleEndTime`),
  KEY `ID_client_WOReactive_Technician` (`Technician`),
  KEY `ID_client_WOReactive_RequestUserId` (`RequestUserId`),
  KEY `ID_client_WOReactive_AssetId` (`AssetId`),
  KEY `ID_client_WOReactive_AssigneeId` (`AssigneeId`),
  KEY `ID_client_WOReactive_CreateMonth` (`CreateMonth`),
  KEY `ID_client_WOReactive_WOServiceTypeId` (`WOServiceTypeId`),
  KEY `ID_client_WOReactive_LocationResidentialId` (`LocationResidentialId`),
  KEY `ID_client_WOReactive_WODepartmentId` (`WODepartmentId`),
  KEY `ID_client_WOReactive_TaskId` (`TaskId`,`WODepartmentId`),
  KEY `ID_client_WOReactive_OwnerId` (`OwnerId`),
  KEY `ID_client_WOReactive_ModifyDate` (`ModifyDate`),
  KEY `ID_client_WOReactive_IsEscalate` (`IsEscalate`),
  KEY `ID_client_WOReactive_ReferWONum` (`ReferWONum`(20)),
  KEY `ID_client_WOReactive_DispatchTime` (`DispatchTime`),
  KEY `ID_client_WOReactive_POStatus` (`POStatus`),
  KEY `ID_client_WOReactive_PriorityId` (`PriorityId`,`StatusId`,`TaskId`),
  KEY `FK_client_WOReactive_StatusId` (`StatusId`),
  KEY `ID_client_WOReactive_WOClientIdCom` (`WOClientId`,`WODepartmentId`,`StatusId`),
  KEY `ID_client_WOReactive_CallTime` (`CallTime`),
  KEY `ID_client_WOReactive_ProjectId` (`ProjectId`),
  KEY `ID_client_WOReactive_ProjectTaskId` (`ProjectTaskId`),
  KEY `ID_client_WOReactive_CreateUserId` (`CreateUserId`),
  CONSTRAINT `FK_client_WOReactive_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_ByPassComplianceId` FOREIGN KEY (`ByPassComplianceId`) REFERENCES `data_ByPassCompliance` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_CallerPosition` FOREIGN KEY (`CallerPosition`) REFERENCES `data_CallerPosition` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_MaintenanceRoleId` FOREIGN KEY (`MaintenanceRoleId`) REFERENCES `sms_Role` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_PriorityId` FOREIGN KEY (`PriorityId`) REFERENCES `data_Priority` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_PurposeId` FOREIGN KEY (`PurposeId`) REFERENCES `data_Purpose` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_SourceOfWOId` FOREIGN KEY (`SourceOfWOId`) REFERENCES `data_SourceOfWO` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_StatusId` FOREIGN KEY (`StatusId`) REFERENCES `data_WOStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_WOCategoryId` FOREIGN KEY (`WOCategoryId`) REFERENCES `data_WOCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactive_WOTypeId` FOREIGN KEY (`WOTypeId`) REFERENCES `data_WOType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;This table stores the related informations for reactive work orders';

CREATE TABLE `client_WOReactiveAddress` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `LocationId` int unsigned NOT NULL,
  `LocationNumber` varchar(50) NOT NULL,
  `SMSNumber` varchar(50) NOT NULL,
  `LocationName` varchar(255) DEFAULT NULL,
  `District` varchar(50) DEFAULT NULL,
  `Region` varchar(50) DEFAULT NULL,
  `Group` varchar(50) DEFAULT NULL,
  `AddressLine1` varchar(200) DEFAULT NULL,
  `AddressLine2` varchar(200) DEFAULT NULL,
  `City` varchar(50) DEFAULT NULL,
  `State` varchar(10) DEFAULT NULL,
  `ZipCode` varchar(15) DEFAULT NULL,
  `Country` varchar(3) NOT NULL DEFAULT 'USA',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveAddress_WOReactiveId` (`WOReactiveId`),
  KEY `ID_client_WOReactiveAddress_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_WOReactiveAddress_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveAgingReason` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AgingReasonId` smallint NOT NULL,
  `StatusId` smallint NOT NULL,
  `ToStatusId` smallint DEFAULT NULL,
  `StartTime` datetime(6) NOT NULL,
  `EndTime` datetime(6) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveAgingReason_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveAgingReason_AgingReasonId` (`AgingReasonId`),
  KEY `ID_client_WOReactiveAgingReason_StartTimeEndTime` (`StartTime`,`EndTime`),
  KEY `ID_client_WOReactiveAgingReason_CreateDate` (`CreateDate`),
  CONSTRAINT `FK_client_WOReactiveAgingReason_AgingReasonId` FOREIGN KEY (`AgingReasonId`) REFERENCES `data_AgingReason` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveArchive` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WONum` varchar(20) DEFAULT NULL,
  `LocationId` int unsigned DEFAULT NULL,
  `AffiliateId` int unsigned DEFAULT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  `Caller` varchar(100) DEFAULT NULL,
  `CallerPosition` smallint DEFAULT NULL,
  `CallTime` datetime DEFAULT NULL,
  `PriorityId` smallint DEFAULT NULL,
  `StatusId` smallint DEFAULT NULL,
  `ClientNTE` decimal(18,2) DEFAULT NULL,
  `AffiliateNTE` decimal(18,2) DEFAULT NULL,
  `ProblemDescription` varchar(1000) DEFAULT NULL,
  `AddtionalDetail` varchar(1000) DEFAULT NULL,
  `Instruction` varchar(500) DEFAULT NULL,
  `DispatchTime` datetime DEFAULT NULL,
  `DispatchUserId` int unsigned DEFAULT NULL,
  `AcceptOrDecline` smallint DEFAULT NULL,
  `AcceptOrDeclineBy` varchar(50) DEFAULT NULL,
  `AcceptOrDeclineTime` datetime DEFAULT NULL,
  `ScheduleStartTime` datetime DEFAULT NULL,
  `ScheduleEndTime` datetime DEFAULT NULL,
  `ScheduleUserId` int unsigned DEFAULT NULL,
  `ScheduleByTime` datetime DEFAULT NULL,
  `CheckInTime` datetime DEFAULT NULL,
  `CompleteTime` datetime DEFAULT NULL,
  `ReferWONum` varchar(50) DEFAULT NULL,
  `WOCategoryId` smallint DEFAULT NULL,
  `WOTypeId` smallint DEFAULT NULL,
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Version` int DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveArchive_WONum` (`WONum`),
  KEY `ID_client_WOReactiveArchive_LocationId` (`LocationId`),
  KEY `ID_client_WOReactiveArchive_ScheduleStartTime` (`ScheduleStartTime`),
  KEY `ID_client_WOReactiveArchive_CheckInTime` (`CheckInTime`)
) ;

CREATE TABLE `client_WOReactiveAreaServed` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ClientAreaServedEnumId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveAreaServed_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveAreaServed_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveAssistance` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL,
  `AssistSenderId` int unsigned NOT NULL,
  `AssistRecipientId` int unsigned NOT NULL,
  `AssistComments` varchar(3000) DEFAULT NULL,
  `DismissedComments` varchar(3000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveAssistance_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveAssistance_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AttachmentTypeId` smallint NOT NULL,
  `Name` varchar(100) DEFAULT NULL,
  `ContentType` varchar(100) NOT NULL,
  `URL` varchar(300) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  `Lat` decimal(18,7) DEFAULT NULL,
  `Lng` decimal(18,7) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WOReactiveAttachment_WOReactiveId` (`WOReactiveId`),
  KEY `PK_client_WOReactiveAttachment_AttachmentTypeId` (`AttachmentTypeId`),
  CONSTRAINT `PK_client_WOReactiveAttachment_AttachmentTypeId` FOREIGN KEY (`AttachmentTypeId`) REFERENCES `data_WOAttachmentType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_WOReactiveAttachment_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveAttempt` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `IsCallStore` tinyint(1) NOT NULL DEFAULT '0',
  `StoreContact` varchar(25) DEFAULT NULL,
  `IsCallLandlord` tinyint(1) NOT NULL DEFAULT '0',
  `LandlordContact` varchar(25) DEFAULT NULL,
  `IsMail` tinyint(1) NOT NULL DEFAULT '0',
  `MailNumber` varchar(50) DEFAULT NULL,
  `IsEmail` tinyint(1) NOT NULL DEFAULT '0',
  `IsFax` tinyint(1) NOT NULL DEFAULT '0',
  `Notes` varchar(100) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Email` varchar(100) DEFAULT NULL,
  `Fax` varchar(25) DEFAULT NULL,
  `StoreContactName` varchar(100) DEFAULT NULL,
  `LandlordContactName` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveAttempt_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveAttempt_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveAttribute` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `PhotoCount` smallint DEFAULT '0',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `AssignTime` datetime DEFAULT NULL COMMENT 'Inactive',
  `AccessEntry` varchar(200) DEFAULT NULL COMMENT 'Inactive',
  `IsHasPets` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether client has pets',
  `UnitStatus` varchar(50) DEFAULT NULL,
  `IsRequestInfo` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether is request',
  `IsResidentDamage` tinyint(1) DEFAULT NULL COMMENT 'Whether the maintenance item damaged by the resident',
  `IsMaintenanceHold` tinyint(1) NOT NULL DEFAULT '0',
  `DispatchReason` varchar(100) DEFAULT NULL COMMENT 'The redispatch reason',
  `PrimaryAffiliateId` int unsigned DEFAULT NULL COMMENT 'The primary affiliate id, affiliate_Profile.Id',
  `AnsignAffiliateRank` smallint DEFAULT NULL COMMENT 'The rank of dispatch work order to affiliate',
  `TripChangeGroup` varchar(40) DEFAULT NULL,
  `HouseOwnerStatus` smallint DEFAULT NULL COMMENT 'House owner status',
  `HouseOwnerStatusUpdateTime` datetime DEFAULT NULL COMMENT 'The update time of house owner status',
  `HouseOwnerStatusUpdateUserId` int unsigned DEFAULT NULL COMMENT 'The update user id of house owner status',
  `HouseOwnerDeclineReasonId` smallint DEFAULT NULL COMMENT 'House owner decline reason id, data_HouseOwnerDeclineReason.Id',
  `IsRejectedByInHouseTechnician` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the WO is rejected by In-House technician',
  `HouseOwnerDeclineComment` varchar(500) DEFAULT NULL COMMENT 'House owner decline comment',
  `InHouseFlagStatus` smallint DEFAULT NULL COMMENT 'In-House flag status',
  `IsCriticalEvent` tinyint(1) DEFAULT '0' COMMENT 'The WO whether critical event',
  `CriticalEventReasonId` smallint DEFAULT NULL COMMENT 'The reason id of critical, data_CriticalEventReason.Id',
  `CriticalEventComments` varchar(300) DEFAULT NULL COMMENT 'Critical event detail description',
  `AreasId` smallint DEFAULT NULL COMMENT 'Area id, data_AreasMapping',
  `CriticalFlagTime` datetime DEFAULT NULL COMMENT 'The time of becoming critical',
  `ChargeBackAmount` decimal(18,2) DEFAULT NULL COMMENT 'The amount of charge returned',
  `GLCodeChangeReasonId` smallint DEFAULT NULL COMMENT 'GLCode Change Reason id, data_SysEnum.Id',
  `IsPendingRescheduleAcceptance` tinyint(1) DEFAULT '0',
  `RescheduleStartTime` datetime DEFAULT NULL COMMENT 'Inactive',
  `RescheduleEndTime` datetime DEFAULT NULL COMMENT 'Inactive',
  `DeferredReasonId` smallint DEFAULT NULL COMMENT 'Deferred reason id, data_SysEnum.Id',
  `MissETAFlagStatus` smallint DEFAULT NULL,
  `OnTheWayStatus` smallint DEFAULT '0' COMMENT 'The status of on the way',
  `ReturnTripNeededReasonEnumId` smallint DEFAULT NULL COMMENT 'Return trip needed reason id, data_SysEnum.Id',
  `HouseOwnerDeclineSubReason` varchar(200) DEFAULT NULL COMMENT 'The reason of house owner decline the dispatched affiliate',
  `IsCopyWO` tinyint(1) DEFAULT NULL COMMENT 'Whether copy work order',
  `BeginTripTime` datetime DEFAULT NULL COMMENT 'Begin trip time',
  `CancelTripTime` datetime DEFAULT NULL COMMENT 'Cancel trip time',
  `TravelEstimatedMin` int DEFAULT NULL,
  `RecommendationRating` smallint DEFAULT NULL COMMENT 'Recommendation rate between 0 and 10',
  `RecommendationTime` datetime DEFAULT NULL COMMENT 'The time of recommend',
  `ClientDispatchApproval` smallint DEFAULT '0' COMMENT 'Whether client approve the dispatch',
  `ClientDispatchApprovalTime` datetime DEFAULT NULL COMMENT 'When client approve the dispatch',
  `SourceClientDispatchApproval` smallint DEFAULT NULL,
  `IsWOCompletedByClient` tinyint(1) DEFAULT NULL COMMENT 'Whether the client confirmed the WO is completed',
  `WONotCompleteByClientComment` varchar(300) DEFAULT NULL COMMENT 'The reason of client don not think the WO is completed',
  `RecommendationComments` varchar(1000) DEFAULT NULL COMMENT 'Recommendation comments',
  `UnScheduleDateReason` varchar(100) DEFAULT NULL COMMENT 'The reason of no schedule date',
  `InsuranceLossNumber` varchar(40) DEFAULT NULL COMMENT 'InsuranceLossNumber for ServiceNow',
  `ParentReferWONum` varchar(40) DEFAULT NULL COMMENT 'Parent WO linked by ReferWONum',
  `ClientWOId` varchar(40) DEFAULT NULL COMMENT 'Unique id',
  `IsOverrideSID` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the operation conforms to the security identifier',
  `OverrideSIDUserId` int unsigned DEFAULT NULL,
  `OverrideSIDDate` datetime DEFAULT NULL,
  `DueDate` datetime DEFAULT NULL,
  `IsScheduleAtRisk` tinyint(1) NOT NULL DEFAULT '0',
  `IsOvertimeApproved` tinyint(1) NOT NULL DEFAULT '0',
  `OvertimeApprovedUserId` int unsigned DEFAULT NULL,
  `OvertimeApprovedSourceId` smallint DEFAULT NULL,
  `IsEHS` tinyint(1) NOT NULL DEFAULT '0',
  `IsLOBChargeBack` tinyint(1) NOT NULL DEFAULT '0',
  `IsHistoryEscortWo` tinyint(1) DEFAULT NULL COMMENT 'Used for JPMC, 0 or null is CurrentEscortWo',
  `IsScheduleWorkOrderViaSO` tinyint(1) NOT NULL DEFAULT '0',
  `PreDispatchStatus` smallint NOT NULL DEFAULT '0' COMMENT 'Status before dispatch',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveAttribute` (`WOReactiveId`),
  KEY `FK_client_WOReactiveAttribute_AreasId` (`AreasId`),
  KEY `ID_client_WOReactiveAttribute_ClientDispatchApproval` (`ClientDispatchApproval`),
  KEY `ID_client_WOReactiveAttribute_IsEHS` (`IsEHS`),
  KEY `ID_client_WOReactiveAttribute_IsLOBChargeBack` (`IsLOBChargeBack`),
  KEY `ID_client_WOReactiveAttribute_IsCriticalEvent` (`IsCriticalEvent`,`CriticalEventReasonId`),
  KEY `ID_client_WOReactiveAttribute_IsRequestInfo` (`IsRequestInfo`),
  KEY `ID_client_WOReactiveAttribute_DueDate` (`DueDate`),
  CONSTRAINT `FK_client_WOReactiveAttribute_AreasId` FOREIGN KEY (`AreasId`) REFERENCES `data_AreasMapping` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveAttribute_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;The reactivet work order attribute';

CREATE TABLE `client_WOReactiveAutoDeclineRemind` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AutoDeclineTime` datetime NOT NULL,
  `IsReminded` tinyint(1) NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `RemindTime` datetime DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveAutoDeclineRemind` (`WOReactiveId`,`AffiliateId`),
  CONSTRAINT `FK_client_WOReactiveDeclineRemind_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveAutoMessageLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `Type` smallint NOT NULL,
  `MessageId` int unsigned NOT NULL,
  `PriorityId` smallint NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_client_WOReactiveAutoMessageLog_WOReactiveId` (`WOReactiveId`,`Type`),
  KEY `IDX_client_WOReactiveAutoMessageLog_MessageId` (`MessageId`),
  KEY `IDX_client_WOReactiveAutoMessageLog_CreateUserId` (`CreateUserId`)
) ;

CREATE TABLE `client_WOReactiveAvailableTime` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `StartTime` datetime DEFAULT NULL,
  `EndTime` datetime DEFAULT NULL,
  `IsAvailable` tinyint(1) DEFAULT '1',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveAvailableTime_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveAvailableTime_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveBundleProCare` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ProjectId` int unsigned NOT NULL,
  `WOReactiveId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `IsDetach` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveBundleProCare` (`WOReactiveId`),
  KEY `FK_client_WOReactiveBundleProCare_ProjectId` (`ProjectId`),
  CONSTRAINT `FK_client_WOReactiveBundleProCare_ProjectId` FOREIGN KEY (`ProjectId`) REFERENCES `client_FacilityProject` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveBundleProCare_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveCallRecords` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ChannelNum` varchar(50) NOT NULL,
  `URL` varchar(300) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveCallRecords` (`WOReactiveId`,`ChannelNum`),
  CONSTRAINT `FK_client_WOReactiveCallRecords_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveCheckOutQuestionAnswer` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `QuestionId` int unsigned NOT NULL,
  `QuestionOptionId` int unsigned DEFAULT NULL,
  `Answer` varchar(1000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveCheckOutQuestionAnswer_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveCheckOutQuestionAnswer_QuestionId` (`QuestionId`),
  KEY `FK_client_WOReactiveCheckOutQuestionAnswer_QuestionOptionId` (`QuestionOptionId`),
  CONSTRAINT `FK_client_WOReactiveCheckOutQuestionAnswer_QuestionId` FOREIGN KEY (`QuestionId`) REFERENCES `client_CheckOutQuestion` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveCheckOutQuestionAnswer_QuestionOptionId` FOREIGN KEY (`QuestionOptionId`) REFERENCES `client_CheckOutQuestionOption` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveCheckOutQuestionAnswer_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Inactive;';

CREATE TABLE `client_WOReactiveCitation` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `CitationDate` datetime DEFAULT NULL,
  `SmsCitationDate` datetime NOT NULL,
  `ResolveDeadline` datetime NOT NULL,
  `InspectorName` varchar(50) DEFAULT NULL,
  `InspectorPhone` varchar(20) DEFAULT NULL,
  `InspctorEmail` varchar(100) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveCitation` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveCitation_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveConfirm` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `IsServiced` tinyint(1) DEFAULT NULL,
  `Rate` smallint DEFAULT NULL,
  `ReteComments` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `ConfirmType` smallint DEFAULT NULL,
  `ConfirmTime` datetime DEFAULT NULL,
  `ConfirmBy` varchar(100) DEFAULT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ConfirmEmail` varchar(100) DEFAULT NULL,
  `RateSource` smallint DEFAULT NULL,
  `RateReasonEnumId` smallint DEFAULT NULL,
  `ContactCenterRate` smallint DEFAULT NULL,
  `ContactCenterRateReasonEnumId` smallint DEFAULT NULL,
  `ContactCenterRateComments` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `NotCompletedReasonEnumId` smallint DEFAULT NULL,
  `NotCompletedComments` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `ReRateComments` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `WorkCompletedStatus` smallint DEFAULT NULL,
  `RecommendationRate` smallint DEFAULT NULL,
  `EasySchedulingRate` smallint DEFAULT NULL,
  `TechnicianRate` smallint DEFAULT NULL COMMENT 'Technician Rate;',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveConfirm_WOReactiveId` (`WOReactiveId`),
  KEY `ID_client_WOReactiveConfirm_Rate` (`ConfirmType`,`Rate`),
  KEY `ID_client_WOReactiveConfirm_WorkCompletedStatus` (`WorkCompletedStatus`),
  CONSTRAINT `PK_client_WOReactiveConfirm_ConfirmType` FOREIGN KEY (`ConfirmType`) REFERENCES `data_ConfirmType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_WOReactiveConfirm_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveConfirmEmail` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `Email` varchar(500) DEFAULT NULL,
  `SendUserId` int unsigned DEFAULT NULL,
  `SendTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WOReactiveConfirmEmai_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `PK_client_WOReactiveConfirmEmai_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveConfirmLabel` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveConfirmId` int unsigned NOT NULL,
  `RateLabelId` smallint NOT NULL COMMENT 'The data comes from the data_SysEnum table',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveConfirmLabel_WOReactiveConfirmId` (`WOReactiveConfirmId`),
  KEY `FK_client_WOReactiveConfirmLabel_RateLabelId` (`RateLabelId`),
  CONSTRAINT `FK_client_WOReactiveConfirmLabel_RateLabelId` FOREIGN KEY (`RateLabelId`) REFERENCES `data_SysEnum` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveConfirmLabel_WOReactiveConfirmId` FOREIGN KEY (`WOReactiveConfirmId`) REFERENCES `client_WOReactiveConfirm` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Used to store the labels selected by users for different rating items when rating in the rating center.';

CREATE TABLE `client_WOReactiveConfirmSnooze` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `SnoozeUserId` int unsigned NOT NULL,
  `WOReactiveId` int unsigned DEFAULT NULL,
  `SnoozeTypeId` smallint NOT NULL COMMENT '1:all,2:single',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `IsActive` tinyint(1) DEFAULT '1',
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveConfirmSnooze_SnoozeUserId` (`SnoozeUserId`),
  KEY `PK_client_WOReactiveConfirmSnooze_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `PK_client_WOReactiveConfirmSnooze_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO; Used to implement client user snooze to be rated list.';

CREATE TABLE `client_WOReactiveContact` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `Name` varchar(100) NOT NULL,
  `Email` varchar(100) DEFAULT NULL,
  `Phone` varchar(25) DEFAULT NULL,
  `PhoneExt` varchar(10) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `PhoneType` smallint DEFAULT NULL,
  `PhoneTwo` varchar(25) DEFAULT NULL,
  `PhoneTypeTwo` smallint DEFAULT NULL,
  `PhoneThree` varchar(25) DEFAULT NULL,
  `PhoneTypeThree` smallint DEFAULT NULL,
  `PhoneFour` varchar(25) DEFAULT NULL,
  `PhoneTypeFour` smallint DEFAULT NULL,
  `PrimaryPhoneType` smallint DEFAULT NULL,
  `AdditionalPhone` varchar(250) DEFAULT NULL,
  `FlagofPhonesForTextMessagingApproved` char(13) DEFAULT NULL COMMENT 'The order of flags is Home Phone（Phone）, Cell Phone（PhoneTwo）, Office Phone（PhoneThree）, Phone（PhoneFour）, Additional Phone;0:Non Approved,1:Approved',
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveContact_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveContact_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveCopy` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `SourceWOReactiveId` int unsigned NOT NULL,
  `SourceWOAffiliateId` int unsigned DEFAULT NULL COMMENT 'This field is the affiliate of the source work order at the moment of copying',
  `CopyReasonId` smallint NOT NULL COMMENT 'This field is used to record the reason for copying, enumerate the source and linktpye.1:AdditionalOpinionNeeded,2:AdditionalUnit,3:BillingPurposes,4:Duplicate,5:PartsOrdering,6:Recall,7:Related,8:ResponsibleEntity,9:PartsMaterials,10:MobileDispute,11:SecondQuote,12:Escort,13:AdditionalWorkNeeded,14:Other',
  `IsMultiTrade` tinyint(1) DEFAULT NULL COMMENT 'The field is used to store answers to questions that need to be filled in when copying wo.',
  `IsDispatchSameAffiliate` tinyint(1) DEFAULT NULL COMMENT 'This field is used to store the answer filled in when copying wo, whether to Dispatch the same Affiliate.',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveCopy_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveCopy_SourceWOReactiveId` (`SourceWOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveCopy_SourceWOReactiveId` FOREIGN KEY (`SourceWOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveCopy_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;This table is used to store some information about the new copy wo function;';

CREATE TABLE `client_WOReactiveCreditCardStatus` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `UserId` int unsigned NOT NULL,
  `TypeId` smallint NOT NULL COMMENT '1:Pre-Authorize,2:Charge,3:Verify ;',
  `StatusId` smallint NOT NULL COMMENT '1:Success ,2:Failed',
  `StripeCreditCardId` varchar(18) NOT NULL COMMENT 'Third party payment platforms (stripe) default credit card id',
  `Amount` decimal(18,2) DEFAULT NULL COMMENT 'Pre-authorize/charge the amount,When TypeId=3, the value of Amount is null',
  `FailureReason` varchar(200) DEFAULT NULL COMMENT 'Reasons for pre-authorization/charge failure',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `StripePayMentId` varchar(100) DEFAULT NULL COMMENT 'Third party payment platforms (Stripe) payment ID',
  `StripePaymentMethodId` varchar(100) DEFAULT NULL COMMENT 'Third party payment platforms (Stripe) payment method id',
  `StripePaymentMethodTypeId` smallint DEFAULT NULL COMMENT '0:card 1:alipay 2:amazon_pay ...',
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveCreditCardStatus_UserId` (`UserId`),
  KEY `FK_client_WOReactiveCreditCardStatus_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveCreditCardStatus_UserId` FOREIGN KEY (`UserId`) REFERENCES `sms_UserProfile` (`Id`),
  CONSTRAINT `FK_client_WOReactiveCreditCardStatus_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='D2C; Reactive wo credit card status';

CREATE TABLE `client_WOReactiveDelete` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WONum` varchar(40) NOT NULL,
  `CreateDate` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `client_WOReactiveDispatchAffiliateList` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `Rank` smallint unsigned NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `RecommendReason` smallint DEFAULT NULL,
  `DeclineReason` smallint DEFAULT NULL,
  `Score` decimal(18,2) DEFAULT '0.00',
  `RecommendComment` varchar(128) DEFAULT NULL,
  `Rate` decimal(10,2) DEFAULT '0.00',
  `DispatchUserId` int DEFAULT NULL,
  `DispatchDate` datetime DEFAULT NULL,
  `DeclineUserId` int DEFAULT NULL,
  `DeclineDate` datetime DEFAULT NULL,
  `DeclineComment` varchar(128) DEFAULT NULL,
  `AcceptUserId` int DEFAULT NULL,
  `AcceptDate` datetime DEFAULT NULL,
  `SpecialDispatchRuleId` int unsigned DEFAULT NULL,
  `TradeCoverageRank` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_affiliate_DispatchList_WOReactiveId` (`WOReactiveId`),
  KEY `FK_affiliate_DispatchList_AffiliateId` (`AffiliateId`),
  KEY `FK_client_WOReactiveDispatchAffiliateList_SpecialDispatchRuleId` (`SpecialDispatchRuleId`),
  CONSTRAINT `FK_affiliate_DispatchList_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_affiliate_DispatchList_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveDispatchAffiliateList_SpecialDispatchRuleId` FOREIGN KEY (`SpecialDispatchRuleId`) REFERENCES `client_SpecialDispatchRule` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveDispatchTransaction` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `DispatchUserId` int unsigned DEFAULT NULL,
  `DispatchDate` datetime DEFAULT NULL,
  `DispatchComment` varchar(128) DEFAULT NULL,
  `DispatchSourceId` tinyint(1) NOT NULL COMMENT 'RecommendedAffiliate = 1,DispatchByList=2,AutoDispatch = 3',
  `Tier` tinyint DEFAULT NULL,
  `RecommendRank` tinyint DEFAULT NULL,
  `RecommendReasonId` tinyint DEFAULT NULL COMMENT 'DispatchByList= 0,ExceptionAlignment=1,StandardAlignment=2,Recall= 5',
  `Score` decimal(18,2) DEFAULT '0.00',
  `Rate` decimal(10,2) DEFAULT '0.00',
  `AcceptUserId` int unsigned DEFAULT NULL,
  `AcceptDate` datetime DEFAULT NULL,
  `DeclineUserId` int unsigned DEFAULT NULL,
  `DeclineDate` datetime DEFAULT NULL,
  `DeclineReasonId` smallint DEFAULT NULL,
  `DeclineComment` varchar(1024) DEFAULT NULL,
  `SpecialDispatchRuleId` int unsigned DEFAULT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `IsInAffiliateServiceArea` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveDispatchTransaction_AffiliateId` (`AffiliateId`),
  KEY `FK_client_WOReactiveDispatchTransaction_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveDispatchTransaction_SpecialDispatchRuleId` (`SpecialDispatchRuleId`),
  KEY `ID_client_WOReactiveDispatchTransaction_DeclineDate` (`DeclineDate`),
  CONSTRAINT `FK_client_WOReactiveDispatchTransaction_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveDispatchTransaction_SpecialDispatchRuleId` FOREIGN KEY (`SpecialDispatchRuleId`) REFERENCES `client_SpecialDispatchRule` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveDispatchTransaction_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Reactive WO dispatch transaction log';

CREATE TABLE `client_WOReactiveDuplicate` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `DuplicateOriginalWOReactiveId` int unsigned DEFAULT NULL COMMENT 'Store Original Reactive WO Id',
  `IsSelectDuplicate` tinyint(1) DEFAULT NULL COMMENT 'Store Select Reactive WO',
  `IsExistOpenWO` tinyint(1) DEFAULT NULL COMMENT 'Store recommend Diplicate WO List exist or not',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsEnableDuplicateCheck` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Store Use  Diplicate WO Check Function  or not',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveDuplicate` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveDuplicate_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store Duplicate Reactive WO Information';

CREATE TABLE `client_WOReactiveExportInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `RescheduleCommets` varchar(500) DEFAULT NULL,
  `RescheduleReason` varchar(50) DEFAULT NULL,
  `ScheduleStartDate` datetime DEFAULT NULL,
  `ScheduleEndDate` datetime DEFAULT NULL,
  `RescheduleStartDate` datetime DEFAULT NULL,
  `RescheduleEndDate` datetime DEFAULT NULL,
  `RescheduleSource` varchar(50) DEFAULT NULL,
  `RescheduleBy` int unsigned DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `LatestNotes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci,
  `LatestNotesUserId` int unsigned DEFAULT NULL,
  `LatestNotesDate` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveExportInfo` (`WOReactiveId`),
  KEY `ID_client_WOReactiveExportInfo_RescheduleBy` (`RescheduleBy`),
  CONSTRAINT `FK_client_WOReactiveExportInfo_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveExtend` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AffiliateJobOrderNum` varchar(32) DEFAULT NULL COMMENT 'Affiliate job number',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `BuildingId` varchar(50) DEFAULT NULL COMMENT 'inactive',
  `Subledger` varchar(50) DEFAULT NULL COMMENT 'inactive',
  `IsCertifiedRecall` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the wo is certified recall by om',
  `RecallSourceType` smallint NOT NULL DEFAULT '0' COMMENT 'Type of the user who certifier recall. 1:ResidentSayYesAndDatabaseFindMatchWO,2:ResidentSayNoAndDatabaseFindMatchWO ,3:ResidentSayYesAndDatabaseNotFindMatchWO ,4:ResidentSayNoAndDatabaseNotFindMatchWO,5:WOTypeChangedFromNonIHTToIHT,6:WOTypeChangedFromIHTToNonIHT,7:WOTypeChangedFromIHTToIHT',
  `ServiceCombinationAliasId` int unsigned DEFAULT NULL COMMENT 'Service Combination alia of wo. client_servicecombinationalias.Id',
  `CertifiedRecallOriginalWOReactiveId` int unsigned DEFAULT NULL COMMENT 'The related original wo when the wo is certified recall',
  `IsRecallLogicMatch` tinyint(1) DEFAULT NULL COMMENT 'Wether the wo was labeled as recall by system logic',
  `HasTechnicianOnSiteBefore` tinyint(1) DEFAULT NULL COMMENT 'Wether the technician on site before',
  `IsSelectNotRecall` tinyint(1) DEFAULT NULL COMMENT 'Wether the wo is labeled not recall wo by om',
  `MissedApptCount` smallint NOT NULL DEFAULT '0' COMMENT 'Record the number of questions(Did resident miss scheduled appointment?) ',
  `IsCascading` tinyint(1) DEFAULT NULL COMMENT 'If the WO uses Cascading workflow. NULL:notSet; 0:false; 1:true',
  `IsMagicLink` tinyint(1) DEFAULT NULL COMMENT 'If the magic link flag of WO is active,0:inactive,1:active',
  `IsProposalAccelerator` tinyint(1) DEFAULT NULL COMMENT 'Over the scope of wo, but it can be done on site. A proposal acceleration flag is needed to speed up the proposal progress',
  `MagicLinkSendDate` datetime DEFAULT NULL COMMENT 'woce magic link email send date',
  `MagicLinkSourceType` smallint DEFAULT NULL COMMENT 'source of woce magic link,1:valid date passed,2:wo status changed,3:inactive manually,4:submitted in wo detail,5:submitted in woce page',
  `MagicLinkOperatorName` varchar(50) DEFAULT NULL COMMENT 'OperatorName of MagicLink',
  `AssignedResidentUserId` int unsigned DEFAULT NULL COMMENT 'The resident that is able to choose schedule time in affiliate_WOReactiveRecommendSchedule. Assigned resident can be changed.The field stores the id of the sms_UserProfile table',
  `IsAACProposalAccelerator` tinyint(1) DEFAULT NULL COMMENT 'Determine whether it is AAC Proposal Accelerator',
  `CustomerSignTypeId` smallint DEFAULT NULL COMMENT 'The customer choose the signature type: 1 signature, 2 customer not valid, 3 refuse to signature',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveExtend` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveExtend_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store WO Work extension information';

CREATE TABLE `client_WOReactiveFlag` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `FlagId` smallint NOT NULL COMMENT 'flag id ,from data_WOReactiveFlag',
  `IsActive` tinyint(1) NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL,
  `ModifyUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveFlag_WOReactiveIdFlagId` (`WOReactiveId`,`FlagId`),
  KEY `FK_client_WOReactiveFlag_FlagId` (`FlagId`),
  CONSTRAINT `FK_client_WOReactiveFlag_FlagId` FOREIGN KEY (`FlagId`) REFERENCES `data_WOReactiveFlag` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveFlag_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Reactive WO; Save the relationship between reactive wo and flag';

CREATE TABLE `client_WOReactiveIVR` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `ReRequestID` int NOT NULL,
  `CheckinDatetime` datetime DEFAULT NULL,
  `Checkinstatus` smallint DEFAULT NULL,
  `CheckinCallerID` varchar(32) DEFAULT NULL,
  `CheckoutDatetime` datetime DEFAULT NULL,
  `CheckoutStatus` smallint DEFAULT NULL,
  `CheckoutCallerID` varchar(32) DEFAULT NULL,
  `CheckProStatus` smallint DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ;

CREATE TABLE `client_WOReactiveIVRInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `CheckInTime` datetime DEFAULT NULL,
  `CheckInStatus` smallint DEFAULT NULL,
  `CheckInCallerId` varchar(32) DEFAULT NULL,
  `CheckOutTime` datetime DEFAULT NULL,
  `CheckOutStatus` smallint DEFAULT NULL,
  `CheckOutCallerId` varchar(32) DEFAULT NULL,
  `CheckProStatus` smallint DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ScheduleStartTime` datetime DEFAULT NULL,
  `ScheduleEndTime` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveIVR_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveIVR_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveInteractionLogNote` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `RefId` varchar(50) NOT NULL,
  `RefType` smallint NOT NULL,
  `LocationId` int unsigned NOT NULL,
  `Notes` varchar(50) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `IsVisible` tinyint(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`Id`),
  KEY `IDX_client_WOReactiveInteractionLogNote_CreateDate` (`CreateDate`),
  KEY `IDX_client_WOReactiveInteractionLogNote_CreateUserId` (`CreateUserId`),
  KEY `FK_client_WOReactiveInteractionLogNote_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveInteractionLogNote_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_WOReactiveInteractionLogNote_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveInteractionLogNote_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveInteractionLogNoteAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `NoteId` int unsigned NOT NULL,
  `FileName` varchar(200) DEFAULT NULL,
  `FilePath` varchar(300) DEFAULT NULL,
  `ContentType` varchar(50) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveInteractionLogNoteattachment_NoteId` (`NoteId`),
  CONSTRAINT `FK_client_WOReactiveInteractionLogNoteattachment_NoteId` FOREIGN KEY (`NoteId`) REFERENCES `client_WOReactiveInteractionLogNote` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveInternalEscalate` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `CallerTypeEnumId` smallint NOT NULL COMMENT 'Caller Type; data_SysEnum',
  `ReasonEnumId` smallint NOT NULL COMMENT 'Escalate Reason,SysEnumTypeId =86 ; data_SysEnum',
  `IsActive` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Store Internal Escalate Flag is Active or not',
  `IsGenerateTask` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Store Internal Escalate Task is Generate or not',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ReasonModifyDate` datetime DEFAULT NULL,
  `CurrentWOStatusId` smallint DEFAULT NULL COMMENT ' Current WO Status Id;from data_WOStatus Id',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveInternalEscalate_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveInternalEscalate_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store Reactive WO Internal Escalate Falg Info';


CREATE TABLE `client_WOReactiveIssuesReason` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL COMMENT 'Id in the table client_WOReactive',
  `IssuesReasonId` int unsigned NOT NULL COMMENT 'Id in the table data_IssuesReason',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveIssuesReason_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveIssuesReason_IssuesReasonId` (`IssuesReasonId`),
  CONSTRAINT `FK_client_WOReactiveIssuesReason_IssuesReasonId` FOREIGN KEY (`IssuesReasonId`) REFERENCES `client_IssuesReason` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveIssuesReason_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store the issues for each reactive WO';

CREATE TABLE `client_WOReactiveLabel` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `LabelId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveLabel` (`WOReactiveId`,`LabelId`),
  KEY `FK_client_WOReactiveLabel_LabelId` (`LabelId`),
  CONSTRAINT `FK_client_WOReactiveLabel_LabelId` FOREIGN KEY (`LabelId`) REFERENCES `sms_Label` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveLabel_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `Log` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WOReactiveLog_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `PK_client_WOReactiveLog_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Inactive table';

CREATE TABLE `client_WOReactiveMessage` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ParentId` int unsigned DEFAULT NULL,
  `IsRequestInfo` tinyint(1) NOT NULL DEFAULT '0',
  `Content` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  `IsReplied` tinyint(1) NOT NULL DEFAULT '0',
  `SenderTypeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WOReactiveMessage_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveMessage_SenderTypeId` (`SenderTypeId`),
  CONSTRAINT `FK_client_WOReactiveMessage_SenderTypeId` FOREIGN KEY (`SenderTypeId`) REFERENCES `data_RecipientType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_WOReactiveMessage_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveMessageAttach` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AttachmentId` int unsigned NOT NULL,
  `MessageId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveMessageAttach_MessageId` (`MessageId`),
  KEY `PK_client_WOReactiveMessageAttach_AttachmentId` (`AttachmentId`),
  CONSTRAINT `FK_client_WOReactiveMessageAttach_MessageId` FOREIGN KEY (`MessageId`) REFERENCES `client_WOReactiveMessage` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_WOReactiveMessageAttach_AttachmentId` FOREIGN KEY (`AttachmentId`) REFERENCES `client_WOReactiveAttachment` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveMessageRecipient` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `MessageId` int unsigned NOT NULL,
  `RecieverUserId` int unsigned DEFAULT NULL,
  `Emails` varchar(500) DEFAULT NULL,
  `Phones` varchar(500) DEFAULT NULL,
  `IsRead` tinyint(1) NOT NULL DEFAULT '0',
  `ReadTime` datetime DEFAULT NULL,
  `RecipientTypeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveMessageRecipient_MessageId` (`MessageId`),
  KEY `FK_client_WOReactiveMessageRecipient_RecipientTypeId` (`RecipientTypeId`),
  CONSTRAINT `FK_client_WOReactiveMessageRecipient_MessageId` FOREIGN KEY (`MessageId`) REFERENCES `client_WOReactiveMessage` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveMessageRecipient_RecipientTypeId` FOREIGN KEY (`RecipientTypeId`) REFERENCES `data_RecipientType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveMissedAppointment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AffiliateId` int unsigned DEFAULT NULL,
  `Technician` int unsigned DEFAULT NULL,
  `Status` smallint NOT NULL,
  `MissedScheduleTime` datetime NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveMissedAppointment_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveMissedAppointment_AffiliateId` (`AffiliateId`),
  CONSTRAINT `FK_client_WOReactiveMissedAppointment_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveMissedAppointment_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveNoAssetReason` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `LocationId` int unsigned NOT NULL,
  `NoAssetReason` varchar(300) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `ID_client_WOReactiveNoAssetReason_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveNoAssetReason_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_WOReactiveNoAssetReason_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveNoAssetReason_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveNote` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `Notes` varchar(1000) DEFAULT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WOReactiveNote_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `PK_client_WOReactiveNote_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveONEQueueInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `CreationBatch` varchar(20) DEFAULT NULL COMMENT 'Store Create BatchNum',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ManageWOEntranceType` smallint DEFAULT NULL COMMENT 'Store to WO Manage Path Entrance.1:WO Search Page,2:Reactive Tab,3:Recurring Tab,4:ProCare Tab,5:PM Tab',
  `UnableServiceWOReasonEnumId` smallint DEFAULT NULL COMMENT 'Store Affiliate Unable Service WO Reason, data_SysEnum.Id',
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveONEQueueInfo_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveONEQueueInfo_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store OneQueue Reactive WO User behavior';

CREATE TABLE `client_WOReactivePCDA` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `SignStatus` smallint NOT NULL,
  `SignDateTime` datetime NOT NULL,
  `SignReason` varchar(50) NOT NULL,
  `SignReasonRemark` varchar(45) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactivePCDA_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactivePCDA_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactivePayInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `PayNum` varchar(32) NOT NULL,
  `WOReactiveId` int unsigned NOT NULL,
  `MerchantAccountId` varchar(64) DEFAULT NULL,
  `Amount` decimal(10,2) unsigned NOT NULL,
  `CurrencyIsoCode` varchar(8) DEFAULT NULL,
  `PaymentInstrumentType` varchar(32) DEFAULT NULL,
  `PaymentMethodToken` varchar(64) DEFAULT NULL,
  `ProcessorResponseCode` varchar(16) DEFAULT NULL,
  `ProcessorResponseText` varchar(255) DEFAULT NULL,
  `ProcessorSettlementResponseCode` varchar(16) DEFAULT NULL,
  `ProcessorSettlementResponseText` varchar(255) DEFAULT NULL,
  `GatewayRejectionReason` varchar(32) DEFAULT NULL,
  `Status` varchar(32) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Notes` varchar(300) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactivePayInfo_WOReactiveId` (`WOReactiveId`),
  KEY `ID_client_WOReactivePayInfo` (`PayNum`),
  CONSTRAINT `FK_client_WOReactivePayInfo_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactivePayment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `PaymentId` varchar(200) NOT NULL COMMENT 'PaymentId comes from third party system',
  `PaymentSecretId` varchar(200) NOT NULL COMMENT 'Payment Secret Id',
  `StatusId` smallint unsigned DEFAULT NULL COMMENT '0:Pending;1:Paid;',
  `IsEmail` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Use email notifications',
  `IsTextMessage` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Use text message notifications',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` datetime DEFAULT NULL,
  `ModifyDate` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactivePayment_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactivePayment_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Payment; Payment records of transactions initiated with third-party payment platform: Stripe';

CREATE TABLE `client_WOReactivePhotoRequest` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `SendType` smallint DEFAULT NULL COMMENT 'Store Short link Send Type. 1:Text,2:Emial,3:Text And Emial',
  `PhoneNumber` varchar(25) DEFAULT NULL COMMENT 'Store Send Link Phone Number',
  `Email` varchar(100) DEFAULT NULL COMMENT 'Store Send Link Email',
  `SkipReasonId` smallint DEFAULT NULL,
  `SkipReasonValue` varchar(2000) DEFAULT NULL,
  `IsSkip` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Store skipped or not',
  `IsOneTimeText` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Store Photo is new or not',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactivePhotoRequest_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactivePhotoRequest_SkipReasonId` (`SkipReasonId`),
  CONSTRAINT `FK_client_WOReactivePhotoRequest_SkipReasonId` FOREIGN KEY (`SkipReasonId`) REFERENCES `data_SysEnum` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactivePhotoRequest_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store Send Photo Request Short Link';


CREATE TABLE `client_WOReactivePostpone` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL COMMENT 'client_WOReactive.Id',
  `PostponeFlagId` smallint NOT NULL COMMENT 'data_PostponeFlag.Id',
  `Notes` varchar(300) DEFAULT NULL COMMENT 'notes',
  `StatusId` int NOT NULL COMMENT 'postponeFlag type :Valid =1 Invalid =2',
  `DelayOperationTime` datetime NOT NULL COMMENT 'The stay time on the postpone flag',
  `CancelTypeId` smallint DEFAULT NULL COMMENT 'postponeFlag Cancel Type :WOStatusChanged=1,Manual=2,AutoExpired=3',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL,
  `ModifyUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactivePostpone_WoReactiveId` (`WOReactiveId`),
  KEY `ID_client_WOReactivePostpone_StatusId` (`StatusId`),
  KEY `ID_client_WOReactivePostpone_PostponeFlagId` (`PostponeFlagId`)
)  COMMENT='Reactive WO;When WO is waiting for some things, such as parts, approval, affiliate can''t do anything. Therefore, it is necessary to hide the task at the ATM until the parts are delivered or approved.This table stores the postpone flags for each WO';





CREATE TABLE `client_WOReactiveReasonHistory` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ReasonTypeId` smallint NOT NULL,
  `Reason` varchar(1000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `FlagTypeId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveReasonHistory` (`WOReactiveId`),
  KEY `ID_client_WOReactiveReasonHistory_CreateDate` (`CreateDate`),
  KEY `FK_client_WOReactiveReasonHistory_ReasonTypeId` (`ReasonTypeId`),
  CONSTRAINT `FK_client_WOReactiveReasonHistory_ReasonTypeId` FOREIGN KEY (`ReasonTypeId`) REFERENCES `data_ReasonType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveRecall` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `RecallCheckWOTypeId` smallint DEFAULT NULL COMMENT 'The type of wo after recall check. data_wotype.Id',
  `WOCreationSubmitedWOTypeId` smallint DEFAULT NULL COMMENT 'The type of wo when it submitted after creation. data_wotype.Id',
  `WOCreationCompletedWOTypeId` smallint DEFAULT NULL COMMENT 'The type of wo when it completed. data_wotype.Id',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `RecallCertifierType` smallint DEFAULT '0' COMMENT 'The type of recall cetifier. 1:OM,2:System',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveRecall` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveRecall_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Recall WO';

CREATE TABLE `client_WOReactiveRecommendAffiliateLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `Reason` varchar(100) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_client_WOReactiveRecommendAffiliateLog_CreateDate` (`CreateDate`),
  KEY `FK_client_WOReactiveRecommendAffiliateLog_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveRecommendAffiliateLog_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveResidentInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `PrimaryResidentId` int unsigned NOT NULL,
  `PrimaryResidentMoveInDate` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveResidentInfo_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveResidentInfo_PrimaryResidentId` (`PrimaryResidentId`),
  KEY `ID_client_WOReactiveResidentInfo_PrimaryResidentMoveInDate` (`PrimaryResidentMoveInDate`),
  CONSTRAINT `FK_client_WOReactiveResidentInfo_PrimaryResidentId` FOREIGN KEY (`PrimaryResidentId`) REFERENCES `client_LocationResidential` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveResidentInfo_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveResidentSchedule` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `MailKey` varchar(32) DEFAULT NULL,
  `MailSendTime` datetime DEFAULT NULL,
  `MailResetCount` smallint NOT NULL DEFAULT '0',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `OperateSource` smallint NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveResidentSchedule` (`WOReactiveId`),
  KEY `ID_client_WOReactiveResidentSchedule_MailResetCount` (`MailResetCount`),
  KEY `ID_client_WOReactiveResidentSchedule_MailSendTime` (`MailSendTime`),
  KEY `ID_client_WOReactiveResidentSchedule_MailKey` (`MailKey`)
) ;

CREATE TABLE `client_WOReactiveResolution` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ServiceCodeResolutionMapId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_WOReactiveResolution` (`WOReactiveId`,`ServiceCodeResolutionMapId`),
  KEY `FK_client_WOReactiveResolution_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveResolution_ServiceCodeResolutionMapId` (`ServiceCodeResolutionMapId`),
  CONSTRAINT `FK_client_WOReactiveResolution_ServiceCodeResolutionMapId` FOREIGN KEY (`ServiceCodeResolutionMapId`) REFERENCES `client_ServiceCodeResolutionMap` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveResolution_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Stores all resolutions for work orders';

CREATE TABLE `client_WOReactiveResolutionCode` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ResolutionCodeZeroId` smallint NOT NULL,
  `ResolutionCodeOneId` smallint DEFAULT NULL,
  `ResolutionCodeTwoId` smallint DEFAULT NULL,
  `ResolutionCodeThreeId` smallint DEFAULT NULL,
  `ResolutionCodeFourId` smallint DEFAULT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Comments` varchar(512) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveResolutionCode_ResolutionCodeFourId` (`ResolutionCodeFourId`),
  KEY `FK_client_WOReactiveResolutionCode_ResolutionCodeOneId` (`ResolutionCodeOneId`),
  KEY `FK_client_WOReactiveResolutionCode_ResolutionCodeThreeId` (`ResolutionCodeThreeId`),
  KEY `FK_client_WOReactiveResolutionCode_ResolutionCodeTwoId` (`ResolutionCodeTwoId`),
  KEY `FK_client_WOReactiveResolutionCode_ResolutionCodeZeroId` (`ResolutionCodeZeroId`),
  KEY `FK_client_WOReactiveResolutionCode_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveResolutionCode_ResolutionCodeFourId` FOREIGN KEY (`ResolutionCodeFourId`) REFERENCES `data_ResolutionCodeFour` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveResolutionCode_ResolutionCodeOneId` FOREIGN KEY (`ResolutionCodeOneId`) REFERENCES `data_ResolutionCodeOne` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveResolutionCode_ResolutionCodeThreeId` FOREIGN KEY (`ResolutionCodeThreeId`) REFERENCES `data_ResolutionCodeThree` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveResolutionCode_ResolutionCodeTwoId` FOREIGN KEY (`ResolutionCodeTwoId`) REFERENCES `data_ResolutionCodeTwo` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveResolutionCode_ResolutionCodeZeroId` FOREIGN KEY (`ResolutionCodeZeroId`) REFERENCES `data_ResolutionCodeZero` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveResolutionCode_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveResolutionCodeAddOns` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ResolutionCodeAddOnsId` smallint NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveResolutionCodeAddOns_ResolutionCodeAddOnsId` (`ResolutionCodeAddOnsId`),
  KEY `FK_client_WOReactiveResolutionCodeAddOns_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveResolutionCodeAddOns_ResolutionCodeAddOnsId` FOREIGN KEY (`ResolutionCodeAddOnsId`) REFERENCES `data_ResolutionCodeAddOns` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveResolutionCodeAddOns_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveScheduleOptimization` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `DispatchedStatusId` smallint NOT NULL COMMENT 'WO state after being dispatched by SO',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveScheduleOptimization_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveScheduleOptimization_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='SNO;This table records some attributes related to Reactive WO in SO business';

CREATE TABLE `client_WOReactiveSequence` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `IsWaitRelatedWOCompleted` tinyint(1) DEFAULT NULL COMMENT 'Whether the work order is dependent',
  `PrioritizedCompletedWOReactiveId` int unsigned DEFAULT NULL COMMENT 'The work order id depends on this WOReactiveId',
  `IsSelectSkip` tinyint(1) DEFAULT NULL COMMENT 'Whether can skip',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `SaveCountInOneQueue` smallint unsigned DEFAULT '0',
  `SaveCountInSRAndWODetail` smallint unsigned DEFAULT '0',
  `ChangeSRCount` smallint unsigned DEFAULT '0',
  `UnableToSequenceCount` smallint unsigned DEFAULT '0',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveSequence_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveSequencing_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;The reactrive work order belongs to the service request';

CREATE TABLE `client_WOReactiveServiceEssentials` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `IsServiceEssentialsWO` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Judge if WO belongs to Service Essentials WO',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveServiceEssentials_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveServiceEssentials_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Record the WO generated by affiliate Type 2';

CREATE TABLE `client_WOReactiveSmartReplyClickLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ClickCount` int NOT NULL,
  `SmartMenuId` smallint NOT NULL,
  `SourceTypeId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveSmartReplyClickLog` (`WOReactiveId`)
) ;

CREATE TABLE `client_WOReactiveSpecialBilling` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `SpecialBilling` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveSpecialBilling` (`WOReactiveId`,`SpecialBilling`),
  KEY `FK_client_WOReactiveSpecialBilling_WOReactiveId_idx` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveSpecialBilling_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveTag` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL COMMENT 'Id in the table client_WOReactive',
  `WOTagId` smallint NOT NULL COMMENT 'Id in the table data_WOTag',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveTag_WOReactiveId` (`WOReactiveId`),
  KEY `FK_client_WOReactiveTag_WOTagId` (`WOTagId`),
  CONSTRAINT `FK_client_WOReactiveTag_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOReactiveTag_WOTagId` FOREIGN KEY (`WOTagId`) REFERENCES `data_WOTag` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store the tags of WO. You can see the tags on the wo detail page on inernal portal';

CREATE TABLE `client_WOReactiveTaskQcMapping` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `QcWOReactiveId` int unsigned NOT NULL,
  `TaskWOReactiveId` int unsigned NOT NULL,
  `RefType` smallint NOT NULL,
  `RefId` char(24) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_client_WOReactiveTaskQcMapping_QcWOReactiveId` (`QcWOReactiveId`),
  KEY `IDX_client_WOReactiveTaskQcMapping_TaskWOReactiveId` (`TaskWOReactiveId`),
  KEY `IDX_client_WOReactiveTaskQcMapping_RefIdRefType` (`RefId`,`RefType`)
) ;

CREATE TABLE `client_WOReactiveTechnicianHelper` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `TechnicianId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveTechnicianHelper` (`WOReactiveId`,`TechnicianId`),
  KEY `ID_client_WOReactiveTechnicianHelper_TechnicianId` (`TechnicianId`)
) ;

CREATE TABLE `client_WOReactiveUpdateInfo` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `LastUpdateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOReactiveUpdateInfo_client_WOReactiveId_idx` (`WOReactiveId`),
  KEY `idx_client_WOReactiveUpdateInfo_LastUpdateTime` (`LastUpdateTime`),
  CONSTRAINT `FK_client_WOReactiveUpdateInfo_client_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOReactiveVendorLite` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `IsLiteWO` tinyint(1) DEFAULT NULL COMMENT 'This field is deprecated',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `WOVariety` smallint NOT NULL DEFAULT '0' COMMENT 'Vendor lite wo variety;Standard WO: 0,Emergency Sourced WO: 1,Service Essentials WO: 2',
  `IsTemporaryRepair` tinyint(1) DEFAULT NULL COMMENT 'This field is deprecated',
  `IsAdditionalRepairsNeeded` tinyint(1) DEFAULT NULL COMMENT 'This field is deprecated',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveVendorLite_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveVendorLite_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;Store whether reactive wo is Lite';

CREATE TABLE `client_WOReactiveVendorLiteActionLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL COMMENT 'client_WOReactive.Id',
  `AffiliateId` int unsigned NOT NULL COMMENT 'affiliate_Profile.Id',
  `ActionId` smallint NOT NULL DEFAULT '1' COMMENT '1=Schedule, 2=SendToTechnician, 3=BeforePhotos, 4=AfterPhotos, 5=Proposal, 6=W-9, 7=Invoice, 8=Accept, 9=Decline, 10=Acknowledge, 11=Review, 12=CompleteWO',
  `StatusId` smallint NOT NULL DEFAULT '1' COMMENT '1=None, 2=Completed, 3=NotCompleted, 4=Skipped',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveVendorLiteActionLog_WOReactiveId` (`WOReactiveId`),
  KEY `ID_client_WOReactiveVendorLiteActionLog_AffiliateId` (`AffiliateId`)
)  COMMENT='Reactive WO;Store action status log of Lite wo';

CREATE TABLE `client_WOReactiveVendorLiteAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `FileTypeId` smallint NOT NULL,
  `FilePath` varchar(300) NOT NULL,
  `FileName` varchar(200) NOT NULL,
  `ContentType` varchar(100) NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveVendorLiteAttachment_WOReactiveId` (`WOReactiveId`),
  KEY `ID_client_WOReactiveVendorLiteAttachment_AffiliateId` (`AffiliateId`)
) ;

CREATE TABLE `client_WOReactiveVendorLiteEmailLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `EmailIdentify` smallint NOT NULL COMMENT '1 Dispatch Email; 2 Technician Scheduled Email; 3 Technician Scheduled Alert Email; 4 Technician Not Scheduled Email; 5 Link Email; 6 Invoice Alert Email; 7 Invoice Due Alert Email',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `Recipients` varchar(1024) DEFAULT NULL COMMENT 'Recipients list, separated by commas',
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveVendorLiteEmailLog_WOReactiveId` (`WOReactiveId`),
  KEY `ID_client_WOReactiveVendorLiteEmailLog_AffiliateId` (`AffiliateId`)
)  COMMENT='Communication; Used to store email sending records in the Vendor Lite process';

CREATE TABLE `client_WOReactiveVendorLiteTextMessageLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `CommunicationTypeId` smallint NOT NULL COMMENT 'Communication type ID;data_WOReactiveVendorLiteCommunicationType',
  `Recipients` varchar(1024) DEFAULT NULL COMMENT 'Recipients list, separated by commas',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOReactiveVendorLiteTextMessageLog_WOReactiveId` (`WOReactiveId`),
  KEY `ID_client_WOReactiveVendorLiteTextMessageLog_AffiliateId` (`AffiliateId`),
  KEY `FK_client_WOReactiveVendorLiteTextMessageLog_CommunicationTypeId` (`CommunicationTypeId`),
  CONSTRAINT `FK_client_WOReactiveVendorLiteTextMessageLog_CommunicationTypeId` FOREIGN KEY (`CommunicationTypeId`) REFERENCES `data_WOReactiveVendorLiteCommunicationType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Communication; Used to store text message sending records in the Vendor Lite process';

CREATE TABLE `client_WOReactiveWeatherInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WOReactiveId` int unsigned NOT NULL,
  `ActualTemperature` decimal(7,3) NOT NULL,
  `ApparentTemperature` decimal(7,3) NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WOReactiveWeatherInfo_WOReactiveId` (`WOReactiveId`),
  CONSTRAINT `FK_client_WOReactiveWeatherInfo_WOReactiveId` FOREIGN KEY (`WOReactiveId`) REFERENCES `client_WOReactive` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrent` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WONum` varchar(40) NOT NULL COMMENT 'wonumber',
  `LocationId` int unsigned NOT NULL COMMENT 'To show where the WO happened in. It is Id in the table client_Location',
  `AffiliateId` int unsigned DEFAULT NULL COMMENT 'Id in the table affiliate_Profile',
  `ServiceCodeId` smallint NOT NULL COMMENT 'Id int the table data_ServiceCode',
  `StatusId` smallint NOT NULL COMMENT 'Id in the table data_WOStatus',
  `CreateMonth` date NOT NULL COMMENT 'Create month of the recurrent WO. Recurrent WOs are volume creation',
  `ScheduleTime` datetime DEFAULT NULL COMMENT 'The schedule time of the WO',
  `ScheduleUserId` int unsigned DEFAULT NULL COMMENT 'Schedule user. It is the id in the table sms_UserProfile',
  `ScheduleByTime` datetime DEFAULT NULL COMMENT 'The time when the WO is scheduled',
  `CheckInTime` datetime DEFAULT NULL COMMENT 'The time when technician arrive the location of WO',
  `CompleteTime` datetime DEFAULT NULL COMMENT 'The time when technician complete the WO',
  `ReferWONum` varchar(50) DEFAULT NULL COMMENT 'The related wonum',
  `WOCategoryId` smallint DEFAULT NULL COMMENT 'The category of the work order.It is the Id in the table data_WOCategory',
  `WOTypeId` smallint DEFAULT NULL COMMENT 'The work order type of the work order.It is the Id in the table data_WOType',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Version` int NOT NULL DEFAULT '0' COMMENT 'Used to avoid the concurrence that two or more users edit this work order.',
  `Technician` int unsigned DEFAULT NULL COMMENT 'Technician',
  `StatusLastUpdate` datetime DEFAULT NULL COMMENT 'The latest time that the work order status is updated',
  `ModifyDate` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),
  `CheckInBy` int unsigned DEFAULT NULL COMMENT 'Who check in this work order.',
  `CheckOutTime` datetime DEFAULT NULL COMMENT 'The time that the technician departure the location',
  `CheckOutBy` int unsigned DEFAULT NULL COMMENT 'Who check out the work order',
  `SourceOfWOId` smallint DEFAULT NULL COMMENT 'The source that a work order is created from. It is the Id in the table data_SourceOfWO',
  `ServiceDuration` int DEFAULT NULL,
  `VisitLog` smallint DEFAULT NULL,
  `PhotoActionStatus` smallint DEFAULT NULL COMMENT 'To tag the technician/affiliate manager upload or don''t upload before/after service photo on the vendor app or affiliate portal for the WO. 1:before service photos submitted, 2:after service photos submitted, 0: nighter',
  `ByPassComplianceId` smallint DEFAULT NULL COMMENT 'Id in the table data_ByPassCompliance. It shows the reason that a techncian can’t  upload photos, can''t check-in/out on app',
  `IsAccessedByMobile` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'The resident or store manager of this work order whether can be accessed by mobile',
  `IsHighPriority` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'To label the work order is or not a high priority work order',
  `AssetId` int unsigned DEFAULT NULL COMMENT 'Id in the table client_LocationAsset',
  `AssetPartId` varchar(24) DEFAULT NULL COMMENT 'Id in the table client_LocationAssetPart',
  `WODepartmentId` smallint DEFAULT NULL COMMENT 'Id in the table data__Department',
  `WOBusinessUnit` smallint DEFAULT NULL COMMENT 'Id in the table data_BusinessUnit',
  `WOServiceCategoryId` smallint DEFAULT NULL COMMENT 'Id in the table data_ServiceCategory',
  `WOServiceTypeId` smallint DEFAULT NULL COMMENT 'Id in the table data_ServiceType',
  `WOClientId` int unsigned DEFAULT NULL COMMENT 'The client of WO. It is the id in the table client_Profile',
  `ClientPayStatusId` smallint DEFAULT NULL COMMENT 'client pay status. Id in the table data_ClientPayStatus',
  `IsPersonal` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'It is used for "To C business", but we have closed the personal business so this field is useless.',
  `RequestUserId` int unsigned DEFAULT NULL,
  `CallId` int unsigned DEFAULT NULL COMMENT 'Which call generate this WO. Id in the table client_Call',
  `AssigneeId` int unsigned DEFAULT NULL COMMENT 'The assignee of the WO. It is the id in the table sms_UserProfile',
  `OwnerId` int unsigned DEFAULT NULL COMMENT 'The owner of the WO. It is the id in the table sms_UserProfile',
  `IsFreeCharging` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'To label a work order is or not a free charging wo',
  `IsRefund` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'If the velue is 1 means this WO is used to strike a balance',
  `IsViaDataGrid` tinyint(1) DEFAULT '0' COMMENT 'If the value is 1 shows that this WO is input by DataGrid',
  `GLCode` varchar(50) DEFAULT NULL COMMENT 'It is a proper noun of accounting. It is general ledger code, is a number used to record b usiness transactions in the general ledger.',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrent_WONum` (`WONum`),
  KEY `FK_client_WORecurrent_LocationId` (`LocationId`),
  KEY `FK_client_WORecurrent_ServiceCodeId` (`ServiceCodeId`),
  KEY `FK_client_WORecurrent_StatusId` (`StatusId`),
  KEY `FK_client_WORecurrent_WOCategoryId` (`WOCategoryId`),
  KEY `FK_client_WORecurrent_WOTypeId` (`WOTypeId`),
  KEY `IK_client_WORecurrent_CreateDate` (`CreateDate`),
  KEY `IK_client_WORecurrent_ScheduleTime` (`ScheduleTime`),
  KEY `FK_client_WORecurrent_AffiliateId` (`AffiliateId`),
  KEY `FK_client_WORecurrent_SourceOfWOId` (`SourceOfWOId`),
  KEY `FK_client_WORecurrent_ByPassComplianceId` (`ByPassComplianceId`),
  KEY `ID_client_WORecurrent_CheckInTime` (`CheckInTime`),
  KEY `ID_client_WORecurrent_CompleteTime` (`CompleteTime`),
  KEY `ID_client_WORecurrent_WOClientId` (`WOClientId`),
  KEY `ID_client_WORecurrent_StatusLastUpdate` (`StatusLastUpdate`),
  KEY `ID_client_WORecurrent_WOBusinessUnit` (`WOBusinessUnit`),
  KEY `ID_client_WORecurrent_Technician` (`Technician`),
  KEY `ID_client_WORecurrent_RequestUserId` (`RequestUserId`),
  KEY `ID_client_WORecurrent_AssetId` (`AssetId`),
  KEY `ID_client_WORecurrent_CallId` (`CallId`),
  KEY `ID_client_WORecurrent_AssigneeId` (`AssigneeId`),
  KEY `ID_client_WORecurrent_OwnerId` (`OwnerId`),
  KEY `ID_client_WORecurrent_CreateMonth` (`CreateMonth`),
  KEY `ID_client_WORecurrent_ModifyDate` (`ModifyDate`),
  KEY `ID_client_WORecurrent_WOServiceTypeId` (`WOServiceTypeId`),
  KEY `ID_client_WORecurrent_WODepartmentId_StatusId` (`WODepartmentId`,`StatusId`),
  KEY `idx_client_WORecurrent_ReferWONum` (`ReferWONum`),
  CONSTRAINT `FK_client_WORecurrent_AffiliateId` FOREIGN KEY (`AffiliateId`) REFERENCES `affiliate_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrent_ByPassComplianceId` FOREIGN KEY (`ByPassComplianceId`) REFERENCES `data_ByPassCompliance` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrent_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrent_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrent_SourceOfWOId` FOREIGN KEY (`SourceOfWOId`) REFERENCES `data_SourceOfWO` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrent_StatusId` FOREIGN KEY (`StatusId`) REFERENCES `data_WOStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrent_WOCategoryId` FOREIGN KEY (`WOCategoryId`) REFERENCES `data_WOCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrent_WOTypeId` FOREIGN KEY (`WOTypeId`) REFERENCES `data_WOType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Recurrent WO;This table stores the related informations for recurrent work orders';

CREATE TABLE `client_WORecurrentARIAIssueDesc` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `WOARIAIssueTypeId` smallint NOT NULL COMMENT 'wo aria issue type id',
  `Notes` varchar(500) DEFAULT NULL,
  `IsHandled` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'is handled:0:not handled,1: handled',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentARIAIssueDesc_WORecurrentId` (`WORecurrentId`),
  KEY `FK_client_WORecurrentARIAIssueDesc_WOARIAIssueTypeId` (`WOARIAIssueTypeId`),
  CONSTRAINT `FK_client_WORecurrentARIAIssueDesc_WOARIAIssueTypeId` FOREIGN KEY (`WOARIAIssueTypeId`) REFERENCES `data_WOARIAIssueType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrentARIAIssueDesc_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentARIAIssueGroup` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `Notes` varchar(500) DEFAULT NULL,
  `IsHandled` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'is handled:0:not handled,1: handled',
  `HandledNotes` varchar(500) DEFAULT NULL COMMENT 'Records of dealing with problems',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_client_WORecurrentARIAIssueGroup_IsHandled` (`IsHandled`),
  KEY `FK_client_WORecurrentARIAIssueGroup_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `FK_client_WORecurrentARIAIssueGroup_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentARIAIssueType` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ARIAIssueGroupId` int unsigned DEFAULT NULL,
  `WOARIAIssueTypeId` smallint NOT NULL COMMENT 'wo aria issue type id',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentARIAIssueType_ARIAIssueGroupId` (`ARIAIssueGroupId`),
  KEY `FK_client_WORecurrentARIAIssueType_WOARIAIssueTypeId` (`WOARIAIssueTypeId`),
  CONSTRAINT `FK_client_WORecurrentARIAIssueType_ARIAIssueGroupId` FOREIGN KEY (`ARIAIssueGroupId`) REFERENCES `client_WORecurrentARIAIssueGroup` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrentARIAIssueType_WOARIAIssueTypeId` FOREIGN KEY (`WOARIAIssueTypeId`) REFERENCES `data_WOARIAIssueType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentAddress` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `LocationId` int unsigned NOT NULL,
  `LocationNumber` varchar(50) NOT NULL,
  `SMSNumber` varchar(50) NOT NULL,
  `LocationName` varchar(255) DEFAULT NULL,
  `District` varchar(50) DEFAULT NULL,
  `Region` varchar(50) DEFAULT NULL,
  `Group` varchar(50) DEFAULT NULL,
  `AddressLine1` varchar(200) DEFAULT NULL,
  `AddressLine2` varchar(200) DEFAULT NULL,
  `City` varchar(50) DEFAULT NULL,
  `State` varchar(10) DEFAULT NULL,
  `ZipCode` varchar(15) DEFAULT NULL,
  `Country` varchar(3) NOT NULL DEFAULT 'USA',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentAddress_WORecurrentId` (`WORecurrentId`),
  KEY `ID_client_WORecurrentAddress_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_WORecurrentAddress_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentAffiliateOptions` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `AffiliateNTE` decimal(10,2) NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `StartTime` datetime NOT NULL,
  `EndTime` datetime NOT NULL,
  `CreateDate` datetime(6) NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentToBeDispatched` (`WORecurrentId`,`AffiliateId`,`IsActive`),
  KEY `ID_client_WORecurrentToBeDispatched_AffiliateId` (`AffiliateId`),
  KEY `ID_client_WORecurrentToBeDispatched_StartTime` (`StartTime`),
  KEY `ID_client_WORecurrentToBeDispatched_EndTime` (`EndTime`)
) ;

CREATE TABLE `client_WORecurrentAffiliatePaymentDecision` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '0',
  `StatusId` smallint DEFAULT NULL COMMENT '1:Pay To Affiliate, 2:Don''t Pay To Affiliate',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentAffiliatePaymentDecision_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `FK_client_WORecurrentAffiliatePaymentDecision_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentAgingReason` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `AgingReasonId` smallint NOT NULL,
  `StatusId` smallint NOT NULL,
  `ToStatusId` smallint DEFAULT NULL,
  `StartTime` datetime(6) NOT NULL,
  `EndTime` datetime(6) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WORecurrentAgingReason_WORecurrentId` (`WORecurrentId`),
  KEY `FK_client_WORecurrentAgingReason_AgingReasonId` (`AgingReasonId`),
  KEY `ID_client_WORecurrentAgingReason_StartTimeEndTime` (`StartTime`,`EndTime`),
  KEY `ID_client_WORecurrentAgingReason_CreateDate` (`CreateDate`),
  CONSTRAINT `FK_client_WORecurrentAgingReason_AgingReasonId` FOREIGN KEY (`AgingReasonId`) REFERENCES `data_AgingReason` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentAssistance` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL,
  `AssistSenderId` int unsigned NOT NULL,
  `AssistRecipientId` int unsigned NOT NULL,
  `AssistComments` varchar(3000) DEFAULT NULL,
  `DismissedComments` varchar(3000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentAssistance_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `FK_client_WORecurrentAssistance_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `AttachmentTypeId` smallint NOT NULL,
  `Name` varchar(100) DEFAULT NULL,
  `ContentType` varchar(100) NOT NULL,
  `URL` varchar(300) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  `Lat` decimal(18,7) DEFAULT NULL,
  `Lng` decimal(18,7) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WORecurrentAttachment_WORecurrentId` (`WORecurrentId`),
  KEY `PK_client_WORecurrentAttachment_AttachmentTypeId` (`AttachmentTypeId`),
  CONSTRAINT `PK_client_WORecurrentAttachment_AttachmentTypeId` FOREIGN KEY (`AttachmentTypeId`) REFERENCES `data_WOAttachmentType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_WORecurrentAttachment_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentAttribute` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `PhotoCount` smallint DEFAULT '0',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `IsRequestInfo` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether is request',
  `HomeAdvisorStatus` smallint DEFAULT NULL COMMENT 'Home advisor status',
  `HomeAdvisorStatusUpdateTime` datetime DEFAULT NULL COMMENT 'Status update time',
  `HomeAdvisorDeclineReason` varchar(50) DEFAULT NULL COMMENT 'Decline reason',
  `IsCriticalEvent` tinyint(1) DEFAULT '0' COMMENT 'The WO whether critical event',
  `CriticalEventReasonId` smallint DEFAULT NULL COMMENT 'The reason id of critical, data_CriticalEventReason.Id',
  `CriticalEventComments` varchar(300) DEFAULT NULL COMMENT 'Critical event detail description',
  `ExpirationReasonEnumId` smallint DEFAULT NULL COMMENT 'Expiration reason id, data_SysEnum.Id',
  `CriticalFlagTime` datetime DEFAULT NULL COMMENT 'The time of becoming critical',
  `DeferredReasonId` smallint DEFAULT NULL COMMENT 'Deferred reason id, data_SysEnum.Id',
  `OnTheWayStatus` smallint DEFAULT '0' COMMENT 'The status of on the way',
  `PurchaseNum` varchar(100) DEFAULT NULL COMMENT 'Purchase number',
  `RecommendationRating` smallint DEFAULT NULL COMMENT 'Recommendation rate between 0 and 10',
  `RecommendationTime` datetime DEFAULT NULL COMMENT 'The time of recommend',
  `IsResidentDamage` tinyint(1) DEFAULT NULL COMMENT 'Whether the maintenance item damaged by the resident',
  `ResidentDamageComment` varchar(400) DEFAULT NULL COMMENT 'Damage detail description',
  `ChargeBackAmount` decimal(18,2) DEFAULT NULL COMMENT 'The amount of charge returned',
  `IsWOCompletedByClient` tinyint(1) DEFAULT NULL COMMENT 'Whether the client confirmed the WO is completed',
  `WONotCompleteByClientComment` varchar(300) DEFAULT NULL COMMENT 'The reason of client don not think the WO is completed',
  `RecommendationComments` varchar(1000) DEFAULT NULL COMMENT 'Recommendation comments',
  `IsOverrideSID` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the operation conforms to the security identifier',
  `OverrideSIDUserId` int unsigned DEFAULT NULL,
  `OverrideSIDDate` datetime DEFAULT NULL,
  `IsEHS` tinyint(1) NOT NULL DEFAULT '0',
  `IsLOBChargeBack` tinyint(1) NOT NULL DEFAULT '0',
  `IsHistoryEscortWo` tinyint(1) DEFAULT NULL COMMENT 'Inactive',
  `DuplicatePhotoCheck` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0: not show, 1: active, 2: inactive',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentAttribute` (`WORecurrentId`),
  KEY `ID_client_WORecurrentAttribute_IsCriticalEvent` (`IsCriticalEvent`,`CriticalEventReasonId`),
  KEY `ID_client_WORecurrentAttribute_IsRequestInfo` (`IsRequestInfo`),
  CONSTRAINT `FK_client_WORecurrentAttribute_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Recurrent WO;The recurrent work order attribute';

CREATE TABLE `client_WORecurrentCallRecords` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `ChannelNum` varchar(50) NOT NULL,
  `URL` varchar(300) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentCallRecords` (`WORecurrentId`,`ChannelNum`),
  CONSTRAINT `FK_client_WORecurrentCallRecords_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentCheckOutQuestionAnswer` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `QuestionId` int unsigned NOT NULL,
  `QuestionOptionId` int unsigned DEFAULT NULL,
  `Answer` varchar(1000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentCheckOutQuestionAnswer_WORecurrentId` (`WORecurrentId`),
  KEY `FK_client_WORecurrentCheckOutQuestionAnswer_QuestionId` (`QuestionId`),
  KEY `FK_client_WORecurrentCheckOutQuestionAnswer_QuestionOptionId` (`QuestionOptionId`),
  CONSTRAINT `FK_client_WORecurrentCheckOutQuestionAnswer_QuestionId` FOREIGN KEY (`QuestionId`) REFERENCES `client_CheckOutQuestion` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrentCheckOutQuestionAnswer_QuestionOptionId` FOREIGN KEY (`QuestionOptionId`) REFERENCES `client_CheckOutQuestionOption` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrentCheckOutQuestionAnswer_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentConfirm` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `IsServiced` tinyint(1) DEFAULT NULL,
  `Rate` smallint DEFAULT NULL,
  `ReteComments` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `ConfirmType` smallint DEFAULT NULL,
  `ConfirmTime` datetime DEFAULT NULL,
  `ConfirmBy` varchar(100) DEFAULT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `ConfirmEmail` varchar(100) DEFAULT NULL,
  `RateSource` smallint DEFAULT NULL,
  `RateReasonEnumId` smallint DEFAULT NULL,
  `ContactCenterRate` smallint DEFAULT NULL,
  `ContactCenterRateReasonEnumId` smallint DEFAULT NULL,
  `ContactCenterRateComments` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `NotCompletedReasonEnumId` smallint DEFAULT NULL,
  `NotCompletedComments` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `ReRateComments` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `WorkCompletedStatus` smallint DEFAULT NULL,
  `RecommendationRate` smallint DEFAULT NULL,
  `EasySchedulingRate` smallint DEFAULT NULL,
  `TechnicianRate` smallint DEFAULT NULL COMMENT 'Technician Rate;',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentConfirm_WORecurrentId` (`WORecurrentId`),
  KEY `ID_client_WORecurrentConfirm_Rate` (`ConfirmType`,`Rate`),
  KEY `ID_client_WORecurrentConfirm_WorkCompletedStatus` (`WorkCompletedStatus`),
  CONSTRAINT `PK_client_WORecurrentConfirm_ConfirmType` FOREIGN KEY (`ConfirmType`) REFERENCES `data_ConfirmType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_WORecurrentConfirm_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentConfirmEmail` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `Email` varchar(500) DEFAULT NULL,
  `SendUserId` int unsigned DEFAULT NULL,
  `SendTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WORecurrentConfirmEmai_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `PK_client_WORecurrentConfirmEmai_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentConfirmLabel` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentConfirmId` int unsigned NOT NULL,
  `RateLabelId` smallint NOT NULL COMMENT 'The data comes from the data_SysEnum table',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentConfirmLabel_WORecurrentConfirmId` (`WORecurrentConfirmId`),
  CONSTRAINT `FK_client_WORecurrentConfirmLabel_WORecurrentConfirmId` FOREIGN KEY (`WORecurrentConfirmId`) REFERENCES `client_WORecurrentConfirm` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Used to store the labels selected by users for different rating items when rating in the rating center.';

CREATE TABLE `client_WORecurrentConfirmMultipleSelectRating` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `ServiceRateReasonEnumId` smallint NOT NULL,
  `ServiceRateReasonNotes` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WORecurrentConfirmMultipleSelectRating` (`ServiceRateReasonEnumId`),
  KEY `ID_client_WORecurrentConfirmMultipleSelectRating_WORecurrentId` (`WORecurrentId`)
) ;

CREATE TABLE `client_WORecurrentDelete` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WONum` varchar(40) NOT NULL,
  `CreateDate` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `client_WORecurrentExportInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `RescheduleCommets` varchar(500) DEFAULT NULL,
  `RescheduleReason` varchar(50) DEFAULT NULL,
  `ScheduleDate` datetime DEFAULT NULL,
  `RescheduleDate` datetime DEFAULT NULL,
  `RescheduleSource` varchar(50) DEFAULT NULL,
  `RescheduleBy` int unsigned DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentExportInfo` (`WORecurrentId`),
  CONSTRAINT `FK_client_WORecurrentExportInfo_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentExtend` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `AffiliateJobOrderNum` varchar(32) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `PenaltyCappedAmount` decimal(18,2) DEFAULT NULL,
  `IsPassContactCenterRating` tinyint(1) NOT NULL DEFAULT '0',
  `BuildingId` varchar(50) DEFAULT NULL,
  `Subledger` varchar(50) DEFAULT NULL,
  `ScheduleDuration` smallint unsigned DEFAULT NULL COMMENT 'this field works together with ScheduleTime to become a ServiceWindow',
  `CustomerSignTypeId` smallint DEFAULT NULL COMMENT 'The customer choose the signature type: 1 signature, 2 customer not valid, 3 refuse to signature',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentExtend` (`WORecurrentId`),
  CONSTRAINT `FK_client_WORecurrentExtend_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentIVR` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `requestID` int NOT NULL,
  `CheckinDatetime` datetime DEFAULT NULL,
  `Checkinstatus` smallint DEFAULT NULL,
  `CheckinCallerID` varchar(32) DEFAULT NULL,
  `CheckoutDatetime` datetime DEFAULT NULL,
  `CheckoutStatus` smallint DEFAULT NULL,
  `CheckoutCallerID` varchar(32) DEFAULT NULL,
  `CheckProStatus` varchar(32) DEFAULT NULL,
  `VoicePath` varchar(256) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ;

CREATE TABLE `client_WORecurrentIVRInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `CheckInTime` datetime DEFAULT NULL,
  `CheckInStatus` smallint DEFAULT NULL,
  `CheckInCallerId` varchar(32) DEFAULT NULL,
  `CheckOutTime` datetime DEFAULT NULL,
  `CheckOutStatus` smallint DEFAULT NULL,
  `CheckOutCallerId` varchar(32) DEFAULT NULL,
  `CheckProStatus` smallint DEFAULT NULL,
  `VoicePath` varchar(256) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ScheduleStartTime` datetime DEFAULT NULL,
  `ScheduleEndTime` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentIVR_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `FK_client_WORecurrentIVR_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentLabel` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `LabelId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentLabel` (`WORecurrentId`,`LabelId`),
  KEY `FK_client_WORecurrentLabel_LabelId` (`LabelId`),
  CONSTRAINT `FK_client_WORecurrentLabel_LabelId` FOREIGN KEY (`LabelId`) REFERENCES `sms_Label` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrentLabel_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `Log` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WORecurrentLog_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `PK_client_WORecurrentLog_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentMessage` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `ParentId` int unsigned DEFAULT NULL,
  `IsRequestInfo` tinyint(1) NOT NULL DEFAULT '0',
  `Content` varchar(1000) NOT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  `IsReplied` tinyint(1) NOT NULL DEFAULT '0',
  `SenderTypeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WORecurrentMessage_WORecurrentId` (`WORecurrentId`),
  KEY `FK_client_WORecurrentMessage_SenderTypeId` (`SenderTypeId`),
  CONSTRAINT `FK_client_WORecurrentMessage_SenderTypeId` FOREIGN KEY (`SenderTypeId`) REFERENCES `data_RecipientType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_WORecurrentMessage_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentMessageAttach` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AttachmentId` int unsigned NOT NULL,
  `MessageId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentMessageAttach_MessageId` (`MessageId`),
  KEY `PK_client_WORecurrentMessageAttach_AttachmentId` (`AttachmentId`),
  CONSTRAINT `FK_client_WORecurrentMessageAttach_MessageId` FOREIGN KEY (`MessageId`) REFERENCES `client_WORecurrentMessage` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `PK_client_WORecurrentMessageAttach_AttachmentId` FOREIGN KEY (`AttachmentId`) REFERENCES `client_WORecurrentAttachment` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentMessageRecipient` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `MessageId` int unsigned NOT NULL,
  `RecieverUserId` int unsigned DEFAULT NULL,
  `Emails` varchar(500) DEFAULT NULL,
  `Phones` varchar(500) DEFAULT NULL,
  `IsRead` tinyint(1) NOT NULL DEFAULT '0',
  `ReadTime` datetime DEFAULT NULL,
  `RecipientTypeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentMessageRecipient_MessageId` (`MessageId`),
  KEY `FK_client_WORecurrentMessageRecipient_RecipientTypeId` (`RecipientTypeId`),
  CONSTRAINT `FK_client_WORecurrentMessageRecipient_MessageId` FOREIGN KEY (`MessageId`) REFERENCES `client_WORecurrentMessage` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrentMessageRecipient_RecipientTypeId` FOREIGN KEY (`RecipientTypeId`) REFERENCES `data_RecipientType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentNoAssetReason` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `LocationId` int unsigned NOT NULL,
  `NoAssetReasonEnumId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `ID_client_WORecurrentNoAssetReason_WORecurrentId` (`WORecurrentId`),
  KEY `FK_client_WORecurrentNoAssetReason_LocationId` (`LocationId`),
  KEY `FK_client_WORecurrentNoAssetReason_NoAssetReasonEnumId` (`NoAssetReasonEnumId`),
  CONSTRAINT `FK_client_WORecurrentNoAssetReason_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrentNoAssetReason_NoAssetReasonEnumId` FOREIGN KEY (`NoAssetReasonEnumId`) REFERENCES `data_SysEnum` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrentNoAssetReason_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentNote` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `Notes` varchar(1000) DEFAULT NULL,
  `UserId` int unsigned NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `PK_client_WORecurrentNote_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `PK_client_WORecurrentNote_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentONEQueueInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `CreationBatch` varchar(20) DEFAULT NULL COMMENT 'Store Create BatchNum',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ManageWOEntranceType` smallint DEFAULT NULL COMMENT 'Store to WO Manage Path Entrance. 1:WO Search Page,2:Reactive Tab,3:Recurring Tab,4:ProCare Tab,5:PM Tab',
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentONEQueueInfo_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `FK_client_WORecurrentONEQueueInfo_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Recurrent WO;Store OneQueue Recurring WO User behavior';

CREATE TABLE `client_WORecurrentPMAssetStatus` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `IsMergeCompleted` tinyint(1) NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentPMAssetStatus_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `FK_client_WORecurrentPMAssetStatus_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentPayInfo` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `PayNum` varchar(32) NOT NULL,
  `WORecurrentId` int unsigned NOT NULL,
  `MerchantAccountId` varchar(64) DEFAULT NULL,
  `Amount` decimal(10,2) unsigned NOT NULL,
  `CurrencyIsoCode` varchar(8) DEFAULT NULL,
  `PaymentInstrumentType` varchar(32) DEFAULT NULL,
  `PaymentMethodToken` varchar(64) DEFAULT NULL,
  `ProcessorResponseCode` varchar(16) DEFAULT NULL,
  `ProcessorResponseText` varchar(255) DEFAULT NULL,
  `ProcessorSettlementResponseCode` varchar(16) DEFAULT NULL,
  `ProcessorSettlementResponseText` varchar(255) DEFAULT NULL,
  `GatewayRejectionReason` varchar(32) DEFAULT NULL,
  `Status` varchar(32) DEFAULT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Notes` varchar(300) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentPayInfo_WORecurrentId` (`WORecurrentId`),
  KEY `ID_client_WORecurrentPayInfo` (`PayNum`),
  CONSTRAINT `FK_client_WORecurrentPayInfo_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentSIMViolator` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `IsViolator` tinyint unsigned DEFAULT '1',
  `ViolatorType` smallint DEFAULT NULL,
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned DEFAULT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int DEFAULT NULL,
  `CancelDate` datetime DEFAULT NULL,
  `CancelUserId` int DEFAULT NULL,
  `PrecipAccumulation` decimal(6,3) DEFAULT NULL,
  `MinTemp` decimal(5,2) DEFAULT NULL,
  `VisitLog` int DEFAULT NULL,
  `CancelComment` varchar(225) DEFAULT NULL,
  `SimAuditLevelId` smallint NOT NULL DEFAULT '1',
  `SimAuditStatusId` smallint NOT NULL DEFAULT '0',
  `SimAuditGroupId` smallint DEFAULT NULL,
  `SimAuditNote` varchar(500) DEFAULT NULL,
  `ProcessedWOStatusToRWI` smallint DEFAULT '0',
  `DeiceTotal` int NOT NULL DEFAULT '0',
  `DeiceLimit` smallint NOT NULL DEFAULT '0',
  `PlowTotal` tinyint NOT NULL DEFAULT '0',
  `WarrantedPlowCount` tinyint DEFAULT NULL,
  `NonPlowCount` tinyint NOT NULL DEFAULT '0',
  `PlowLimit` tinyint NOT NULL DEFAULT '0',
  `TotalServiceCount` int NOT NULL DEFAULT '0',
  `IsAddressed` smallint DEFAULT '0' COMMENT '0: Default 1: Addressed 2: ReviewPossible',
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentSIMViolator_WORecurrentId_idx` (`WORecurrentId`),
  KEY `ID_client_WORecurrentSIMViolator_ViolatorType` (`ViolatorType`),
  CONSTRAINT `FK_client_WORecurrentSIMViolator_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentSIMViolatorLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentSIMViolatorId` int unsigned NOT NULL,
  `SIMAuditNote` varchar(500) NOT NULL,
  `SIMAuditLevelId` smallint NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `TypeId` smallint NOT NULL DEFAULT '1' COMMENT '1:Approved ,2:Declined',
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentSIMViolatorNoteLog_WORecurrentSIMViolatorId` (`WORecurrentSIMViolatorId`),
  CONSTRAINT `FK_client_WORecurrentSIMViolatorNoteLog_WORecurrentSIMViolatorId` FOREIGN KEY (`WORecurrentSIMViolatorId`) REFERENCES `client_WORecurrentSIMViolator` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentSmartReplyClickLog` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL COMMENT 'client_WORecurrent.Id',
  `ClickCount` int NOT NULL COMMENT 'message click count',
  `SmartMenuId` smallint NOT NULL COMMENT 'data_SmartReplyOption.Id',
  `SourceTypeId` smallint NOT NULL COMMENT '1=Affiliate, 2=Client, 3=Internal',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WORecurrentSmartReplyClickLog` (`WORecurrentId`)
)  COMMENT='Communication;Store the click count of the smart reply options for each recurrent wo, currently, it is only captured for the ''Attempted contact'' option.';

CREATE TABLE `client_WORecurrentTag` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `WOTagId` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_WORecurrentTag_WORecurrentId` (`WORecurrentId`),
  KEY `FK_client_WORecurrentTag_WOTagId` (`WOTagId`),
  CONSTRAINT `FK_client_WORecurrentTag_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WORecurrentTag_WOTagId` FOREIGN KEY (`WOTagId`) REFERENCES `data_WOTag` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WORecurrentTechnicianHelper` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `TechnicianId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentTechnicianHelper` (`WORecurrentId`,`TechnicianId`),
  KEY `ID_client_WORecurrentTechnicianHelper_TechnicianId` (`TechnicianId`)
) ;

CREATE TABLE `client_WORecurrentWeatherInfo` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `WORecurrentId` int unsigned NOT NULL,
  `CheckInTime` datetime DEFAULT NULL,
  `WindSpeed` decimal(5,2) NOT NULL,
  `Visibility` decimal(5,2) NOT NULL,
  `PrecipAccumulation` decimal(6,3) NOT NULL,
  `MaxTemp` decimal(5,2) NOT NULL,
  `MinTemp` decimal(5,2) NOT NULL,
  `CurrentTemperature` decimal(5,2) NOT NULL,
  `Summary` varchar(128) DEFAULT NULL,
  `WeatherIcon` varchar(64) DEFAULT NULL,
  `SnowFall` decimal(6,3) NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_client_WORecurrentWeatherInfo_WORecurrentId` (`WORecurrentId`),
  CONSTRAINT `FK_client_WORecurrentWeatherInfo_WORecurrentId` FOREIGN KEY (`WORecurrentId`) REFERENCES `client_WORecurrent` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_WOStatusCountReport` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `WOStatusId` smallint NOT NULL,
  `WOCount` int NOT NULL,
  `LastUpdateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_client_WOStatusCountReport_LastUpdateTime` (`LastUpdateTime`)
) ;

CREATE TABLE `client_WOType` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `WOTypeId` smallint NOT NULL COMMENT 'data_WOType.Id',
  PRIMARY KEY (`Id`),
  KEY `FK_client_WOType_ClientId` (`ClientId`),
  KEY `FK_client_WOType_WOTypeId` (`WOTypeId`),
  CONSTRAINT `FK_client_WOType_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOType_WOTypeId` FOREIGN KEY (`WOTypeId`) REFERENCES `data_WOType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO;The relationship of client and work order type';

CREATE TABLE `client_WOTypeMapping` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `ClientWOType` varchar(50) NOT NULL,
  `WOTypeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UNI_client_WOTypeMapping` (`ClientId`,`ClientWOType`,`WOTypeId`),
  KEY `FK_client_WOTypeMapping_ClientId_idx` (`ClientId`),
  KEY `FK_client_WOTypeMapping_WOTypeId_idx` (`WOTypeId`),
  CONSTRAINT `FK_client_WOTypeMapping_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_client_WOTypeMapping_WOTypeId` FOREIGN KEY (`WOTypeId`) REFERENCES `data_WOType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `client_bid_Form` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(500) DEFAULT NULL,
  `BidPackageId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL DEFAULT '0' COMMENT '0:In projress 1:On hold 2:Declined 3:Awarded',
  `DueStartDate` datetime DEFAULT NULL,
  `DueEndDate` datetime DEFAULT NULL,
  `Margin` decimal(18,2) DEFAULT NULL,
  `Description` varchar(2000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_bid_Form_BidPackageId` (`BidPackageId`),
  CONSTRAINT `FK_client_bid_Form_BidPackageId` FOREIGN KEY (`BidPackageId`) REFERENCES `client_bid_Package` (`Id`)
)  COMMENT='client bid;Commercial Project to be bid form';

CREATE TABLE `client_bid_FormItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(500) DEFAULT NULL,
  `BidFormId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL DEFAULT '0' COMMENT '0:In projress 1:On hold 2:Declined 3:Awarded',
  `TypeId` smallint NOT NULL DEFAULT '0' COMMENT '0:Standard 1:affiliate addition',
  `Quantity` int DEFAULT NULL,
  `UnitCost` decimal(18,2) DEFAULT NULL,
  `Amount` decimal(18,2) DEFAULT NULL,
  `Description` varchar(500) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Margin` decimal(18,2) NOT NULL COMMENT 'item margin',
  PRIMARY KEY (`Id`),
  KEY `FK_client_bid_FormItem_BidFormId` (`BidFormId`),
  CONSTRAINT `FK_client_bid_FormItem_BidFormId` FOREIGN KEY (`BidFormId`) REFERENCES `client_bid_Form` (`Id`)
)  COMMENT='client bid;Commercial Project to be bid form item';

CREATE TABLE `client_bid_Package` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(500) DEFAULT NULL,
  `ClientId` int unsigned NOT NULL,
  `LocationId` int unsigned NOT NULL COMMENT 'client location Id',
  `StatusId` smallint NOT NULL DEFAULT '0' COMMENT '0:Open',
  `StartDate` datetime DEFAULT NULL,
  `EndDate` datetime DEFAULT NULL COMMENT 'target bid end date',
  `ContactId` int unsigned NOT NULL COMMENT 'primary bidding contact id',
  `ContactName` varchar(100) DEFAULT NULL COMMENT 'primary bidding contact name',
  `Margin` decimal(18,2) NOT NULL,
  `Description` varchar(2000) DEFAULT NULL,
  `Instructions` varchar(2000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `TradeId` smallint NOT NULL COMMENT 'add bidpackage trade',
  PRIMARY KEY (`Id`),
  KEY `FK_client_bid_Package_ClientId` (`ClientId`),
  KEY `FK_client_bid_Package_LocationId` (`LocationId`),
  CONSTRAINT `FK_client_bid_Package_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`),
  CONSTRAINT `FK_client_bid_Package_LocationId` FOREIGN KEY (`LocationId`) REFERENCES `client_Location` (`Id`)
)  COMMENT='client bid; Commercial Project to be bid package';

CREATE TABLE `client_bid_PackageAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BidPackageId` int unsigned NOT NULL,
  `FileName` varchar(200) NOT NULL,
  `FilePath` varchar(300) NOT NULL,
  `ContentType` varchar(50) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `GroupType` smallint NOT NULL COMMENT '1-Drawings 2-Documents 3-Sepcifications',
  PRIMARY KEY (`Id`),
  KEY `FK_client_bid_PackageAttachment_BidPackageId` (`BidPackageId`),
  CONSTRAINT `FK_client_bid_PackageAttachment_BidPackageId` FOREIGN KEY (`BidPackageId`) REFERENCES `client_bid_Package` (`Id`)
)  COMMENT='client bid;Commercial Project bid package Attachment';

CREATE TABLE `client_bid_Quote` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BidFormId` int unsigned NOT NULL,
  `AffiliateId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL DEFAULT '0' COMMENT '0:Bid Sent to Affiliate 1:Affiliate Decline 2:Affiliate Accept 3:Bid Received 4:Pending Client Review 5:Client Approved 6:Client Decliend 7:On hold 8:Overdue',
  `ReceivedDate` datetime DEFAULT NULL,
  `DueStartDate` datetime DEFAULT NULL,
  `DueEndDate` datetime DEFAULT NULL,
  `TotalAffiliatePrice` decimal(18,2) DEFAULT NULL,
  `TotalClientPrice` decimal(18,2) DEFAULT NULL,
  `Margin` decimal(18,2) DEFAULT NULL,
  `Description` varchar(2000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Summary` varchar(2000) DEFAULT NULL COMMENT 'affiliate detailed description of the offer',
  `IsPermitRequired` tinyint DEFAULT NULL COMMENT 'Whether they have permission to start construction',
  `IsPeplacingAsset` tinyint DEFAULT NULL COMMENT 'Whether to replace assets',
  `DeclinedReason` varchar(300) DEFAULT NULL COMMENT 'quote Reasons for rejection',
  PRIMARY KEY (`Id`),
  KEY `FK_client_bid_Quote_BidFormId` (`BidFormId`),
  CONSTRAINT `FK_client_bid_Quote_BidFormId` FOREIGN KEY (`BidFormId`) REFERENCES `client_bid_Form` (`Id`)
)  COMMENT='client bid;affiliate bid from quote';

CREATE TABLE `client_bid_QuoteAttachment` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BidQuoteId` int unsigned NOT NULL,
  `FileName` varchar(200) NOT NULL,
  `FilePath` varchar(300) NOT NULL,
  `ContentType` varchar(50) NOT NULL COMMENT '0:pdf, 1:png, 2:jpg',
  `IsClientVisible` tinyint NOT NULL COMMENT 'Whether the client is visible',
  `IsAffiliateVisible` tinyint NOT NULL COMMENT 'Whether the affiliate is visible',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_bid_QuoteAttachment_BidQuoteId` (`BidQuoteId`),
  CONSTRAINT `FK_client_bid_QuoteAttachment_BidQuoteId` FOREIGN KEY (`BidQuoteId`) REFERENCES `client_bid_Quote` (`Id`)
)  COMMENT='client bid; Quote Attachment ,affiliate submit attachment to share PM/Client';

CREATE TABLE `client_bid_QuoteItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `BidQuoteId` int unsigned NOT NULL,
  `BidFormItemId` int unsigned NOT NULL,
  `StatusId` smallint NOT NULL DEFAULT '0' COMMENT '0:Bid Sent to Affiliate 1:Affiliate Decline 2:Affiliate Accept 3:Bid Received 4:Pending Client Review 5:Client Approved 6:Client Decliend 7:On hold 8:Overdue',
  `TypeId` smallint NOT NULL DEFAULT '0' COMMENT '0:Standard 1:affiliate addition',
  `ReceivedDate` datetime DEFAULT NULL,
  `DueStartDate` datetime DEFAULT NULL,
  `DueEndDate` datetime DEFAULT NULL,
  `Quantity` int DEFAULT NULL,
  `UnitCost` decimal(18,2) DEFAULT NULL,
  `Amount` decimal(18,2) DEFAULT NULL,
  `ClientPrice` decimal(18,2) DEFAULT NULL,
  `Description` varchar(2000) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT NULL,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `Margin` decimal(18,2) NOT NULL COMMENT 'item margin',
  PRIMARY KEY (`Id`),
  KEY `FK_client_bid_QuoteItem_BidQuoteId` (`BidQuoteId`),
  KEY `FK_client_bid_QuoteItem_BidFormItemId` (`BidFormItemId`),
  CONSTRAINT `FK_client_bid_QuoteItem_BidFormItemId` FOREIGN KEY (`BidFormItemId`) REFERENCES `client_bid_FormItem` (`Id`),
  CONSTRAINT `FK_client_bid_QuoteItem_BidQuoteId` FOREIGN KEY (`BidQuoteId`) REFERENCES `client_bid_Quote` (`Id`)
)  COMMENT='client bid;affiliate bid from quote';

CREATE TABLE `data_ABModule` (
  `Id` smallint NOT NULL,
  `Code` varchar(50) NOT NULL,
  `Name` varchar(50) NOT NULL,
  `IsActive` tinyint(1) DEFAULT '1',
  `IsForInternal` tinyint(1) NOT NULL DEFAULT '0',
  `IsForClient` tinyint(1) NOT NULL DEFAULT '0',
  `IsForAffiliate` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_ABModule_Code` (`Code`)
) ;

CREATE TABLE `data_ABModuleAttribute` (
  `Id` smallint NOT NULL,
  `ABModelId` smallint NOT NULL,
  `ClientId` int unsigned NOT NULL,
  `Attribute` text,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ABModuleAttribute_ABModelId` (`ABModelId`),
  KEY `FK_data_ABModuleAttribute_ClientId` (`ClientId`),
  CONSTRAINT `FK_data_ABModuleAttribute_ABModelId` FOREIGN KEY (`ABModelId`) REFERENCES `data_ABModule` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_ABModuleAttribute_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ACHDesignation` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Address` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `CompanyId` int unsigned NOT NULL COMMENT 'Unique identifier for the company',
  `Country` varchar(64) NOT NULL COMMENT 'Country of the address',
  `State` varchar(64) NOT NULL COMMENT 'State of the address',
  `City` varchar(64) NOT NULL COMMENT 'City of the address',
  `Region` varchar(64) NOT NULL COMMENT 'Region of the address',
  `AddressLine` varchar(200) NOT NULL COMMENT 'Street address',
  `ZipCode` varchar(45) NOT NULL COMMENT 'Zip Code',
  `Lng` decimal(18,7) NOT NULL COMMENT 'Longitude coordinate',
  `Lat` decimal(18,7) NOT NULL COMMENT 'Latitude coordinate',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`Id`),
  KEY `FK_data_Address_CompanyId` (`CompanyId`),
  CONSTRAINT `FK_data_Address_CompanyId` FOREIGN KEY (`CompanyId`) REFERENCES `Company` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='SNO;Table for storing addresses';

CREATE TABLE `data_AddressType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AffiliateContactType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AffiliateEntityType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AffiliateInvoiceReactiveRejection` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'Reject reason',
  `Notes` varchar(1024) DEFAULT NULL COMMENT 'Reject reason details',
  PRIMARY KEY (`Id`)
)  COMMENT='Billing;Affiliate invoice of reactive work order reject reason';

CREATE TABLE `data_AffiliateProposalReactiveRejection` (
  `Id` smallint NOT NULL COMMENT 'The Objection to affiliate proposal',
  `Name` varchar(50) NOT NULL COMMENT 'The objection to affiliate proposal of reactive wo',
  `Notes` varchar(1024) DEFAULT NULL COMMENT 'The note of objection to affiliate proposal of reactive wo',
  PRIMARY KEY (`Id`)
)  COMMENT='Proposal;Data of objection to affiliate proposal';

CREATE TABLE `data_AffiliateScoringMetric` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `Description` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AffiliateScoringMetricRule` (
  `Id` smallint NOT NULL,
  `AffiliateScoringMetricId` smallint NOT NULL,
  `StartValue` decimal(18,4) DEFAULT NULL,
  `EndValue` decimal(18,4) DEFAULT NULL,
  `Percentile` varchar(10) DEFAULT NULL,
  `Score` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_AffiliateScoringMetricRule_AffiliateScoringMetricId` (`AffiliateScoringMetricId`),
  CONSTRAINT `FK_data_AffiliateScoringMetricRule_AffiliateScoringMetricId` FOREIGN KEY (`AffiliateScoringMetricId`) REFERENCES `data_AffiliateScoringMetric` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_AffiliateScoringMetricWeighting` (
  `Id` smallint NOT NULL,
  `AffiliateScoringMetricId` smallint NOT NULL,
  `Weighting` decimal(18,2) NOT NULL,
  `IsResidential` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `FK_data_AffiliateScoringMetricWeighting_AffiliateScoringMetricId` (`AffiliateScoringMetricId`),
  CONSTRAINT `FK_data_AffiliateScoringMetricWeighting_AffiliateScoringMetricId` FOREIGN KEY (`AffiliateScoringMetricId`) REFERENCES `data_AffiliateScoringMetric` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_AffiliateScoringTarget` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned DEFAULT NULL,
  `ScoringMetricId` smallint NOT NULL,
  `TargetValue` decimal(18,2) NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_AffiliateScoringTarget` (`ClientId`,`ScoringMetricId`),
  KEY `FK_data_AffiliateScoringTarget_ScoringMetricId` (`ScoringMetricId`),
  CONSTRAINT `FK_data_AffiliateScoringTarget_ClientId` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_AffiliateScoringTarget_ScoringMetricId` FOREIGN KEY (`ScoringMetricId`) REFERENCES `data_AffiliateScoringMetric` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_AffiliateSourceStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AffiliateStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'Affiliate status',
  PRIMARY KEY (`Id`)
)  COMMENT='Affiliate Management;Affiliate status';

CREATE TABLE `data_AffiliateSupportRequestType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `Portal` smallint NOT NULL DEFAULT '1' COMMENT '1:internal,2:affiliate,3:client',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AfiiliateRequestWOStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `TypeId` smallint DEFAULT NULL COMMENT '1:RAD，2:RAWO',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AgingReason` (
  `Id` smallint NOT NULL,
  `MainReason` varchar(50) NOT NULL,
  `SubReason` varchar(50) NOT NULL,
  `Type` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AreasMapping` (
  `Id` smallint NOT NULL,
  `Areas` varchar(50) NOT NULL,
  `SubAreas` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AssetAttributeEnum` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AttributeEnumType` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `Rank` smallint NOT NULL,
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime DEFAULT CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AssetConfigField` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(128) NOT NULL,
  `TypeId` smallint NOT NULL COMMENT '1:Select,2：input,3：nubmber input,4:textarea,5:radio,6:checkbox,7:photo,8:attachment,9:other',
  `Description` varchar(100) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='AssetConfig; Asset Config Field';

CREATE TABLE `data_AssetConfigModule` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(128) NOT NULL,
  `Title` varchar(128) NOT NULL,
  `TypeId` smallint NOT NULL COMMENT 'Page type:1、locationAsset add page 2:serviceAsset edit page 3:locationAsset Detail page',
  `Description` varchar(100) DEFAULT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='AssetConfig; Asset Config Field';

CREATE TABLE `data_AssetDivision` (
  `Id` smallint NOT NULL COMMENT 'asset division id',
  `Name` varchar(100) NOT NULL COMMENT 'asset division name',
  `AssetRegionId` smallint NOT NULL COMMENT 'asset region id',
  PRIMARY KEY (`Id`)
)  COMMENT='CRM; Asset Division configuration of the service';

CREATE TABLE `data_AssetDropDown` (
  `Id` smallint NOT NULL,
  `Name` varchar(200) NOT NULL,
  `AssetDropDownTypeId` smallint NOT NULL,
  `IsMostCommon` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `FK_data_AssetDropDown_AssetDropDownTypeId` (`AssetDropDownTypeId`),
  CONSTRAINT `FK_data_AssetDropDown_AssetDropDownTypeId` FOREIGN KEY (`AssetDropDownTypeId`) REFERENCES `data_AssetDropDownType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_AssetDropDownType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AssetEquipmentType` (
  `Id` smallint NOT NULL,
  `Name` varchar(200) NOT NULL,
  `IsMostCommon` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`Id`)
)  COMMENT='Asset Service; Asset Equipment Type ; ';

CREATE TABLE `data_AssetHealthYearRate` (
  `Id` smallint NOT NULL COMMENT 'Primary key',
  `Year` int unsigned NOT NULL COMMENT 'Year',
  `Rate` decimal(16,5) NOT NULL COMMENT 'Annual growth rate',
  `CreateDate` datetime NOT NULL COMMENT 'Create Date',
  `CreateUserId` int unsigned NOT NULL COMMENT 'Create UserId',
  `ModifyDate` datetime DEFAULT NULL COMMENT 'Modify Date',
  `ModifyUserId` int unsigned DEFAULT NULL COMMENT 'Modify UserId',
  PRIMARY KEY (`Id`)
)  COMMENT='Asset;Annual growth rate for asset health;';

CREATE TABLE `data_AssetModuleTypeField` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ModuleTypeId` smallint NOT NULL COMMENT 'Module type:1:PM page 2:serviceAsset page 3:locationAsset page',
  `AssetConfigFieldId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_data_AssetModuleTypeField_ModuleTypeId` (`ModuleTypeId`),
  KEY `FK_data_AssetFieldModule_AssetConfigFieldId` (`AssetConfigFieldId`),
  CONSTRAINT `FK_data_AssetFieldModule_AssetConfigFieldId` FOREIGN KEY (`AssetConfigFieldId`) REFERENCES `data_AssetConfigField` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='AssetConfig; Asset module type and field mapping';

CREATE TABLE `data_AssetPictureLabel` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL COMMENT 'label name',
  `Description` varchar(100) NOT NULL COMMENT 'label desc',
  `CategoryTypeId` smallint NOT NULL DEFAULT '1' COMMENT '1:main,2:other',
  `Rank` smallint NOT NULL COMMENT 'order of label',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `MaximunPictureNum` smallint NOT NULL DEFAULT '1' COMMENT 'The maximum number of trees that can be uploaded',
  `AbbrName` varchar(100) DEFAULT NULL COMMENT 'abbreviation label of name',
  `IsVisible` tinyint(1) NOT NULL DEFAULT '1' COMMENT '0:not visible in config page,1:isible in config page',
  `TypeId` smallint DEFAULT '1' COMMENT '1:pm flow 2:asset data collection flow',
  PRIMARY KEY (`Id`)
)  COMMENT='Asset;picture label for asset PM process';

CREATE TABLE `data_AssetRegion` (
  `Id` smallint NOT NULL COMMENT 'asset region id',
  `Name` varchar(100) NOT NULL COMMENT 'asset region name',
  PRIMARY KEY (`Id`)
)  COMMENT='CRM; Asset Region configuration of the service';

CREATE TABLE `data_AssetState` (
  `Id` smallint NOT NULL COMMENT 'asset stage id',
  `Name` varchar(100) NOT NULL COMMENT 'asset stage name',
  `AssetDivisionId` smallint NOT NULL COMMENT 'asset division id',
  PRIMARY KEY (`Id`)
)  COMMENT='CRM; Asset State configuration of the service';

CREATE TABLE `data_AssetTierServiceConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `AssetServiceTypeId` smallint NOT NULL COMMENT '1-PM;2-service asset;3-location asset;4-AED',
  `TierTypeId` smallint NOT NULL COMMENT 'data_AssetTierType id',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_AssetTierServiceConfig` (`AssetServiceTypeId`,`TierTypeId`),
  KEY `FK_data_AssetTierServiceConfig_TierTypeId` (`TierTypeId`),
  CONSTRAINT `FK_data_AssetTierServiceConfig_TierTypeId` FOREIGN KEY (`TierTypeId`) REFERENCES `data_AssetTierType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset; Correlation table for the asset service tier';

CREATE TABLE `data_AssetTierServiceModuleConfig` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `TierServiceConfigId` int unsigned NOT NULL COMMENT 'data_AssetTierServiceConfig id',
  `ModuleId` int unsigned NOT NULL COMMENT 'data_AssetConfigModule id',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_data_AssetTierServiceModuleConfig_TierServiceConfigId` (`TierServiceConfigId`),
  KEY `ID_data_AssetTierServiceModuleConfig_ModuleId` (`ModuleId`),
  CONSTRAINT `FK_data_AssetTierServiceModuleConfig_ModuleId` FOREIGN KEY (`ModuleId`) REFERENCES `data_AssetConfigModule` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_AssetTierServiceModuleConfig_TierServiceConfigId` FOREIGN KEY (`TierServiceConfigId`) REFERENCES `data_AssetTierServiceConfig` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Asset; Asset service module''s association table that records what modules the service has';

CREATE TABLE `data_AssetTierType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='Asset; Base data for asset service tier';

CREATE TABLE `data_AssetToggle` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='Asset; Basic data for asset service switch toggle';

CREATE TABLE `data_AttachmentResourceCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `ResourceCategoryType` smallint DEFAULT NULL COMMENT '1 = Guide; 2 = Video;',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AttachmentType` (
  `Id` smallint NOT NULL,
  `Name` varchar(30) NOT NULL,
  `PhotoRank` smallint NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AuthorizationDeclineCodes` (
  `Id` smallint NOT NULL,
  `Code` varchar(10) DEFAULT NULL,
  `Notes` varchar(300) DEFAULT NULL,
  `Implications` varchar(2000) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AutoAssignRankWeightMapping` (
  `Id` smallint NOT NULL,
  `Rank` smallint unsigned NOT NULL,
  `Weight` smallint unsigned NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_AvalaraBatchStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_BudgetRegion` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_BusinessType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `IsResidential` tinyint(1) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_BusinessUnit` (
  `Id` smallint NOT NULL COMMENT 'Business unit',
  `Name` varchar(50) NOT NULL COMMENT 'The name of business unit',
  PRIMARY KEY (`Id`)
)  COMMENT='Other;Data of business unit';

CREATE TABLE `data_BusinessUnitMargin` (
  `Id` int NOT NULL,
  `BusinessUnit` smallint NOT NULL,
  `MarginMin` smallint NOT NULL,
  `MarginMax` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_BusinessUnitMargin_BusinessUnit` (`BusinessUnit`),
  CONSTRAINT `FK_data_BusinessUnitMargin_BusinessUnit` FOREIGN KEY (`BusinessUnit`) REFERENCES `data_BusinessUnit` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Other;Data of business unit';

CREATE TABLE `data_BusinessUnitServiceCategory` (
  `Id` int NOT NULL COMMENT 'Service category in business unit',
  `BusinessUnit` smallint NOT NULL COMMENT 'The id of business unit',
  `ServiceCategoryId` smallint NOT NULL COMMENT 'The id of service category',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_BusinessUnitServiceCategory` (`ServiceCategoryId`),
  KEY `FK_data_BusinessUnitServiceCategory_BusinessUnit` (`BusinessUnit`),
  CONSTRAINT `FK_data_BusinessUnitServiceCategory_BusinessUnit` FOREIGN KEY (`BusinessUnit`) REFERENCES `data_BusinessUnit` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Other;Data of service category in business unit';

CREATE TABLE `data_BusinessUnitWOPrefix` (
  `Id` smallint NOT NULL,
  `BusinessUnitId` smallint NOT NULL,
  `WOPrefixId` smallint NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ByPassCompliance` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `IsVisible` tinyint(1) DEFAULT '1',
  `KpiReleated` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CallCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'Call category',
  `IsClientVisible` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether this category is visible to the client',
  `IsAffiliateVisible` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether this category is visible to the affiliate',
  PRIMARY KEY (`Id`)
)  COMMENT='Call Center;Call category';

CREATE TABLE `data_CallEtaOption` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `Minutes` smallint NOT NULL,
  `TypeId` smallint NOT NULL COMMENT '1: eta confirm page, 2: sim task eta confirm page',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CallOPSManagerDisposition` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CallPackageUpchargeItem` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CallPriority` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `PriorityRank` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CallSalesDisposition` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CallSalesStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CallScope` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CallSubIssue` (
  `Id` smallint NOT NULL,
  `ServiceTypeId` smallint NOT NULL,
  `CallSubIssueName` varchar(200) NOT NULL,
  `ServiceCodeId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_CallSubIssue_ServiceTypeId` (`ServiceTypeId`),
  KEY `FK_data_CallSubIssue_ServiceCodeId_idx` (`ServiceCodeId`),
  CONSTRAINT `FK_data_CallSubIssue_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_CallSubIssue_ServiceTypeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_CallerPosition` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `IsInternal` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Certificate` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CertificationType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `AbbName` varchar(10) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ChargeCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'Charge category',
  PRIMARY KEY (`Id`)
)  COMMENT='Billing;Charge category';

CREATE TABLE `data_ChatChannel` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ChatSponsorSourceType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ChatUserStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClaimCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClaimContactType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClaimInitialStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClaimInjuryType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClaimResolutionStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClaimType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClientDashboardMetric` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(100) NOT NULL COMMENT 'Metric Name',
  PRIMARY KEY (`Id`)
)  COMMENT='Client Dashboard Metric ;Client Dashboard Metric Basic Data';

CREATE TABLE `data_ClientLabelStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClientPayStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClientPermissionResource` (
  `Id` smallint NOT NULL,
  `ParentId` smallint DEFAULT NULL,
  `Name` varchar(100) NOT NULL,
  `PermissionResourceType` smallint NOT NULL,
  `Description` varchar(200) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ClientPermissionResource_PermissionResourceType` (`PermissionResourceType`),
  KEY `FK_data_ClientPermissionResource_ParentId` (`ParentId`),
  CONSTRAINT `FK_data_ClientPermissionResource_ParentId` FOREIGN KEY (`ParentId`) REFERENCES `data_ClientPermissionResource` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_ClientPermissionResource_PermissionResourceType` FOREIGN KEY (`PermissionResourceType`) REFERENCES `data_ClientPermissionResourceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ClientPermissionResourceType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `Description` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClientProposalReactiveRejection` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(200) NOT NULL,
  `Version` smallint NOT NULL COMMENT 'Version number,a collection of different versions used for different periods of time. It is possible to add new replacement sets later',
  `RankId` smallint NOT NULL COMMENT 'Sort field',
  PRIMARY KEY (`Id`)
)  COMMENT='Reactive WO;client proposal Rejection reasons';

CREATE TABLE `data_ClientReportMapping` (
  `Id` smallint NOT NULL,
  `Mapping` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClientReportMappingValue` (
  `Id` smallint NOT NULL,
  `Name` varchar(45) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ClientResource` (
  `Id` smallint NOT NULL,
  `ParentId` smallint DEFAULT NULL,
  `Name` varchar(100) NOT NULL,
  `ResourceType` smallint NOT NULL,
  `Description` varchar(200) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ClientResource_ResourceType` (`ResourceType`),
  CONSTRAINT `FK_data_ClientResource_ResourceType` FOREIGN KEY (`ResourceType`) REFERENCES `data_ResourceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ClientWOTypeChange` (
  `Id` smallint NOT NULL,
  `FromWOTypeId` smallint NOT NULL,
  `ToWOTypeId` smallint NOT NULL,
  `IsDefaultNTE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CommunicationType` (
  `Id` smallint NOT NULL,
  `MsgFrom` varchar(50) NOT NULL,
  `MsgTo` varchar(50) NOT NULL,
  `MsgGroup` smallint NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ComplianceManager` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `ComplianceManagerName` varchar(50) DEFAULT NULL,
  `Phone` varchar(25) DEFAULT NULL,
  `Fax` varchar(25) DEFAULT NULL,
  `Email` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ComplianceServiceCodeAbbrName` (
  `Id` smallint NOT NULL COMMENT 'id',
  `ServiceCodeName` varchar(100) NOT NULL COMMENT 'service code Name',
  `ServiceCodeAbbrName` varchar(100) DEFAULT NULL COMMENT 'service code abbr name for contract exhibit d in compliance',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_ComplianceServiceCodeAbbrName_ServiceCodeName` (`ServiceCodeName`)
)  COMMENT='Other;Compliance service code abbrname information;';

CREATE TABLE `data_ConfigItem` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(45) DEFAULT NULL COMMENT 'Name of the configuration item',
  `Description` varchar(45) DEFAULT NULL COMMENT 'Description of the configuration item',
  PRIMARY KEY (`Id`)
)  COMMENT='SNO;Table for storing configuration items';

CREATE TABLE `data_ConfirmType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL COMMENT 'Confirm type of invoice',
  `IsBill` tinyint(1) NOT NULL COMMENT 'Whether the invoice is billed',
  PRIMARY KEY (`Id`)
)  COMMENT='Billing;Confirm type of invoice';

CREATE TABLE `data_ContractRequestStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ContractStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ContractType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Country` (
  `Id` smallint NOT NULL,
  `Name` char(3) NOT NULL COMMENT 'Client country',
  PRIMARY KEY (`Id`)
)  COMMENT='Client;Client country';

CREATE TABLE `data_CriticalEventReason` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CriticalEventType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CrossJoinId` (
  `Id` smallint NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CustomerParentType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_CustomerType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL COMMENT 'Client business type',
  `BusinessType` smallint DEFAULT NULL COMMENT 'Client business type',
  PRIMARY KEY (`Id`),
  KEY `FK_data_CustomerType_BusinessType_idx` (`BusinessType`),
  CONSTRAINT `FK_data_CustomerType_BusinessType` FOREIGN KEY (`BusinessType`) REFERENCES `data_BusinessType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Client;Client business type';

CREATE TABLE `data_CustomerWOStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Department` (
  `Id` smallint NOT NULL COMMENT 'Department',
  `Name` varchar(50) NOT NULL COMMENT 'The name of department',
  PRIMARY KEY (`Id`)
)  COMMENT='Other;Data of department';

CREATE TABLE `data_DepartmentBU` (
  `Id` int NOT NULL,
  `DepartmentId` smallint NOT NULL COMMENT 'Id in the table data_Department',
  `BusinessUnit` smallint NOT NULL COMMENT 'Businessunit id. It is the id in the table data_BusinessUnit',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_DepartmentBU` (`BusinessUnit`),
  KEY `FK_data_DepartmentBU_DepartmentId` (`DepartmentId`),
  CONSTRAINT `FK_data_DepartmentBU_BusinessUnit` FOREIGN KEY (`BusinessUnit`) REFERENCES `data_BusinessUnit` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Other;Store the mappings of department and BU';

CREATE TABLE `data_DepartmentContractType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
)  AVG_ROW_LENGTH=4096;


CREATE TABLE `data_DynamicsGPCustomerID` (
  `WOBusinessUnit` varchar(50) DEFAULT NULL,
  `ClientCode` varchar(50) DEFAULT NULL,
  `GPCustomerID` varchar(50) DEFAULT NULL
)  AVG_ROW_LENGTH=163;

CREATE TABLE `data_ExhibitDStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_FDResponsibleEntityMapping` (
  `toptradeID` int DEFAULT NULL,
  `Service Type` varchar(50) DEFAULT NULL,
  `Service Category` varchar(50) DEFAULT NULL,
  `Responsibility` varchar(50) DEFAULT NULL,
  `FDLIST` varchar(50) DEFAULT NULL
) ;

CREATE TABLE `data_FacilityProjectTaskCostType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_FilterType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `Menu` varchar(50) NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `Type` smallint NOT NULL,
  `DashboardId` smallint NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_FollowUpType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Frequency` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_FundingGroup` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ClientId` int unsigned NOT NULL,
  `MaxFundingGroupNumber` int unsigned NOT NULL,
  `StartDate` datetime DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_client_Profile_Id` (`ClientId`),
  CONSTRAINT `FK_client_Profile_Id` FOREIGN KEY (`ClientId`) REFERENCES `client_Profile` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_FundingStatus` (
  `Id` smallint unsigned NOT NULL AUTO_INCREMENT,
  `Status` varchar(25) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Holiday` (
  `Id` smallint NOT NULL,
  `StartDay` date NOT NULL,
  `EndDay` date NOT NULL,
  `Notes` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_HouseOwnerDeclineReason` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_InHouseCancelReason` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `WOTypeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_InHouseCancelReason_WOTypeId` (`WOTypeId`),
  CONSTRAINT `FK_data_InHouseCancelReason_WOTypeId` FOREIGN KEY (`WOTypeId`) REFERENCES `data_WOType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_InspectionQuestionType` (
  `Id` smallint NOT NULL,
  `Name` varchar(300) NOT NULL,
  `QuestionCategoryId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_InspectionQuestionType_QuestionCategoryId` (`QuestionCategoryId`),
  CONSTRAINT `FK_data_InspectionQuestionType_QuestionCategoryId` FOREIGN KEY (`QuestionCategoryId`) REFERENCES `data_InspectionQuestionCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_InspectionScope` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `IsDefault` tinyint(1) DEFAULT '0',
  `ConfigQty` smallint DEFAULT '1',
  `IsTRPScope` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_InspectionUtilities` (
  `Id` smallint NOT NULL,
  `Name` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_InsuraceCarrier` (
  `Id` int NOT NULL,
  `Name` varchar(200) NOT NULL,
  `CreditRating` smallint DEFAULT NULL,
  `FinancialSize` smallint DEFAULT NULL,
  `RateName` varchar(40) DEFAULT NULL,
  `FinancialSizeNotes` varchar(40) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_InsuranceAttachmentType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_InsuranceSpecialist` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_InsuranceType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_InvoiceCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) DEFAULT NULL,
  `IsEnabled` tinyint(1) DEFAULT '1',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_IssuesReason` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The name of issue',
  PRIMARY KEY (`Id`)
)  COMMENT='Reactive WO, Recurrent WO;Store all the issues (issue flags on reactive wo & recurrent wo)';

CREATE TABLE `data_LableType` (
  `Id` smallint NOT NULL,
  `Name` varchar(10) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_LocationAssetCoastlineZipCode` (
  `Id` int unsigned NOT NULL AUTO_INCREMENT,
  `ZipCode` varchar(15) NOT NULL COMMENT 'ZipCode',
  `AdjustedYear` int NOT NULL DEFAULT '0' COMMENT 'Adjusted Year',
  `CreateDate` datetime NOT NULL COMMENT 'Create Date',
  `CreateUserId` int unsigned NOT NULL COMMENT 'Create UserId',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_LocationAssetCoastlineZipCode_ZipCode` (`ZipCode`)
)  COMMENT='Asset;Coastline zip code configuration;';

CREATE TABLE `data_LocationAttachmentType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_LocationProjectManagerType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_LocationResidentialStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_LocationResponsible` (
  `Id` int NOT NULL,
  `ReEntity` varchar(50) DEFAULT NULL,
  `ImgLink` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_LocationSpecialCircumstance` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_MaintenanceRole` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_MaintenanceType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `InspectionResultType` smallint DEFAULT '1',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ManagerType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_MarketGroupCoefficient` (
  `Id` int NOT NULL,
  `ZipCode` varchar(15) NOT NULL,
  `Group` varchar(10) NOT NULL,
  `Coefficient` decimal(8,6) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_data_MarketGroupCoefficient_ZipCode` (`ZipCode`)
) ;

CREATE TABLE `data_MessageChannel` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_MissedSLAReason` (
  `Id` smallint NOT NULL,
  `Name` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='SLAReason Data';


CREATE TABLE `data_Module` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The names of mudles',
  PRIMARY KEY (`Id`)
)  COMMENT='Configuration;Store the modules';

CREATE TABLE `data_NewFeatureTips` (
  `Id` smallint NOT NULL,
  `FeatureCode` smallint NOT NULL,
  `IsActive` smallint NOT NULL DEFAULT '1',
  `Remark` varchar(100) NOT NULL,
  `CreateTime` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_NewFeatureTips_FeatureCode` (`FeatureCode`)
) ;

CREATE TABLE `data_Notification` (
  `Id` int unsigned NOT NULL,
  `Name` varchar(50) DEFAULT NULL,
  `CreateDate` datetime DEFAULT NULL,
  `CreateUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_PaperworkType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_PaymentMethod` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_PaymentTerms` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_PhoneType` (
  `Id` smallint NOT NULL,
  `Name` varchar(300) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_PhotoLabelType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The names of photo label types',
  PRIMARY KEY (`Id`)
)  COMMENT='Configuration;Store the photo label types';

CREATE TABLE `data_PostponeFlag` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'Name',
  `CommunicationTemplate` varchar(150) NOT NULL COMMENT 'Communication Template for notes',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='Configuration;WO may waiting for some things, such as parts, approval, we can’t do anything for the WO and will put a postpone flag into the WO, this table store all the types of postpone.';

CREATE TABLE `data_PostponeFlagReason` (
  `Id` smallint NOT NULL,
  `Name` varchar(200) NOT NULL,
  `CustomerTypeId` smallint DEFAULT NULL COMMENT 'this filed is om customertype 1:Commercial、2:Residential',
  `WOStatusId` smallint DEFAULT NULL COMMENT 'this filed value is from wo statusId',
  `PostponeFlagId` smallint NOT NULL COMMENT '1:WaitingForParts,2:WaitingForPermit,3:WaitingOnSMS,4:SnoozedTask,5:WaitingOnOther',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `Discription` varchar(500) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_PostponeFlagReason_CustomerTypeId` (`CustomerTypeId`),
  KEY `FK_data_PostponeFlagReason_WOStatusId` (`WOStatusId`),
  CONSTRAINT `FK_data_PostponeFlagReason_CustomerTypeId` FOREIGN KEY (`CustomerTypeId`) REFERENCES `data_CustomerType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_PostponeFlagReason_WOStatusId` FOREIGN KEY (`WOStatusId`) REFERENCES `data_WOStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_PreDispatchReviewRoute` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `Alias` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_PreServiceConfirmationServiceCode` (
  `Id` smallint NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_PreServiceConfirmationServiceCode_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_data_PreServiceConfirmationServiceCode_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_PriceCalculateType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `Description` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_PriceFactorType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Priority` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `TimetoAccept` smallint NOT NULL,
  `TimetoArrive` smallint NOT NULL,
  `TimetoResolve` smallint NOT NULL,
  `AbbrName` varchar(50) NOT NULL,
  `PImg` varchar(50) NOT NULL,
  `PriorityRank` smallint DEFAULT NULL,
  `ChartShortName` varchar(50) DEFAULT NULL,
  `TimetoSchedule` smallint DEFAULT NULL,
  `TimetoQuote` smallint DEFAULT NULL,
  `TimetoResolveQuotedWork` smallint DEFAULT NULL,
  `TimetoInvoice` smallint DEFAULT NULL,
  `ChartStyle` varchar(40) DEFAULT NULL,
  `ChartColor` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_PriorityCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The name of priority category',
  PRIMARY KEY (`Id`)
)  COMMENT='RPA Redispatch;Define the category of priority';

CREATE TABLE `data_ProjectCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ProjectStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ProjectTaskType` (
  `Id` smallint NOT NULL,
  `Name` varchar(10) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ProposalInvoiceItemTag` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Purpose` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_QuestionType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_RPACInvoiceReviewCustomerType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `CreateUserId` int NOT NULL,
  `CreateDate` datetime NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_data_RPACInvoiceReviewCustomerType_Name` (`Name`)
)  COMMENT='RPAC Invoice Review;Invoice Review Customer Types Configuration, including Commercial Standard、Residential etc.';

CREATE TABLE `data_ReasonCode` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `BelongType` smallint NOT NULL DEFAULT '0' COMMENT '1:SequenceWO',
  PRIMARY KEY (`Id`)
)  COMMENT='Configuration;reason code table';

CREATE TABLE `data_ReasonType` (
  `Id` smallint NOT NULL,
  `Name` varchar(256) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ReasonsAttribute` (
  `Id` smallint NOT NULL COMMENT 'Reason enumeration',
  `SysEnumId` smallint NOT NULL COMMENT 'The id of system enumeration. data_sysenum.Id',
  `SysEnumTypeId` smallint NOT NULL COMMENT 'The id of system enumeration type. data_sysenumtype.Id',
  `GroupId` smallint NOT NULL COMMENT 'Reasons group. 1: Client, 2: Internal, 3:Resident',
  `NextStatusId` smallint DEFAULT NULL COMMENT 'Next status after choose reason',
  `CreateUserId` int unsigned NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `IsPCDAReason` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'PCDA Reason Flag',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `ID_data_ReasonsAttribute` (`SysEnumId`),
  KEY `ID_data_ReasonsAttribute_GroupId` (`GroupId`)
)  COMMENT='Other;Data of reason enumeration';

CREATE TABLE `data_RecipientType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `IsRecurrent` tinyint(1) NOT NULL DEFAULT '0',
  `IsReactive` tinyint(1) NOT NULL DEFAULT '0',
  `IsCallCenter` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_RecommendReason` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Referral` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Resolution` (
  `Id` smallint NOT NULL AUTO_INCREMENT,
  `Solution1Id` smallint NOT NULL,
  `Solution2Id` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_Resolution` (`Solution1Id`,`Solution2Id`),
  KEY `FK_data_Resolution_Solution1Id` (`Solution1Id`),
  KEY `FK_data_Resolution_Solution2Id_idx` (`Solution2Id`),
  CONSTRAINT `FK_data_Resolution_Solution1Id` FOREIGN KEY (`Solution1Id`) REFERENCES `data_Solution1` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_Resolution_Solution2Id` FOREIGN KEY (`Solution2Id`) REFERENCES `data_Solution2` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Defines resolutions which is a combination of solution1 and solution2';

CREATE TABLE `data_ResolutionCode` (
  `Id` smallint NOT NULL,
  `Name` varchar(250) DEFAULT NULL,
  `ServiceCategoryId` smallint NOT NULL,
  `Description` varchar(500) DEFAULT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ResolutionCodeAddOns` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ResolutionCodeAddOnsMapping` (
  `Id` smallint NOT NULL,
  `ResolutionCodeOneId` smallint NOT NULL,
  `ResolutionCodeAddOnsId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ResolutionCodeAddOnsMapping_ResolutionCodeAddOnsId` (`ResolutionCodeAddOnsId`),
  KEY `FK_data_ResolutionCodeAddOnsMapping_ResolutionCodeOneId` (`ResolutionCodeOneId`),
  CONSTRAINT `FK_data_ResolutionCodeAddOnsMapping_ResolutionCodeAddOnsId` FOREIGN KEY (`ResolutionCodeAddOnsId`) REFERENCES `data_ResolutionCodeAddOns` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_ResolutionCodeAddOnsMapping_ResolutionCodeOneId` FOREIGN KEY (`ResolutionCodeOneId`) REFERENCES `data_ResolutionCodeOne` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ResolutionCodeFour` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `ResolutionCodeThreeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ResolutionCodeFour_ResolutionCodeThreeId` (`ResolutionCodeThreeId`),
  CONSTRAINT `FK_data_ResolutionCodeFour_ResolutionCodeThreeId` FOREIGN KEY (`ResolutionCodeThreeId`) REFERENCES `data_ResolutionCodeThree` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ResolutionCodeOne` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `ResolutionCodeZeroId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ResolutionCodeOne_ResolutionCodeZeroId` (`ResolutionCodeZeroId`),
  CONSTRAINT `FK_data_ResolutionCodeOne_ResolutionCodeZeroId` FOREIGN KEY (`ResolutionCodeZeroId`) REFERENCES `data_ResolutionCodeZero` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ResolutionCodeThree` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `ResolutionCodeTwoId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ResolutionCodeThree_ResolutionCodeTwoId` (`ResolutionCodeTwoId`),
  CONSTRAINT `FK_data_ResolutionCodeThree_ResolutionCodeTwoId` FOREIGN KEY (`ResolutionCodeTwoId`) REFERENCES `data_ResolutionCodeTwo` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ResolutionCodeTwo` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `ResolutionCodeOneId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ResolutionCodeTwo_ResolutionCodeOneId` (`ResolutionCodeOneId`),
  CONSTRAINT `FK_data_ResolutionCodeTwo_ResolutionCodeOneId` FOREIGN KEY (`ResolutionCodeOneId`) REFERENCES `data_ResolutionCodeOne` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ResolutionCodeZero` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Resource` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `ModuleId` smallint NOT NULL,
  `ResourceTypeId` smallint NOT NULL,
  `Notes` varchar(500) DEFAULT NULL,
  `ParentId` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_Resource_ModuleId` (`ModuleId`),
  KEY `FK_data_Resource_ResourceTypeId` (`ResourceTypeId`),
  CONSTRAINT `FK_data_Resource_ModuleId` FOREIGN KEY (`ModuleId`) REFERENCES `data_Module` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_Resource_ResourceTypeId` FOREIGN KEY (`ResourceTypeId`) REFERENCES `data_ResourceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ResourceType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_RoleClientResource` (
  `Id` smallint NOT NULL,
  `RoleId` int unsigned NOT NULL,
  `ClientResourceId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_RoleClientResource _RoleId` (`RoleId`),
  KEY `FK_data_RoleClientResource_ClientResourceId` (`ClientResourceId`),
  CONSTRAINT `FK_data_RoleClientResource _RoleId` FOREIGN KEY (`RoleId`) REFERENCES `sms_Role` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_RoleClientResource_ClientResourceId` FOREIGN KEY (`ClientResourceId`) REFERENCES `data_ClientResource` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_RoleType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The name of role',
  PRIMARY KEY (`Id`)
)  COMMENT='Other;Define all the roles for client,affiliate and SMS users';

CREATE TABLE `data_RuralUrban` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_SIMGroupCoefficient` (
  `Id` smallint NOT NULL,
  `State` varchar(2) NOT NULL,
  `Group` varchar(10) NOT NULL,
  `Coefficient` decimal(8,6) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `IDX_data_SIMGroupCoefficient_State` (`State`)
) ;

CREATE TABLE `data_SLAType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_SMSZipCodeCity` (
  `Id` int NOT NULL,
  `ZipCode` varchar(7) DEFAULT NULL COMMENT 'Zipcode',
  `FacilitySMSCity` varchar(45) DEFAULT NULL COMMENT 'Commercial submarket',
  `State` varchar(2) DEFAULT NULL,
  `Metro` varchar(60) DEFAULT NULL,
  `County` varchar(50) DEFAULT NULL,
  `ResidentialCity` varchar(45) DEFAULT NULL COMMENT 'Residential submarket',
  `FacilitySMSMetro` varchar(45) DEFAULT NULL COMMENT 'Commercial market',
  `ResidentialRegion` varchar(45) DEFAULT NULL COMMENT 'Residential market',
  PRIMARY KEY (`Id`),
  KEY `ID_data_SMSZipCodeCity_ZipCode` (`ZipCode`),
  KEY `ID_data_SMSZipCodeCity_FacilitySMSCity` (`FacilitySMSCity`),
  KEY `ID_data_SMSZipCodeCity_County` (`County`)
)  COMMENT='Recommendation;Zipcode and submarket mapping';

CREATE TABLE `data_SOOnSiteTime` (
  `ServiceCategory` int DEFAULT NULL,
  `ServiceType` int DEFAULT NULL,
  `ServiceCode` int DEFAULT NULL,
  `State` varchar(5) DEFAULT NULL,
  `Region` varchar(50) DEFAULT NULL,
  `recomm_OnSiteTime` decimal(16,10) DEFAULT NULL,
  `recomm_CIL` decimal(16,10) DEFAULT NULL,
  `recomm_CIH` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_scode_rg` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_scode_rg` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_scode_rg` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_scode_st` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_scode_st` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_scode_st` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_stype_rg` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_stype_rg` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_stype_rg` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_stype_st` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_stype_st` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_stype_st` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_scat_rg` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_scat_rg` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_scat_rg` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_scat_st` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_scat_st` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_scat_st` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_scode` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_scode` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_scode` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_stype` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_stype` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_stype` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_scat` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_scat` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_scat` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_rg` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_rg` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_rg` decimal(16,10) DEFAULT NULL,
  `recomm_OnSiteTime_miss_st` decimal(16,10) DEFAULT NULL,
  `recomm_CIL_miss_st` decimal(16,10) DEFAULT NULL,
  `recomm_CIH_miss_st` decimal(16,10) DEFAULT NULL
)  COMMENT='S&O,Inactive;';

CREATE TABLE `data_ServiceCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `IsClientVisible` tinyint(1) NOT NULL DEFAULT '1',
  `IsTurnService` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`),
  KEY `ID_data_ServiceCategory_Name` (`Name`)
) ;

CREATE TABLE `data_ServiceCategoryManagerType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ServiceCode` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `ServiceTypeId` smallint NOT NULL,
  `AbbrName` varchar(100) DEFAULT NULL,
  `SkillLevelId` smallint DEFAULT '10',
  `IsClientVisible` tinyint(1) NOT NULL DEFAULT '1',
  `IsSeasonalContractEnable` tinyint(1) DEFAULT '0',
  `Description` varchar(1024) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ServiceCode_ServiceCodeId` (`ServiceTypeId`),
  KEY `FK_data_ServiceCode_SkillLevelId` (`SkillLevelId`),
  CONSTRAINT `FK_data_ServiceCode_ServiceCodeId` FOREIGN KEY (`ServiceTypeId`) REFERENCES `data_ServiceType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_ServiceCode_SkillLevelId` FOREIGN KEY (`SkillLevelId`) REFERENCES `data_SkillLevel` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ServiceCodeSalePackage` (
  `Id` smallint NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `SaleLevel` varchar(50) NOT NULL,
  `Price` decimal(18,2) NOT NULL,
  `MinArea` int NOT NULL,
  `MaxArea` int NOT NULL,
  `Frequency` smallint DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ServiceCodeSalePackage_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_data_ServiceCodeSalePackage_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ServiceCodeStateMultiplier` (
  `Id` smallint NOT NULL,
  `ServiceCodeId` smallint NOT NULL,
  `State` char(2) NOT NULL,
  `Multiplier` decimal(15,14) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_ServiceCodeStateMultiplier_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_data_ServiceCodeStateMultiplier_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_ServiceCombinationsSort` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `PortalType` smallint NOT NULL,
  `ServiceCategoryName` varchar(100) NOT NULL,
  `ServiceTypeName` varchar(100) NOT NULL,
  `ServiceCodeName` varchar(100) NOT NULL,
  `Sort` int NOT NULL,
  PRIMARY KEY (`Id`)
) ;



CREATE TABLE `data_ServiceProgram` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `Margin` decimal(4,2) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ServiceProgramItem` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `IsActive` tinyint(1) NOT NULL,
  `Version` int NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ServiceRequestCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ServiceRequestStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_ServiceType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The service type of work order',
  `ServcieCategoryId` smallint NOT NULL COMMENT 'Which Service category the service type belongs to',
  PRIMARY KEY (`Id`),
  KEY `FK_data_ServiceType_ServcieCategoryId` (`ServcieCategoryId`),
  CONSTRAINT `FK_data_ServiceType_ServcieCategoryId` FOREIGN KEY (`ServcieCategoryId`) REFERENCES `data_ServiceCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Other;The service type of work order';

CREATE TABLE `data_SkillLevel` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The name of skill level',
  PRIMARY KEY (`Id`)
)  COMMENT='Other;Define the skill levels for technicians';

CREATE TABLE `data_SmartReplyOption` (
  `Id` smallint NOT NULL,
  `Name` varchar(255) NOT NULL COMMENT 'Smart Reply Option Name',
  `ConfigMode` smallint NOT NULL COMMENT '1=BlacklistMode, 2=WhitelistMode',
  `IsActive` tinyint NOT NULL,
  `Rank` smallint NOT NULL COMMENT 'Order by Rank',
  `PortalId` smallint NOT NULL COMMENT '0=Internal, 1=Client, 2=Affiliate',
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  `ModifyDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ModifyUserId` int unsigned DEFAULT NULL,
  `SmartReplyTypeId` smallint NOT NULL DEFAULT '0' COMMENT '0=Reactive, 1=Recurrent',
  PRIMARY KEY (`Id`)
)  COMMENT='Communication;Smart Reply Option base data info';

CREATE TABLE `data_SnowAlertStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_SnowForecastStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(20) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_Solution1` (
  `Id` smallint NOT NULL AUTO_INCREMENT,
  `Name` varchar(256) NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='Defines solution1 id and name';

CREATE TABLE `data_Solution2` (
  `Id` smallint NOT NULL AUTO_INCREMENT,
  `Name` varchar(256) DEFAULT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='Defines solution2 id and name';

CREATE TABLE `data_SourceOfWO` (
  `Id` smallint NOT NULL COMMENT 'WO source',
  `Name` varchar(50) NOT NULL COMMENT 'The name of WO source',
  PRIMARY KEY (`Id`)
)  COMMENT='Reactive WO;Data of WO source';

CREATE TABLE `data_SourcingChannel` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_StateAbbr` (
  `Id` int NOT NULL,
  `Country` char(3) NOT NULL COMMENT 'Which country the state belongs to',
  `State` varchar(50) NOT NULL COMMENT 'State',
  `StateAbbr` varchar(5) NOT NULL COMMENT 'State abbreviation',
  `IsTerritory` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether territory',
  PRIMARY KEY (`Id`),
  KEY `ID_data_StateAbbr` (`StateAbbr`)
)  COMMENT='Client;State information';


CREATE TABLE `data_SurveyProjectLocationResource` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '0',
  `Description` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_SurveyProjectResource` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '0',
  `Description` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_SurveyProjectType` (
  `Id` smallint NOT NULL,
  `Name` varchar(80) NOT NULL,
  `IsClientVisible` tinyint(1) NOT NULL DEFAULT '0',
  `IsAffiliateVisible` tinyint(1) NOT NULL DEFAULT '0',
  `IsAppCanCheck` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_SysEnum` (
  `Id` smallint NOT NULL,
  `SysEnumTypeId` smallint NOT NULL COMMENT 'The types of system enumerators, it is the Id in the table data_SysEnumType',
  `Name` varchar(200) NOT NULL COMMENT 'The name of the system enum',
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'Is active',
  `Describle` varchar(500) DEFAULT NULL COMMENT 'The describrations',
  `CreateDate` datetime NOT NULL,
  `CreateUserId` int unsigned NOT NULL,
  `PortalTypeId` smallint DEFAULT NULL COMMENT '-1: not visible ,0: internal and affiliate,1: internal  only ,2: affiliate only',
  `Rank` smallint DEFAULT NULL COMMENT 'Rank',
  `ParentId` smallint DEFAULT NULL COMMENT 'The parent enum of this enum',
  PRIMARY KEY (`Id`),
  KEY `FK_data_SysEnum` (`SysEnumTypeId`),
  CONSTRAINT `FK_data_SysEnum` FOREIGN KEY (`SysEnumTypeId`) REFERENCES `data_SysEnumType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Configuration;Store all the system enumerators';

CREATE TABLE `data_SysEnumType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL COMMENT 'The name of enum type',
  PRIMARY KEY (`Id`)
)  COMMENT='Configuration;Store all the types of system enumerators';

CREATE TABLE `data_TaskCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_TaskCenterPriority` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  `PriorityRank` smallint DEFAULT NULL,
  `RefType` smallint NOT NULL DEFAULT '2',
  `RefId` smallint NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_TaskCenterReferenceType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_TaskCenterType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_TaskDependsType` (
  `Id` smallint NOT NULL,
  `Name` varchar(20) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_TaskStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(20) NOT NULL,
  `IsUsedByRehab` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_TaskSubtype` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `TaskTypeId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_TaskSubtype_TaskTypeId` (`TaskTypeId`),
  CONSTRAINT `FK_data_TaskSubtype_TaskTypeId` FOREIGN KEY (`TaskTypeId`) REFERENCES `data_TaskType` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_TaskType` (
  `Id` smallint NOT NULL,
  `Name` varchar(300) NOT NULL,
  `TaskCategoryId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FK_data_TaskType_TaskCategoryId` (`TaskCategoryId`),
  CONSTRAINT `FK_data_TaskType_TaskCategoryId` FOREIGN KEY (`TaskCategoryId`) REFERENCES `data_TaskCategory` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ;

CREATE TABLE `data_Trade` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `ID_data_Trade_Name` (`Name`)
) ;

CREATE TABLE `data_TradeServiceCode` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `TradeId` smallint NOT NULL COMMENT 'data_Trade.Id',
  `ServiceCodeId` smallint NOT NULL COMMENT 'data_ServiceCode.Id',
  `CustomerTypeId` smallint NOT NULL COMMENT 'data_CustomerType.Id',
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_TradeServiceCode` (`ServiceCodeId`,`CustomerTypeId`),
  KEY `FK_data_TradeServiceCode_TradeId` (`TradeId`),
  KEY `FK_data_TradeServiceCode_ServiceCodeId` (`ServiceCodeId`),
  CONSTRAINT `FK_data_TradeServiceCode_ServiceCodeId` FOREIGN KEY (`ServiceCodeId`) REFERENCES `data_ServiceCode` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `FK_data_TradeServiceCode_TradeId` FOREIGN KEY (`TradeId`) REFERENCES `data_Trade` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Other;The mapping of trade and service code';

CREATE TABLE `data_TriggerType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) DEFAULT NULL
) ;

CREATE TABLE `data_TrpTrade` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;


CREATE TABLE `data_UserDefinedTemplateType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_UserScheduleReason` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The name of reasons',
  `TypeId` smallint NOT NULL DEFAULT '0' COMMENT 'The types of reasons',
  PRIMARY KEY (`Id`)
)  COMMENT='Other;Store the reasons why users such OMs, technicians not at work for some days';

CREATE TABLE `data_UserSource` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL COMMENT 'The name of source',
  `Notes` varchar(500) DEFAULT NULL COMMENT 'Notes',
  PRIMARY KEY (`Id`)
)  COMMENT='Configuration;User source table';

CREATE TABLE `data_UserTitle` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_WOARIAIssueType` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  `IsActive` tinyint(1) NOT NULL DEFAULT '1' COMMENT '0:not active,1: actived',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_WOAttachmentType` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The type name of attchment type',
  PRIMARY KEY (`Id`)
)  COMMENT='Reactive WO, Recurrent WO;Store the attachment types of Wos';

CREATE TABLE `data_WOCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL COMMENT 'The name of WO category',
  `IsRecurrent` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'is recurrent wo',
  `IsEvent` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'is event WO',
  PRIMARY KEY (`Id`)
)  COMMENT='Reactive WO, Recurrent WO;Define the category of Wos';

CREATE TABLE `data_WOPreDispatchStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_WOReactiveFlag` (
  `Id` smallint NOT NULL,
  `Name` varchar(50) COLLATE utf8mb4_general_ci NOT NULL,
  `CreateDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreateUserId` int unsigned NOT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='Reactive WO; reactive wo flag enumeration table';

CREATE TABLE `data_WOReactivePlanCategory` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='Reactive WO Plan Category data';

CREATE TABLE `data_WOReactivePlanStatus` (
  `Id` smallint NOT NULL,
  `Name` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='Reactive WO Plan Status data';

CREATE TABLE `data_WOReactiveVendorLiteCommunicationType` (
  `Id` smallint NOT NULL AUTO_INCREMENT,
  `Name` varchar(50) NOT NULL,
  PRIMARY KEY (`Id`)
)  COMMENT='Communication; Used to store email and text message types in Vendor Lite';

CREATE TABLE `data_WOStatus` (
  `Id` smallint NOT NULL COMMENT 'WO status',
  `Name` varchar(50) NOT NULL COMMENT 'The name of wo status',
  `IsRecurrent` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the status is recurrent wo status',
  `IsReactive` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the status is reactive wo status',
  `IsEvent` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the status is event status',
  `CustomerWOStatusId` smallint DEFAULT NULL COMMENT 'Id of customer wo status. data_customerwostatus.Id',
  PRIMARY KEY (`Id`),
  KEY `FK_data_WOStatus_CustomerWOStatusId` (`CustomerWOStatusId`),
  CONSTRAINT `FK_data_WOStatus_CustomerWOStatusId` FOREIGN KEY (`CustomerWOStatusId`) REFERENCES `data_CustomerWOStatus` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT
)  COMMENT='Reactive WO,Recurrent WO;Data of WO status';

CREATE TABLE `data_WOTag` (
  `Id` smallint NOT NULL,
  `Name` varchar(120) NOT NULL,
  `IsRecurrent` tinyint(1) NOT NULL DEFAULT '0',
  `IsReactive` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`Id`)
) ;

CREATE TABLE `data_WOType` (
  `Id` smallint NOT NULL COMMENT 'WO type',
  `Name` varchar(50) NOT NULL COMMENT 'The name of wo type',
  `IsRecurrent` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the type is recurrent wo type',
  `IsReactive` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Wether the type is recurrent wo type',
  PRIMARY KEY (`Id`)
)  COMMENT='Reactive WO,Recurrent WO;Data of WO type';

CREATE TABLE `data_WorkItemType` (
  `Id` smallint NOT NULL,
  `Name` varchar(45) DEFAULT NULL COMMENT 'Name of the work item type',
  `Description` varchar(100) DEFAULT NULL COMMENT 'Description of the work item type',
  PRIMARY KEY (`Id`)
)  COMMENT='SNO;Table for storing different types of work items';

CREATE TABLE `data_ZipCode` (
  `Id` int NOT NULL,
  `ZipCode` char(6) NOT NULL,
  `ZipType` char(1) NOT NULL,
  `CityName` varchar(64) NOT NULL,
  `CityType` char(1) NOT NULL,
  `CountyName` varchar(64) DEFAULT NULL,
  `CountyFIPS` char(5) DEFAULT NULL,
  `StateName` varchar(64) NOT NULL,
  `StateAbbr` char(2) NOT NULL,
  `StateFIPS` char(2) DEFAULT NULL,
  `MSACode` char(4) DEFAULT NULL,
  `AreaCode` varchar(64) DEFAULT NULL,
  `TimeZone` varchar(64) DEFAULT NULL,
  `UTC` decimal(3,1) DEFAULT NULL,
  `DST` char(1) DEFAULT NULL,
  `Lat` decimal(18,7) NOT NULL,
  `Lng` decimal(18,7) NOT NULL,
  `GeoShape` geometry DEFAULT NULL,
  `GeoShapeText` text,
  `IsExistGeoShape` tinyint(1) NOT NULL DEFAULT '0',
  `CBSAId` smallint NOT NULL,
  PRIMARY KEY (`Id`),
  UNIQUE KEY `UK_data_ZipCode_ZipCode` (`ZipCode`),
  KEY `ID_data_ZipCode_StateAbbr` (`StateAbbr`)
) ;


